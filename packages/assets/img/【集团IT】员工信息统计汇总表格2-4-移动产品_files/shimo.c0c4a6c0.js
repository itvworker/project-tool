(window.webpackJsonplizard_service_file_header=window.webpackJsonplizard_service_file_header||[]).push([[7],[,function(e,t,n){"use strict";var a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},s=this&&this.__awaiter||function(i,a,s,c){return new(s=s||Promise)(function(e,t){function n(e){try{o(c.next(e))}catch(e){t(e)}}function r(e){try{o(c.throw(e))}catch(e){t(e)}}function o(t){t.done?e(t.value):new s(function(e){e(t.value)}).then(n,r)}o((c=c.apply(i,a||[])).next())})},c=this&&this.__generator||function(n,r){var o,i,a,e,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,i&&(a=2&t[0]?i.return:t[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,t[1])).done)return a;switch(i=0,a&&(t=[2&t[0],a.value]),t[0]){case 0:case 1:a=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,i=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){s.label=t[1];break}if(6===t[0]&&s.label<a[1]){s.label=a[1],a=t;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(t);break}a[2]&&s.ops.pop(),s.trys.pop();continue}t=r.call(n,s)}catch(e){t=[6,e],i=0}finally{o=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},l=this;Object.defineProperty(t,"__esModule",{value:!0});function f(e){return r[e]||(r[e]=o()),r[e]}var m=n(294),h=n(568),b="zh-CN",r={};t.getS18n=f;function g(){r={}}t.DEBUG_reset=g;function _(){return r}t.DEBUG_getInstances=_;var o=function(){function o(e,t){if(!m.isValidLocaleResource(t))throw new Error("fetched locale resource is invalid");d[e]=a({},d[e]||{},t)}function r(n,r){return s(l,void 0,void 0,function(){var t;return c(this,function(e){switch(e.label){case 0:return!r&&d[n]?[3,2]:i?[4,i(n)]:[3,2];case 1:t=e.sent(),o(n,t),e.label=2;case 2:return[2]}})})}function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if("string"==typeof e[0]){var n=e[0],r=e[1],o=r&&"string"==typeof r._?r._:void 0,i=o?n+"#"+o:n;if(!i)return"";var a=h.getTextResult(i,d[u]);if("string"==typeof a)return a;var s=h.getTextResult(i,d[p]);return"string"==typeof s?s:n}if(e[0]&&"number"==typeof e[0].length){var c=e[0],l=e.slice(1);return h.getInterpolateResult(c,l,d[u])||h.getInterpolateResult(c,l,d[p])||h.interweave(c,l)}return""}var n,i,u=b,p=b,d={};return e.configure=function(e){if(e.fetchLocale){if("function"!=typeof e.fetchLocale)throw new TypeError("fetchLocale should be an async function that resolves with locale resource");i=e.fetchLocale}if(e.fetchLocaleSync){if("function"!=typeof e.fetchLocaleSync)throw new TypeError("fetchLocaleSync should be a function that returns locale resource");n=e.fetchLocaleSync}},e.addLocaleResource=o,e.setLocaleAsync=function(t,n){return s(l,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:if("string"!=typeof t)throw new Error("'locale' is required");return[4,r(t)];case 1:return e.sent(),u=t,"string"==typeof n&&(r(n),p=n),[2]}})})},e.setLocaleSync=function(e){if("string"!=typeof e)throw new Error("'locale' is required");if(n){var t=n(e);o(e,t)}u=e},e.getLocale=function(){return u},e.DEBUG_getLocaleResources=function(){return d},e.getS18n=f,e.DEBUG_reset=g,e.DEBUG_getInstances=_,e},i=f("__default_namespace__");e.exports=i,t.default=i},,,,function(e,R,D){"use strict";(function(s){var e=D(2),t=e.__importDefault(D(1)),n=D(666),r=D(228);R.constants=r;var o=D(162);R.fileTypes=o;var i=D(124);R.genGuid=i;var a=D(124);R.genToken=a;var c=D(124);R.getLocalIP=c;var l=D(124);R.logTimeDiff=l;var u=D(124);R.md5=u;var p=D(667),d=e.__importStar(D(328)),f=e.__importStar(D(164)),m=D(672),h=D(673),b=D(674);function g(e){if(/(shimo-(iphone|android)-app)/.test(e))return e;var t=new n(e).getResult();return t.os.name+" "+t.os.version+"/"+t.browser.name}function _(e){return"string"==typeof e?e.toLowerCase():e&&e.headers&&"string"==typeof e.headers["user-agent"]?e.headers["user-agent"].toLowerCase():""}function v(e){var t=_(e);return!t.match(/micromessenger.*?windowswechat/)&&/(iphone|ipod|ipad|android|windows phone|micromessenger)/i.test(t)}function y(e){var t=_(e);return/android/i.test(t)}function E(e){var t=_(e);return/iphone|ipod|ipad/i.test(t)}function O(e){return w(e)||S(e)}function x(e){return w(e)?"ios":S(e)?"android":v(e)?"mobile":"web"}function T(e){return/mobile.*dingtalk/.test(_(e))}function C(e){return/dingTalk\([^)]+\)/i.test(_(e))}function w(e){return/(shimo-iphone-app)/.test(_(e))}function S(e){return/(shimo-android-app)/.test(_(e))}function j(e){return/wxwork/.test(_(e))}R.reg={guid:/^[0-9A-Za-z]{16}$/,word:/^[a-zA-Z]+$/,number:/^\d+$/,integer:/^\d+$/,float:/^\d+(?:\.\d+){1}$/,email:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,url:/^(http[s]?:\/\/(www\.)?|ftp:\/\/(www\.)?|www\.){1}([0-9A-Za-z-.@:%_+~#=]+)+((‌\.[a-zA-Z]{2,3})+)(\/(.)*)?(\?(.)*)?/g,externalGuid:/\b[A-F0-9]{8}(?:-[A-F0-9]{4}){3}-[A-F0-9]{12}\b/i,sha1:/^[a-zA-Z0-9]{40}$/,openId:/^[a-zA-z0-9-_]{28}$/,hasIt:/.*/,apnToken:/^[0-9a-f]{64}$/},R.isGuid=function(e){return R.reg.guid.test(e)},R.parseUserAgent=g,R.parseUseragent=g,R.getIp=function(e){return h(e,"headers.x-forwarded-for")||h(e,"connection.remoteAddress")||h(e,"ip")||""},R.isMobile=v,R.isAndroidMobile=y,R.isiOSMobile=E,R.isFromApp=O,R.getRegisterType=x,R.getRegisterTypeDetail=function(e){if(N(e))return"wechat";if(T(e)||C(e))return"dingtalk";if(j(e))return"wework";var t=x(e);if("mobile"!==t)return t;var n=y(e),r=E(e);return n?"mobile.android":r?"mobile.ios":t},R.getAccessPlatform=function(e){var t=_(e);return/wxwork/.test(t)?"wework":/micromessenger/.test(t)?"wechat":/mobile.*dingtalk/.test(t)||/dingTalk\([^)]+\)/i.test(t)?"dingtalk":/iphone.*(shimo-iphone-app)/.test(t)?"iphone":/ipad.*(shimo-iphone-app)/.test(t)?"ipad":/(shimo-android-app)/.test(t)?"android":e.headers&&"lizard-desktop"===e.headers["x-source"]?"desktop":"dbe25f244146bf07ec84"===f.parse(e.url||"",!0).query.client_id?"mini_program":!/micromessenger.*windowswechat/.test(t)&&/(iphone|ipod|ipad|android|windows phone|micromessenger)/i.test(t)?"mobile":/(mozilla|opera)/.test(t)?"web":"unknow"},R.isDingTalkMobile=T,R.isDingTalkPC=C,R.isIphoneApp=w,R.isAndroidApp=S,R.isWework=j;var I={folder:"folder/",spreadsheet:"spreadsheet/",sheet:"sheet/",document:"doc/",newdoc:"docs/",mosheet:"sheet/",slide:"slides/",mindmap:"mindmaps/",form:"forms/",board:"boards/",modoc:"docx/"};R.redirectByType=function(e,t,n){var r=e.req.query.ref,o=n?"/m/":"/",i=I[R.convertFileTypeToEnum(t.type)],a=-1<o.indexOf("?")?"&":"?",s=r?a+"ref="+r:"";return e.redirect(o+i+t.guid+s)};var A={"-1":"spreadsheet","-2":"newdoc","-3":"sheet","-4":"mosheet","-5":"slide","-6":"modoc","-7":"mindmap","-8":"form","-9":"board",0:"document",1:"folder"};function k(e){return"string"==typeof e?e:A[e]}function N(e){var t=e.headers["user-agent"]||"";return/micromessenger/i.test(t)&&!/micromessenger.*?windowswechat/.test(t)}function P(e,t){return!isFinite(t)||e.length<=t?e:e.slice(0,t)+"…"}R.convertFileTypeToEnum=k,R.isFileTypesEqual=function(e,t){return k(e)===k(t)},R.isFromWechat=N,R.STATIC_IMAGE_PATH="/static/unmd5/",R.defaultAnonymousUser={name:t.default("路人"),avatar:"https://assets.smcdn.cn/static/unmd5/default-avatar-luren.2.png"},R.genRandomAvatar=function(){return"https://assets.smcdn.cn/static/unmd5/default-avatar-moke.2.png"},R.statisFileCache={},R.isGeneratorFunction=b,R.selectParams=function(e,n){var t=d.stringify(p(e,function(e,t){return Array.isArray(n)?-1<n.indexOf(t):t in n}));return t.length?"?"+t:t},R.truncateStr=P,R.getShortString=P,R.stringifyJson=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return JSON.stringify(e[0],e[1],e[2]).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},R.getFileType=function(e){var t=o.find(e);if(t)return t.display;throw new Error("unknown file type: "+e)},R.transformFileType=function(e,t){return"number"==typeof e&&"string"!=typeof t&&(t="string"),(o.find(e)||o.document)["string"===t?"name":"id"]},R.hashids=function(e,t,n){return new m(e||"hash salt goes here",t||20,n||"ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890")},R.bufferConcat=function(e,t){var n=s.alloc(0);switch(e.length){case 0:break;case 1:n=e[0];break;default:n=s.alloc(t);for(var r=0,o=0,i=e.length;r<i;++r){var a=e[r];a.copy(n,o),o+=a.length}}return n},R.getAppVersion=function(e){if(O(e)){var t=_(e).match(/shimodocsrn\/\d\.\d\.\d/);if(t&&t.length)return t[0].split("/")[1]}}}).call(this,D(662).Buffer)},function(e,x,T){"use strict";(function(t,e){T.d(x,"e",function(){return f}),T.d(x,"c",function(){return m}),T.d(x,"j",function(){return h}),T.d(x,"g",function(){return b}),T.d(x,"f",function(){return g}),T.d(x,"i",function(){return _}),T.d(x,"b",function(){return v}),T.d(x,"a",function(){return y}),T.d(x,"d",function(){return E}),T.d(x,"h",function(){return O});var s=T(2),n=T(162),r=T.n(n),c=T(16),o=T(31),i=T.n(o),a=T(49),l=T.n(a),u=T(59),p=T(229),d=new p.TinyEmitter;function f(e,t){var n={};return e.forEach(function(e){n[e]=void 0}),Object(c.Record)(i()(n,t))}function m(o,i){void 0===i&&(i=l.a);function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=i.apply(void 0,Object(s.__spread)(e)),r={type:o};return void 0!==n&&(r.payload=n),"function"==typeof n&&(r.args=e),r}return e.toString=function(){return void 0!==t&&t&&t.env,o},e.payload=function(e){return{type:o,payload:e}},e.reply=function(e,t){return{type:o,payload:{args:e,result:t}}},e}function h(e){var t=e.local,n=e.remote;return t?t.then(function(t){return n.catch(function(e){if(401===e.status||403===e.status||404===e.status||410===e.status)throw e;return t})}).catch(function(){return n}).then(function(){}):n}Object(u.createSelectorCreator)(function(r){function o(e,t){return Object(c.is)(e,i&&i[t])}var i=null,a=null;return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(null===i||i.length!==e.length||!e.every(o)){var n=r.apply(void 0,Object(s.__spread)(e));Object(c.is)(n,a)||(a=n)}return i=e,a}});function b(i,a){return function(e,t){void 0===e&&(e=i);var n=t.type,r=t.payload,o=a[n];return o?o(e,r):e}}function g(){return"production"}function _(e,t){"error"!==e&&"warn"!==e||d.emit(e,t)}function v(e){return r.a.find(e)?r.a.find(e).name:e}var y=20,E=function(e){void 0===e&&(e=100);var t=2;return{page:function(){return t},addPage:function(){t++},pageSize:function(){return e},resetPage:function(){t=2}}};function O(e){return Boolean(c.List.isList(e)||c.Map.isMap(e)||c.Set.isSet(e)||c.OrderedSet.isOrderedSet(e)||c.OrderedMap.isOrderedMap(e))}}).call(this,T(78),T(67))},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(486),o=Object(r.initActionTypes)({LOGOUT:"",REMOVE_CURRENT_USER:"",REGISTER:"",GENERIC_LOGIN:"",LOGIN_WITH_CORS_SESSION:"",SET_CURRENT_USER:"",GET_USER:"",GET_USER_BY_EMAIL:"",GET_USER_BY_MOBILE:"",GET_WECHAT_BINDING_STATUS:"",BIND_WECHAT:"",UNBIND_WECHAT:"",UPDATE_EMAIL:"",BIND_ACCOUNT_EMAIL:"",CHECK_REGISTRATION_BY_EMAIL:"",CHECK_REGISTRATION_BY_MOBILE:"",UPDATE_USERNAME:"",GET_RECENT_CONTACTS:"",DELETE_RECENT_CONTACT:"",GET_ADD_USER_INVITATION_LINK:"",CLOSE_INVITATION_LINK:"",OPEN_INVITATION_LINK:"",GET_TEAM_FROM_INVITATION_LINK:"",INVITE_TEAM_MEMBERS:"",RESET_PASSWORD:"",RESET_PASSWORD_BY_CODE:"",UPDATE_PASSWORD:"",UPDATE_AVATAR:"",SEARCH_RECENT_CONTACTS_AND_TEAM_MEMBERS:"",SEND_MOBILE_CAPTCHA:"",SEND_EMAIL_CAPTCHA:"",GET_GEETEST_CAPTCHA:"",VERIFY_CAPTCHA:"",VERIFY_ACCOUNT_PASSWORD:"",BIND_MOBILE_NUMBER:"",BIND_MOBILE_ACCOUNT:"",UPDATE_MOBILE:"",SET_MERGE_VIEWED:"",MERGE_ACCOUNT:"",GET_BINDING_INFO_BY_CODE:"",GET_BINDING_INFO_BY_EMAIL:"",GET_BINDING_INFO_BY_MOBILE:"",SET_ANONYMOUS_USER:"",GET_TEAM_SETTINGS_BY_URL:"",GET_ACTIVITIES_LIST:"",STAR_FILE:"",UNSTAR_FILE:"",MUTE_FILE:"",UNMUTE_FILE:"",UPDATE_FILE_NAME:"",UPDATE_FILE_SHARE_MODE:"",SET_FILE_PASSWORD_PROTECTED:"",SET_FILE_PASSWORD_UNPROTECTED:"",UPDATE_FILE_SHARE_PASSWORD:"",GET_STARRED_FILES:"",GET_DELETED_FILES:"",GET_RECENT_FILES:"",GET_USED_FILES:"",GET_UPDATED_FILES:"",GET_CREATED_FILES:"",GET_SHARED_FILES:"",GET_UNREAD_SHARED_FILES:"",GET_FILE_CHILDREN:"",GET_FILE:"",GET_FILES_GUIDE:"",CREATE_FILE:"",CREATE_FILE_SYNCHRONOUSLY:"",DUPLICATE_FILE:"",DUPLICATE_FILES:"",REMOVE_FILE:"",REMOVE_FILES:"",DELETE_TRASH:"",CANCEL_DELETE:"",MARK_FILE:"",MARK_ALL_SHARED_FILES:"",EXIT_FILE:"",MOVE_FILES:"",MOVE_FILE:"",SORT_FILE:"",SEARCH_FILE:"",SAVE_TEMPLATE:"",GET_TEMPLATE_LIMITS:"",GET_FILE_ANCESTORS:"",GET_WECHAT_SHARE_LINK:"",GET_WECHAT_SHARE_QR_LINK:"",GET_SHORTCUTS:"",CREATE_SHORTCUT:"",UPDATE_SHORTCUT:"",REMOVE_SHORTCUT:"",UPDATE_CURRENT_FOLDER:"",BG_SYNC_FILE:"",PUSH_DESTROY_FILE:"",PUSH_CREATE_FILE:"",PUSH_CHECK_FILE_MOVED:"",PUSH_SORT_FILE:"",PUSH_STAR_FILE:"",PUSH_UNSTAR_FILE:"",PUSH_MARK_FILE:"",PUSH_MARK_ALL_FILES_WITH_IDS:"",PUSH_UPDATE_COLLABORATOR_COUNT:"",VERIF_PASSWORD:"",VALIDATE_PASSWORD:"",IS_INCLUDE_LINK_FILE:"",DO_EXPORT_FILE:"",GET_CONTENT:"",SET_CONTENT:"",REMOVE_CONTENT:"",LOCK_CONTENT:"",UNLOCK_CONTENT:"",BG_SYNC_CONTENT:"",PULL_FILE_CONTENTS:"",GET_PENDING_CHANGES:"",BULK_RESTORE:"",RESTORE_DIFF:"",RECOVER_STATE_BY_REMOVING_DIFF:"",RECOVER_STATE_BY_MARKING_MODEL:"",RESTORE_SCHEMA:"",PERSIST:"",MERGE_ENTITIES:"",LOCAL_SYNC:"",API_REQUEST:"",SET_UNPEEKED_COUNT:"",GET_UNPEAKED_NOTIFICATION_COUNT:"",GET_UNREAD_NOTIFICATION_COUNT:"",GET_NOTIFICATIONS:"",MARK_NOTIFICATIONS_READ:"",MARK_NOTIFICATIONS_ALL_READ:"",GET_COLLABORATORS:"",ADD_COLLABORATOR:"",REMOVE_COLLABORATOR:"",UPDATE_COLLABORATOR_ROLE:"",TRANSFER_OWNER_ROLE:"",ADD_COLLABORATORS:"",GET_SPACE_COLLABORATORS:"",GET_EXTRA_CHILDREN_COLLABORATORS:"",ADD_SPACE_COLLABORATORS:"",REMOVE_SPACE_COLLABORATOR:"",ACCEPT_TEAM_INVITATION:"",JOIN_TEAM_BY_INVITE_GUID:"",GET_TEAM_MEMBERS:"",ADD_TEAM_MEMBERS:"",SEARCH_TEAM_MEMBERS:"",GET_MY_TEAM:"",GET_MY_TEAM_ORDERS:"",SET_ANONYMOUS_TEAM:"",MARK_DATA_LOADED:"",INCREASE_PENDING_REQUESTS:"",DECREASE_PENDING_REQUESTS:"",SET_ONLINE_STATUS:"",SET_PHYSICAL_ONLINE_STATUS:"",PARTIALLY_SYNCHRONIZATION:"",FULL_SYNCHRONIZATION:"",GET_WECHAT_BINDING_QRCODE:"",GET_WECHAT_BINDING_URL:"",GET_WECHAT_INVITE_INFO:"",WIN_PERSONAL_PREMIUM_VERSION:"",WECHAT_REWARDED:"",WECHAT_REWARD_BY_INVITOR:"",WECHAT_NO_REWARD:"",GET_WECHAT_SCAN_INFO:"",GET_USER_GUIDE_INFO:"",UPDATE_USER_GUIDE_INFO:"",GET_FLASH_MESSAGES:"",SET_FLASH_MESSAGE_READ:"",GET_BLUE_TIP:"",CLOSE_BLUE_TIP:"",GET_BULLETIN:"",CLOSE_BULLETIN:"",UPDATE_MAINTENANCE:"",GET_ALPHA_FEATURES:"",GET_ALPHA_FEATURES_BY_URL:"",GET_SUBSCRIPTIONS:"",SWITCH_SUBSCRIPTIONS:"",START_RECEIVE_DISCUSSIONS:"",STOP_RECEIVE_DISCUSSIONS:"",GET_DISCUSSIONS:"",SEND_DISCUSSION:"",MARK_VIEWED_DISCUSSIONS:"",PUSH_CREATE_DISCUSSION:"",PUSH_DELETE_DISCUSSION:"",GET_TEMPLATES:"",CREATE_FILE_BY_TEMPLATE:"",GET_SETTINGS:"",SET_SETTINGS:"",PRELOAD:"",DEMO_FILE:"",GET_SPACES:"",GET_SPACE_TEAM:"",CREATE_SPACE:"",UPDATE_SPACE:"",COVERT_TO_SPACE:"",GET_SUB_DEPT:"",GET_COLLABDEPTS:"",ADD_COLLABDEPTS:"",REMOVE_COLLABDEPT:"",UPDATE_COLLABDEPT_ROLE:"",SPACE:{GET_SIZE:"",SORT:""},LOCK_FILE:"",UNLOCK_FILE:"",GET_WATERMARK:"",UPDATE_TEAM_INFO:"",CREATE_TEAM:"",GET_FILE_CREATOR:"",REMOVE_FILE_SHORTCUT:"",GET_SCRIPTS:"",EXECUTE_SCRIPTS:""},"$SOS","_")},function(e,h,b){"use strict";b.r(h),function(v){b.d(h,"request",function(){return i}),b.d(h,"get",function(){return a}),b.d(h,"post",function(){return s}),b.d(h,"patch",function(){return c}),b.d(h,"put",function(){return l}),b.d(h,"head",function(){return d}),b.d(h,"destroy",function(){return f}),b.d(h,"encodeFormData",function(){return m});var y=b(2),e=b(1),E=b.n(e),t=b(31),O=b.n(t),x=b(42),n=b(487),r=b(6),u=b(112),T=b(22),o=b(7),C="SOS/"+n.a;function p(t,n,e){var r,o=e.body,i=e.getToken,a=e.fetchConfig,s=e.pushClientId,c=e.userAgent,l=e.timeout,u=e.schema,p=e.debugDelay,d=(e.debugLog,e.geetestHeaders),f=e.customHeaders,m=e.emitter,h=e.allocateResponse,b=e.token||i(),g={Accept:"application/vnd.shimo.v2+json","Cache-Control":"no-cache","x-requested-with":"XmlHttpRequest"};void 0!==v&&"env"in v||(g["User-Agent"]=c?C+" "+c:C),b&&(g.Authorization="Bearer "+b),o&&(r="string"==typeof o?(g["Content-Type"]="application/x-www-form-urlencoded; charset=utf-8",o):(g["Content-Type"]="application/json",JSON.stringify(o))),s&&(g["X-PUSH-CLIENT-ID"]=s),f&&(g=O()(g,f)),d&&(g["X-Geetest-Challenge"]=d.geetest_challenge,g["X-Geetest-Validate"]=d.geetest_validate,g["X-Geetest-Seccode"]=d.geetest_seccode),m.emit("request.send",{url:n,method:t,headers:g,body:r});var _=fetch(n,O()({method:t,headers:g,body:r},a)).catch(function(e){return m.emit("request.error",{url:n,method:t,headers:g,body:o,error:e}),Promise.reject(O()(e,{offline:!0}))}).then(function(e){return h&&h(e),function(n,e){var r=n.status;if(200<=r&&r<300)return setTimeout(function(){return null},0),function(e){return 204===e||205===e||304===e}(r)?null:n.json();var o=0===r||502===r||503===r||504===r;if(o){var t=n.statusText?n.statusText+" ["+r+"]":r,i=new Error(E()(w=w||Object(y.__makeTemplateObject)(["暂时无法连接到服务器（","）"],["暂时无法连接到服务器（","）"]),t));return Promise.reject(O()(i,{response:n,status:r,offline:o}))}401===r&&e.emit("auth.failure");return n.json().catch(function(){return null}).then(function(e){var t=new Error(e&&e.error||E()(S=S||Object(y.__makeTemplateObject)(["请求异常，请稍后重试（","）"],["请求异常，请稍后重试（","）"]),r));return Promise.reject(O()(t,{response:n,status:r,offline:o,body:e}))})}(e,m)});return b&&!e.token&&(_=_.then(function(e){return b===i()?e:Promise.reject(new Error(E()("登录状态发生改变，网络请求已被终止")))})),u&&(_=_.then(function(e){var o=e.schema,i=e.dispatch,a=e.transformResponseBody;return function(e){var t=Object(x.wormalize)(a?a(e):e,o),n=t.result,r=t.entities;return i(Object(T.c)(n,o,r)).then(function(){return i(Object(T.b)(r)),n})}}(e))),l&&(_=Promise.race([_,new Promise(function(e,t){setTimeout(function(){t(new Error("timeout"))},l)})])),p?function(t){return new Promise(function(e){return setTimeout(e,t)})}(p).then(function(){return _}):_}var w,S,i=function(l){return Object(r.c)(o.a.API_REQUEST,function(s,c){return void 0===c&&(c={}),function(e){var t=e.api,n=e.getState,r=e.dispatch,o=e.emitter,i=n().status;if(i.online||c.bypassOnlineChecking)return c.background||r(Object(u.b)()),t.isIE&&(-1===s.indexOf("?")?s+="?_="+(new Date).getTime():s+="&_="+(new Date).getTime()),p(l,""+t.prefix+s,O()({},c,{dispatch:r,getToken:function(){return n().me.get("token")},fetchConfig:t.fetchConfig,debugDelay:t.debugDelay,debugLog:t.debugLog,userAgent:t.userAgent,customHeaders:t.customHeaders,pushClientId:i.pushClientId,emitter:o})).then(function(e){return c.background||r(Object(u.a)()),r(Object(u.c)(!0)),e}).catch(function(e){throw c.background||r(Object(u.a)()),r(Object(u.c)(!e.offline)),e});var a=new Error(E()("暂时无法连接到服务器"));return Promise.reject(O()(a,{offline:!0,status:0}))}})},a=i("GET"),s=i("POST"),c=i("PATCH"),l=i("PUT"),d=i("HEAD"),f=i("DELETE"),m=function(t){return Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&")}}.call(this,b(78))},function(e,t,n){"use strict";n.d(t,"h",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"g",function(){return i}),n.d(t,"f",function(){return a}),n.d(t,"d",function(){return s}),n.d(t,"c",function(){return c}),n.d(t,"a",function(){return l}),n.d(t,"e",function(){return u});var r="#676b6f",o="#333",i="#666",a="#a5a5a5",s="#ccc",c="#ddd",l="#e5e5e5",u="#f7f7f7";t.i={SHIMO_120:"#2c3033",SHIMO_110:"#363b3e",SHIMO_100:"#41464b",SHIMO_80:r,SHIMO_50:"#a0a2a5",SHIMO_30:"#c6c7c9",SHIMO_20:"#d9dadb",SHIMO_10:"#ececed",BLACK_120:"#000",BLACK_110:o,BLACK_100:"#494949",BLACK_80:i,BLACK_50:a,BLACK_30:s,BLACK_20:c,BLACK_10:l,BLACK_5:u,BLUE_120:"#6886aa",BLUE_110:"#6290cc",BLUE_100:"#6da0e3",BLUE_50:"#abc7ee",BLUE_30:"#d8ebff",BLUE_20:"#e2ecf9",RED_120:"#cd4747",RED_100:"#e95555",RED_30:"#f8cccc",RED_20:"#fbdddd",RED_10:"#fceeee",YELLOW_100:"#f5d57a",YELLOW_70:"#f8e1a1",YELLOW_30:"#fcf2d7",YELLOW_20:"#fdf7e5",GREEN_100:"#66b165"}},function(e,t,n){"use strict";var r=n(80),o=n.n(r),i=n(60);t.a={success:function(e,t){if("object"===(void 0===e?"undefined":o()(e)))return i.b.Toast.success(e);i.b.Toast.success({content:e,autoClose:t})},error:function(e,t){if("object"===(void 0===e?"undefined":o()(e)))return i.b.Toast.error(e);i.b.Toast.error({content:e,autoClose:t})},warning:function(e){return i.b.Toast.warning(e)},closeAll:function(){i.b.Toast.closeAll()},destroy:function(){i.b.Toast.closeAll()},config:function(){},ToastsContainer:i.b.ToastsContainer}},,,,,,,function(e,t,n){"use strict";var r=n(91),o=n.n(r),i=n(31),a=n.n(i),s=n(1),c=n.n(s),l={100001:{moduleName:c()("工作台"),submoduleName:c()("最近更新"),actionName:c()("点击")},100002:{moduleName:c()("工作台"),submoduleName:c()("最近使用"),actionName:c()("点击")},100003:{moduleName:c()("工作台"),submoduleName:c()("我创建的"),actionName:c()("点击")},100004:{moduleName:c()("工作台"),submoduleName:c()("共享给我的"),actionName:c()("点击")},100005:{moduleName:c()("桌面右侧"),submoduleName:c()("新建"),actionName:c()("点击新建按钮")},100006:{moduleName:c()("桌面右侧"),submoduleName:c()("新建"),actionName:c()("点击文档按钮")},100007:{moduleName:c()("桌面右侧"),submoduleName:c()("新建"),actionName:c()("点击表格按钮")},100008:{moduleName:c()("桌面右侧"),submoduleName:c()("新建"),actionName:c()("点击文件夹按钮")},100009:{moduleName:c()("桌面右侧"),submoduleName:c()("导入"),actionName:c()("点击导入按钮")},100010:{moduleName:c()("桌面右侧"),submoduleName:c()("快速访问"),actionName:c()("点击")},100011:{moduleName:c()("我的桌面"),submoduleName:c()("文件菜单"),actionName:c()("点击")},100012:{moduleName:c()("模板"),submoduleName:c()("文档"),actionName:""},100013:{moduleName:c()("模板"),submoduleName:c()("表格"),actionName:""},100014:{moduleName:c()("模板"),submoduleName:c()("幻灯片"),actionName:""},100015:{moduleName:c()("桌面右侧"),submoduleName:c()("新建"),actionName:c()("点击从模板新建按钮")},100016:{moduleName:c()("模板"),submoduleName:"",actionName:c()("关闭模板弹层")},100017:{moduleName:c()("模板"),submoduleName:c()("自定义模板"),actionName:""},100018:{moduleName:c()("自定义模板"),submoduleName:c()("重命名模板"),actionName:""},100019:{moduleName:c()("自定义模板"),submoduleName:c()("删除模板"),actionName:""},100023:{moduleName:c()("我的桌面"),submoduleName:c()("协作面板"),actionName:c()("添加协作者")},100024:{moduleName:c()("我的桌面"),submoduleName:c()("协作面板"),actionName:c()("添加")},100025:{moduleName:c()("我的桌面"),submoduleName:c()("协作面板"),actionName:c()("添加微信好友")},100026:{moduleName:c()("工作台"),submoduleName:c()("卡片"),actionName:c()("收藏")},100027:{moduleName:c()("工作台"),submoduleName:c()("卡片"),actionName:c()("取消收藏")},100032:{moduleName:c()("工作台"),submoduleName:"",actionName:c()("加载失败")},100037:{moduleName:c()("我的桌面"),submoduleName:c()("文件列表"),actionName:c()("打开文件")},100076:{moduleName:"",submoduleName:"",actionName:c()("加载时间")},100077:{moduleName:c()("顶栏"),submoduleName:c()("搜索框"),actionName:c()("搜索")},100078:{moduleName:c()("顶栏"),submoduleName:c()("搜索结果"),actionName:c()("点击结果")},100079:{moduleName:c()("顶栏"),submoduleName:c()("搜索结果"),actionName:c()("无结果")},100080:{moduleName:c()("顶栏"),submoduleName:c()("搜索结果"),actionName:c()("出错")},100081:{moduleName:c()("顶栏"),submoduleName:c()("搜索结果"),actionName:c()("未点击")},100082:{moduleName:c()("顶栏"),submoduleName:c()("搜索框"),actionName:c()("输入")},100083:{moduleName:c()("我的桌面"),submoduleName:c()("我的桌面平铺"),actionName:c()("拖拽排序")},100084:{moduleName:c()("我的桌面"),submoduleName:c()("我的桌面平铺"),actionName:c()("拖拽移动")},100085:{moduleName:c()("我的桌面"),submoduleName:c()("快速访问列表"),actionName:c()("拖拽添加快速访问")},100086:{moduleName:c()("桌面右侧"),submoduleName:c()("快速访问列表"),actionName:c()("拖拽删除快速访问")},100087:{moduleName:c()("桌面右侧"),submoduleName:c()("快速访问列表"),actionName:c()("拖拽快速访问排序")},100088:{moduleName:c()("我的桌面"),submoduleName:c()("桌面列表"),actionName:c()("拖拽文件")},100089:{moduleName:"",submoduleName:"",actionName:c()("拖拽失败")},100090:{moduleName:c()("我的桌面"),submoduleName:c()("我的桌面列表"),actionName:c()("拖拽移动")},100091:{moduleName:c()("裂变入口"),submoduleName:c()("我的桌面"),actionName:c()("点击邀请")},110001:{actionName:c()("页面访问"),moduleName:"",actionParam:""},110002:{actionName:c()("点击「返回石墨文档」"),moduleName:c()("左侧目录树"),actionParam:""},110003:{actionName:c()("点击文件夹/子文件夹"),moduleName:c()("左侧目录树"),actionParam:""},110004:{actionName:c()("点击「回收站」"),moduleName:c()("左侧目录树"),actionParam:""},110005:{actionName:c()("点击上传按钮"),moduleName:c()("中部导航"),actionParam:""},110006:{actionName:c()("点击子菜单选项"),moduleName:c()("中部导航"),actionParam:""},110007:{actionName:c()("点击面包屑"),moduleName:c()("中部导航"),actionParam:""},110008:{actionName:c()("点击设置按钮"),moduleName:c()("中部导航"),actionParam:""},110009:{actionName:c()("点击切换排序"),moduleName:c()("中部导航"),actionParam:""},110010:{actionName:c()("点击切换列表/宫格"),moduleName:c()("中部导航"),actionParam:""},110011:{actionName:c()("（多选后）点击预览"),moduleName:c()("中部导航"),actionParam:""},110012:{actionName:c()("（多选后）点击删除"),moduleName:c()("中部导航"),actionParam:""},110013:{actionName:c()("（多选后）点击移动"),moduleName:c()("中部导航"),actionParam:""},110014:{actionName:c()("（多选后）点击更多"),moduleName:c()("中部导航"),actionParam:""},110015:{actionName:c()("（多选后）点击更多 dropdown 中的选项"),moduleName:c()("中部导航"),actionParam:""},110016:{actionName:c()("点击打开文件/文件夹"),moduleName:c()("中部文件区域"),actionParam:""},110017:{actionName:c()("多选文件/文件夹"),moduleName:c()("中部文件区域"),actionParam:""},110018:{actionName:c()("点击文件/文件夹设置按钮"),moduleName:c()("中部文件区域"),actionParam:""},110019:{actionName:c()("无数据时，点击上传按钮"),moduleName:c()("中部文件区域"),actionParam:""},110020:{actionName:c()("右键单击"),moduleName:c()("右键"),actionParam:""},110021:{actionName:c()("点击 dropdown 选项"),moduleName:c()("右键"),actionParam:""},110022:{actionName:c()("上传次数"),moduleName:c()("上传控件"),actionParam:""},110023:{actionName:c()("上传文件数量"),moduleName:c()("上传控件"),actionParam:""},110024:{actionName:c()("上传成功数量"),moduleName:c()("上传控件"),actionParam:""},110025:{actionName:c()("上传取消数量"),moduleName:c()("上传控件"),actionParam:""},110026:{actionName:c()("点击添加更多文件按钮"),moduleName:c()("上传控件"),actionParam:""},110027:{actionName:c()("点击取消全部上传按钮"),moduleName:c()("上传控件"),actionParam:""},110028:{actionName:c()("点击调整控件大小"),moduleName:c()("上传控件"),actionParam:""},110029:{actionName:c()("点击状态按钮"),moduleName:c()("上传控件"),actionParam:""},110030:{actionName:c()("点击开关"),moduleName:c()("分享modal"),actionParam:""},110031:{actionName:c()("点击复制链接"),moduleName:c()("分享modal"),actionParam:""},110032:{actionName:c()("点击「需要密码访问」radio"),moduleName:c()("分享modal"),actionParam:""},110033:{actionName:c()("点击「仅限企业成员访问」radio"),moduleName:c()("分享modal"),actionParam:""},110034:{actionName:c()("点击更换密码"),moduleName:c()("分享modal"),actionParam:""},110035:{actionName:c()("点击左下角添加协作者"),moduleName:c()("查看协作者modal"),actionParam:""},110036:{actionName:c()("点击搜索 input"),moduleName:c()("查看协作者modal"),actionParam:""},110037:{actionName:c()("点击修改身份"),moduleName:c()("查看协作者modal"),actionParam:""},110038:{actionName:c()("点击 dropdown 选项"),moduleName:c()("查看协作者modal"),actionParam:""},110039:{actionName:c()("点击左上角返回"),moduleName:c()("添加协作者modal"),actionParam:""},110040:{actionName:c()("点击添加所有企业成员"),moduleName:c()("添加协作者modal"),actionParam:""},110041:{actionName:c()("点击搜索 input"),moduleName:c()("添加协作者modal"),actionParam:""},110042:{actionName:c()("点击右下角确定"),moduleName:c()("添加协作者modal"),actionParam:""},110043:{actionName:c()("点击修改身份"),moduleName:c()("添加协作者modal"),actionParam:""},110044:{actionName:c()("点击 dropdown 选项"),moduleName:c()("添加协作者modal"),actionParam:""},110045:{actionName:c()("点击左上角返回"),moduleName:c()("预览modal"),actionParam:""},110046:{actionName:c()("点击空白处关闭"),moduleName:c()("预览modal"),actionParam:""},110047:{actionName:c()("点击翻页"),moduleName:c()("预览modal"),actionParam:""},110048:{actionName:c()("点击底栏"),moduleName:c()("预览modal"),actionParam:""},110049:{actionName:c()("点击切换帐号"),moduleName:c()("无权限页面"),actionParam:""},110050:{actionName:c()("点击确定"),moduleName:c()("输入密码"),actionParam:""},110051:{actionName:c()("点击登录按钮"),moduleName:c()("未登录页"),actionParam:""},110052:{actionName:c()("访问「思维导图」页面"),moduleName:c()("思维导图"),actionParam:""},110053:{actionName:c()("访问"),moduleName:c()("企业版 Modal"),actionParam:""},110054:{actionName:c()("开始免费试用"),moduleName:c()("企业版 Modal"),actionParam:""},110055:{actionName:c()("访问"),moduleName:c()("邀请成员 Modal"),actionParam:""},110056:{actionName:c()("跳过"),moduleName:c()("邀请成员 Modal"),actionParam:""},110057:{actionName:c()("复制链接"),moduleName:c()("邀请成员 Modal"),actionParam:""},110058:{actionName:c()("成功邀请成员数量"),moduleName:c()("邀请成员 Modal"),actionParam:""},110059:{actionName:c()("点击帮助中心"),moduleName:c()("表格"),actionParam:""}};function u(e){var t=l[e]||{},n=t.moduleName,r=t.submoduleName,o=t.actionName;return{moduleName:void 0===n?"":n,submoduleName:void 0===r?"":r,actionName:void 0===o?"":o,clickedItem:"",sortMethod:"",sortOrder:"",folderLevel:"",displayMode:"",fileType:"",error:""}}function p(e,t){__RUNTIME_ENV__.PRIVATE_DEPLOY||o.a.track(e,t)}function d(e,t){p("lizardActions","string"==typeof e?a()(u(e),t):a()(u(""),e))}n.d(t,"b",function(){return p}),n.d(t,"a",function(){return d})},function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"b",function(){return i}),n.d(t,"a",function(){return a});var r=n(42),o=new r.Schema("users"),i=new r.Schema("teams"),a=new r.Schema("files","guid");o.define({team:i}),a.define({user:o,updatedUser:o,sharedUser:o})},function(e,t,n){"use strict";var r=n(69),o=n(172);r.a.Group=o.a,t.a=r.a},function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"isAllowAddOutsider",function(){return $}),n.d(r,"isAllowInviteTeamMember",function(){return Q}),n.d(r,"isPersonal",function(){return v}),n.d(r,"isPersonalFree",function(){return y}),n.d(r,"isPersonalPremium",function(){return E}),n.d(r,"isEnterprise",function(){return O}),n.d(r,"isEnterpriseStandard",function(){return x}),n.d(r,"isEnterprisePremium",function(){return T}),n.d(r,"isEnterpriseDingding",function(){return _}),n.d(r,"isNewDing",function(){return g}),n.d(r,"isOriginatedFromDingtalk",function(){return S}),n.d(r,"isNotOriginatedFromDingtalk",function(){return j}),n.d(r,"isExpired",function(){return C}),n.d(r,"isTrial",function(){return w}),n.d(r,"isNotOnSeat",function(){return I}),n.d(r,"isOnSeat",function(){return A}),n.d(r,"isCreator",function(){return k}),n.d(r,"isAdmin",function(){return N}),n.d(r,"isLimitedUser",function(){return L}),n.d(r,"isEnterpriseFile",function(){return V}),n.d(r,"isOutsider",function(){return H}),n.d(r,"isOutsiderCollaborator",function(){return H}),n.d(r,"isDisabledUser",function(){return D}),n.d(r,"isEditor",function(){return W}),n.d(r,"isOnlyReaderOrCommenter",function(){return Y}),n.d(r,"isBelongToTheSameEnterprise",function(){return K}),n.d(r,"isVerifiedEmail",function(){return M}),n.d(r,"isVerifiedMobile",function(){return F}),n.d(r,"isFileAdmin",function(){return q}),n.d(r,"isSpaceCreator",function(){return R}),n.d(r,"isOrdinaryMemberOfTeam",function(){return P}),n.d(r,"isSpaceOrSpaceFile",function(){return U}),n.d(r,"isSpaceFile",function(){return B}),n.d(r,"isSpace",function(){return z}),n.d(r,"isInheritFromSpace",function(){return X}),n.d(r,"isShortcut",function(){return G});var o={OUTSIDER_CANNOT_ADD_USER:"OUTSIDER_CANNOT_ADD_USER",DISABLED_CANNOT_ADD_USER:"DISABLED_CANNOT_ADD_USER",EXPIRED_CANNOT_ADD_USER:"EXPIRED_CANNOT_ADD_USER",NOT_ON_SEAT_CANNOT_ADD_USER:"NOT_ON_SEAT_CANNOT_ADD_USER",NO_ACCESS_ADD_OUTSIDER:"NO_ACCESS_ADD_OUTSIDER",NO_ACCESS_ADD_USER:"NO_ACCESS_ADD_USER",PERSONAL_VERSION_CANNOT_ADD_USER:"PERSONAL_VERSION_CANNOT_ADD_USER",ONLY_ONE_COLLABORATOR_CANNOT_TRANSFER:"ONLY_ONE_COLLABORATOR_CANNOT_TRANSFER",NO_ACCESS_TRANSFER:"NO_ACCESS_TRANSFER",NO_ACCESS_EDIT:"NO_ACCESS_EDIT",NO_ACCESS_MODIFY:"NO_ACCESS_MODIFY",OUTSIDER_CANNOT_MODIFY_ROLE:"OUTSIDER_CANNOT_MODIFY_ROLE",TOO_MANY_COLLABORATORS:"TOO_MANY_COLLABORATORS",EXPIRED_CANNOT_MODIFY_ROLE:"EXPIRED_CANNOT_MODIFY_ROLE",ADDED_DEPT_CANNOT_MODIFY_ROLE_IN_ADDING_MODE:"ADDED_DEPT_CANNOT_MODIFY_ROLE_IN_ADDING_MODE",FILE_CANNOT_MODIFI_SPACE_COLLAB_ROLE:"FILE_CANNOT_MODIFI_SPACE_COLLAB_ROLE",FAILURE_PERSONAL_FREE:"FAILURE_PERSONAL_FREE",FAILURE_READ_ONLY:"FAILURE_READ_ONLY",FAILURE_TRIAL_EXPIRED:"FAILURE_TRIAL_EXPIRED",FAILURE_NOT_ON_SEAT:"FAILURE_NOT_ON_SEAT",FAILURE_ENTERPRISE_EXPIRED_CREATOR_OR_ADMIN:"FAILURE_ENTERPRISE_EXPIRED_CREATOR_OR_ADMIN",FAILURE_ENTERPRISE_EXPIRED_MEMBER:"FAILURE_ENTERPRISE_EXPIRED_MEMBER",NO_ACCESS_DELETE:"NO_ACCESS_DELETE",DELETE_FILE_OR_EXIT_SHARE:"DELETE_FILE_OR_EXIT_SHARE",ONLY_DELETE_FILE:"ONLY_DELETE_FILE",ONLY_EXIT_SHARE:"ONLY_EXIT_SHARE",NO_ACCESS_MOVE_FOLDER:"NO_ACCESS_MOVE_FOLDER",NO_ACCESS_MOVE_FILE:"NO_ACCESS_MOVE_FILE",NO_ACCESS_CREATE_OR_UPLOAD_FILE:"NO_ACCESS_CREATE_OR_UPLOAD_FILE",FAILURE_ENTERPRISE_DINGTALK:"FAILURE_ENTERPRISE_DINGTALK"},u=o;function i(e){var t=e.accountMetadata;if(!t)return{};var n=t.isExpired,r=t.isDingtalk,o=t.isWework,i=t.isEnterprise,a=t.isFreeEnterprise,s=t.isTrial,c=t.isPersonalPremium,l=t.isEnterprisePremium;return{isDingtalk:r,isWework:o,isTrial:s,isExpired:n,isPersonalPremium:c,isEnterprise:i,enterprise:i?{isFreeEnterprise:a,isEnterprisePremium:l}:void 0}}function p(e){var t,n;return null===(n=null===(t=e)||void 0===t?void 0:t.permissions)||void 0===n?void 0:n.editable}function a(e){var t,n;return null===(n=null===(t=e)||void 0===t?void 0:t.permissions)||void 0===n?void 0:n.collaboratorManageable}function d(e){var t=e.me,n=e.folder,r=n||{guid:null,collaboratorCount:null};if(!L(t))return n&&!z(n)&&n.permissions&&!n.permissions.childFileCreatable?{disabled:!0,reason:u.FAILURE_READ_ONLY}:{disabled:!1};if(y(t))return!r.guid||"0"===r.guid||r.collaboratorCount<=15?{disabled:!1}:{disabled:!0,reason:u.FAILURE_PERSONAL_FREE};if(O(t)){if(C(t))return w(t)?{disabled:!0,reason:u.FAILURE_TRIAL_EXPIRED}:k(t)||N(t)?{disabled:!0,reason:u.FAILURE_ENTERPRISE_EXPIRED_CREATOR_OR_ADMIN}:{disabled:!0,reason:u.FAILURE_ENTERPRISE_EXPIRED_MEMBER};if(I(t))return{disabled:!0,reason:u.FAILURE_NOT_ON_SEAT}}return{disabled:!1}}function s(e){return e.file.permissions.manageable?{disabled:!1,reason:u.ONLY_DELETE_FILE}:{disabled:!1,reason:u.ONLY_EXIT_SHARE}}function c(e){var t=e.me,n=e.file,r=e.toDir;return r&&!(r.user===t.id||r.permissions&&r.permissions.childFileCreatable||r.user!==t.id&&n.teamId===t.team&&("creator"===t.teamRole||"admin"===t.teamRole))?"folder"===n.type?{disabled:!0,reason:u.NO_ACCESS_MOVE_FOLDER}:{disabled:!0,reason:u.NO_ACCESS_MOVE_FILE}:d({me:t,folder:r})}function l(e){var t,n,r=e.me,o=e.folder,i=e.folderGuid,a=(o&&o.toJS?o.toJS():o)||{},s=d({me:r,folder:o});if(!s.disabled){if(a.guid){var c=!z(a)&&!p(a);if(z(a)&&!a.privilege)throw new Error("请使用 getSpaces() 方法获取协作空间的权限信息");var l=z(a)&&!(null===(n=null===(t=a.privilege)||void 0===t?void 0:t.permission)||void 0===n?void 0:n.canEdit);(c||l)&&(s={disabled:!0,reason:u.NO_ACCESS_CREATE_OR_UPLOAD_FILE})}a.guid||"0"===i||(s={disabled:!0,reason:u.NO_ACCESS_CREATE_OR_UPLOAD_FILE})}return s}function f(e,t){var n,r,o,i;return!(!e.isShortcut&&t)||(!(null===(r=null===(n=e)||void 0===n?void 0:n.permissions)||void 0===r||!r.removable)||!(t&&1<(e.collaboratorCount||0)&&(null===(i=null===(o=e)||void 0===o?void 0:o.permissions)||void 0===i||!i.manageable)))}function m(e){return U(e)?function(e){var t,n;return null===(n=null===(t=e)||void 0===t?void 0:t.permissions)||void 0===n?void 0:n.removable}(e):function(e){var t,n;return null===(n=null===(t=e)||void 0===t?void 0:t.permissions)||void 0===n?void 0:n.manageable}(e)}function h(e){var t,n=e.me,r=e.file;return Y(n,r)?{disabled:!0,reason:u.NO_ACCESS_EDIT}:H(n)?{disabled:!0,reason:u.OUTSIDER_CANNOT_ADD_USER}:V(r)&&O(n)&&!$(r)?{disabled:!0,reason:u.NO_ACCESS_ADD_OUTSIDER}:15<=r.collaboratorCount?y(n)?{disabled:!0,reason:u.NO_ACCESS_ADD_USER}:O(n)&&C(n)?{disabled:!0,reason:u.EXPIRED_CANNOT_ADD_USER}:O(n)&&I(n)?{disabled:!0,reason:u.NOT_ON_SEAT_CANNOT_ADD_USER}:{disabled:!1}:{disabled:!(null==(t=a(r))||t)}}function b(e){var t,n,r=e.getIn?e.getIn(["privilege","permission"]).toJS():null===(n=null===(t=e)||void 0===t?void 0:t.privilege)||void 0===n?void 0:n.permission,o=r.canEdit,i=r.canAdmin;return o||i}var g=function(e){return!!(e&&e.membership&&e.membership.isNewDing)},_=function(e){var t=i(e),n=t.isDingtalk,r=t.isEnterprise,o=t.enterprise;return!!(n&&r&&o&&o.isFreeEnterprise)},v=function(e){return!i(e).isEnterprise},y=function(e){var t=i(e),n=t.isEnterprise,r=t.isPersonalPremium;return!n&&!r},E=function(e){return!!i(e).isPersonalPremium},O=function(e){return!!i(e).isEnterprise},x=function(e){var t=i(e),n=t.isEnterprise,r=t.enterprise;return!(!n||!r||r.isFreeEnterprise||r.isEnterprisePremium)},T=function(e){var t=i(e),n=t.isEnterprise,r=t.enterprise;return!!(n&&r&&r.isEnterprisePremium)},C=function(e){return!!i(e).isExpired},w=function(e){return!!i(e).isTrial},S=function(e){return!(!e||!e.dingtalkCorp)},j=function(e){return!S(e)},I=function(e){return!e.isSeat},A=function(e){return!!e.isSeat},k=function(e){return"creator"===e.teamRole},N=function(e){return"admin"===e.teamRole},P=function(e){return!(!e.team||"member"!==e.teamRole)},R=function(e,t){var n,r;return((e.getIn?e.getIn(["created","userId"]):null===(r=null===(n=e)||void 0===n?void 0:n.created)||void 0===r?void 0:r.userId)||-1)===t.id},D=function(e){return"disabled"===e.teamRole},L=function(e){return y(e)||O(e)&&C(e)||O(e)&&I(e)},M=function(e){return 1===e.status},F=function(e){return!!e.mobile},U=function(e){return!!e.isFromSVC||!!e.isSpace},B=function(e){return!e.isSpace&&!!e.isFromSVC},z=function(e){return!!e.isSpace},V=function(e){return e&&!!e.teamId},G=function(e){return!!e.isShortcut},H=function(e){return!!e.isOutsider},W=function(e){return"editable"===e.permission},Y=function(e,t){return t&&t.permissions&&!t.isSpace?!t.permissions.editable&&(t.permissions.commentable||t.permissions.readable):!!e.permission&&("readonly"===e.permission||"commentable"===e.permission)},K=function(e,t){return!!e.team&&!!t.teamId&&e.team===t.teamId},$=function(e){return e.permissions.outsiderAddable},q=function(e){return!(!e.role||"owner"===e.role||!e.owner)},X=function(e,t){return B(e)&&t.hasOwnProperty("sharedBy")&&!t.sharedBy},Q=function(e,t){var n,r,o=null===(r=null===(n=t)||void 0===n?void 0:n.settings)||void 0===r?void 0:r.invite,i=e.teamRole;return!(!o||!i||"disabled"===i)&&0<=o.indexOf(i)};n.d(t,"m",function(){return B}),n.d(t,"c",function(){return s}),n.d(t,"b",function(){return c}),n.d(t,"d",function(){return l}),n.d(t,"f",function(){return f}),n.d(t,"e",function(){return m}),n.d(t,"h",function(){return h}),n.d(t,"g",function(){return b}),n.d(t,"l",function(){return O}),n.d(t,"k",function(){return k}),n.d(t,"j",function(){return N}),n.d(t,"a",function(){return o}),n.d(t,"i",function(){return r})},function(e,t,n){"use strict";n.r(t),n.d(t,"FILE_MENU_ADD_TO_SHORTCUT",function(){return r}),n.d(t,"FILE_MENU_MUTE",function(){return o}),n.d(t,"FILE_MENU_STAR",function(){return i}),n.d(t,"FILE_MENU_SAVE_TEMPLATE",function(){return a}),n.d(t,"FILE_MENU_TOGGLE_STRUCTURE",function(){return s}),n.d(t,"FILE_MENU_HELP",function(){return c}),n.d(t,"FILE_MENU_TOGGLE_USER_GUIDE",function(){return l}),n.d(t,"FILE_MENU_TOGGLE_HOTKEYS",function(){return u}),n.d(t,"FILE_MENU_TOGGLE_HELP_GUIDE",function(){return p}),n.d(t,"FILE_MENU_MOVE",function(){return d}),n.d(t,"FILE_MENU_DUPLICATE",function(){return f}),n.d(t,"FILE_MENU_DELETE",function(){return m}),n.d(t,"FILE_MENU_REPORT",function(){return h}),n.d(t,"FILE_MENU_TOGGLE_LOCK",function(){return b}),n.d(t,"FILE_MENU_FILE_INFO",function(){return g});var r="file-menu-add-to-shortcut",o="file-menu-mute",i="file-menu-star",a="file-menu-save-template",s="file-menu-toggle-structure",c="file-menu-help",l="file-menu-toggle-user-guide",u="file-menu-hotkeys",p="file-menu-help-guide",d="file-menu-move",f="file-menu-duplicate",m="file-menu-delete",h="file-report",b="file-menu-lock",g="file-menu-file-info"},function(e,t,n){"use strict";n.d(t,"c",function(){return c}),n.d(t,"b",function(){return l}),n.d(t,"a",function(){return u});var d=n(2),r=n(7),o=n(31),f=n.n(o),i=n(280),a=n.n(i),m=n(42),h=n(46),s=n(6),c=(Object(s.c)(r.a.GET_PENDING_CHANGES,function(){return function(e){var t=(0,e.getState)().files,n={total:0,files:{remove:0,insert:0,update:0}};return t.get("diff").forEach(function(e){e&&(n.total+=1,e.has("isNew")?n.files.insert+=1:n.files.update+=1)}),n}}),Object(s.c)(r.a.BULK_RESTORE,function(r){return function(e){var t=e.next,n=e.storage;return n?n.mget(r.map(function(e){return"sos:"+e})).then(function(e){t(a()(r,e))}):Promise.resolve()}}),Object(s.c)(r.a.RESTORE_DIFF,function(r){return function(e){var t=e.next,n=e.storage;return Promise.all(r.map(function(e){return n?n.get("sos:"+e+":diff"):null})).then(function(e){t(a()(r,e))})}}),Object(s.c)(r.a.RECOVER_STATE_BY_REMOVING_DIFF),Object(s.c)(r.a.RECOVER_STATE_BY_MARKING_MODEL),Object(s.c)(r.a.RESTORE_SCHEMA,function(l,u,p){return function(e){var t=e.next,n=e.storage,o=e.getState,s={};function i(a){return 0===a.length?Promise.resolve(!0):(n?n.mget(a.map(function(e){var t=Object(d.__read)(e,2);return"sos:"+t[0]+":data:"+t[1]})):Promise.resolve(new Array(a.length))).then(function(e){for(var t=0;t<e.length;t++){var n=e[t],r=Object(d.__read)(a[t],2),o=r[0],i=r[1];s[o]||(s[o]={}),n?"object"!=typeof n||Array.isArray(n)?s[o][i]=n:s[o][i]=f()(s[o][i]||{},n):s[o][i]=null}return!1})}function r(t){return void 0===t&&(t=1),function(){var n=o(),r=[];return Object(m.dewormalize)(l,u,function(e,t){return h.a.has(n[e],t)?null:s[e]&&void 0!==s[e][t]?s[e][t]:(r.push([e,t]),null)}),i(r)}().then(function(e){if(!e){if(10<t)throw new Error("max level reached");return r(t+1)}})}var a=[];if(p){var c=o();Object.keys(p).forEach(function(t){Object.keys(p[t]).forEach(function(e){"files"!==t&&(e=Number(e)),h.a.has(c[t],e)||a.push([t,e])})})}return i(a).then(function(){return r().then(function(){return 0<Object.keys(s).length&&t(s),s})})}})),l=(Object(s.c)(r.a.PERSIST,function(a){return function(e){var t=e.getState,n=e.storage,r=e.next;if(n){var o=t()[a];switch(a){case"files":case"users":case"teams":return h.a.persist(o,"sos:"+a,n)&&r(a);case"notifications":return n.set("sos:"+a,o&&o.withMutations(function(n){["all","read"].forEach(function(e){var t=n.get(e);t&&t.size>s.a&&(n.set(e,t&&t.slice(0,s.a)),n.set(e+"HasMore",!0))})}).toJS());case"tree":case"collaborators":return n.set("sos:"+a,o&&o.get("data").toJS());default:var i=o&&(Object(s.h)(o)?o.toJS():o);return n.set("sos:"+a,i)}}}}),Object(s.c)(r.a.MERGE_ENTITIES)),u=Object(s.c)(r.a.LOCAL_SYNC,function(e){return function(){return Promise.resolve(e)}})},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(660);t.getBoolean=r.getBoolean,t.getString=r.getString,t.hasKey=r.hasKey,t.isSelfHosted=function(){return r.getBoolean("SELF_HOSTED")}},function(e,t,n){"use strict";n.d(t,"b",function(){return m}),n.d(t,"c",function(){return h}),n.d(t,"d",function(){return b}),n.d(t,"a",function(){return g}),n.d(t,"e",function(){return _}),n.d(t,"f",function(){return v});var r,o,i,a,s,c,l,u=n(2),p=n(4),d=n.n(p),f=n(34),m=d()(f.a).withConfig({componentId:"sc-3uvezY"})(r=r||Object(u.__makeTemplateObject)([".sm-menu-item-disabled{color:#666;cursor:not-allowed;background:none;}.sm-menu-submenu-disabled{opacity:0.3;color:#666;cursor:not-allowed;background:none;}.sm-menu-submenu-disabled span{opacity:0.3;cursor:not-allowed;}.sm-menu-submenu-disabled div{cursor:not-allowed;}.sm-menu-submenu-vertical-left.sm-menu-submenu-active{.sm-menu-vertical-left{width:200px;top:-5px;}}"],[""])),h=d.a.div.withConfig({componentId:"sc-3uvezY-1"})(o=o||Object(u.__makeTemplateObject)(["width:220px;height:20px;box-sizing:border-box;text-align:left;margin:0 -45px 0 -20px;padding:0 20px;position:relative;display:flex;align-items:center;color:",";opacity:",";svg{margin-right:5px;opacity:",";}"],["","","",""]),function(e){return e.disabled?"inherit":e.active?"#73a2e3":"#666"},function(e){return e.disabled?.3:1},function(e){return e.disabled?.3:1}),b=d()(h).withConfig({componentId:"sc-3uvezY-2"})(i=i||Object(u.__makeTemplateObject)(["width:200px;"],[""])),g=d.a.span.withConfig({componentId:"sc-3uvezY-3"})(a=a||Object(u.__makeTemplateObject)(["margin-left:27px;"],[""])),_=d.a.div.withConfig({componentId:"sc-3uvezY-4"})(s=s||Object(u.__makeTemplateObject)(["cursor:auto;width:250px;padding:10px;font-size:12px;line-height:1.8;color:#666;white-space:normal;background:#fff;box-sizing:border-box;text-align:left;"],[""])),v=(d.a.span.withConfig({componentId:"sc-3uvezY-5"})(c=c||Object(u.__makeTemplateObject)(["color:#cccccc;position:absolute;font-size:11px;right:18px;"],[""])),d.a.span.withConfig({componentId:"sc-3uvezY-6"})(l=l||Object(u.__makeTemplateObject)(["color:#cd4747;"],[""])))},function(e,t,n){"use strict";var r,o=n(13),s=n.n(o),i=n(15),a=n.n(i),c=n(12),l=n.n(c),u=n(14),p=n.n(u),d=n(0),v=n.n(d),f=n(3),m=n.n(f),h=n(24),y=n.n(h),b=n(38),E=n.n(b),g=n(11),_=n.n(g),O=n(48),x=n.n(O),T=n(64),C=n(175),w=n.n(C),S=n(110),j=n(53),I=(r=d.Component,p()(A,r),a()(A,[{key:"shouldComponentUpdate",value:function(e){return e.hiddenClassName||e.visible}},{key:"render",value:function(){var e=this.props,t=e.hiddenClassName,n=e.visible,r=E()(e,["hiddenClassName","visible"]);return t||1<v.a.Children.count(r.children)?(!n&&t&&(r.className+=" "+t),v.a.createElement("div",r)):v.a.Children.only(r.children)}}]),A);function A(){return s()(this,A),l()(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}I.propTypes={children:m.a.any,className:m.a.string,visible:m.a.bool,hiddenClassName:m.a.string};var k,N=I,P=(k=d.Component,p()(R,k),a()(R,[{key:"render",value:function(){var e=this.props,t=e.className;return e.visible||(t+=" "+e.hiddenClassName),v.a.createElement("div",{className:t,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,style:e.style},v.a.createElement(N,{className:e.prefixCls+"-content",visible:e.visible},e.children))}}]),R);function R(){return s()(this,R),l()(this,(R.__proto__||Object.getPrototypeOf(R)).apply(this,arguments))}P.propTypes={hiddenClassName:m.a.string,className:m.a.string,prefixCls:m.a.string,onMouseEnter:m.a.func,onMouseLeave:m.a.func,children:m.a.any};var D=P;function L(e,t){this[e]=t}var M,F=(M=d.Component,p()(U,M),a()(U,[{key:"componentDidMount",value:function(){this.rootNode=this.getPopupDomNode()}},{key:"getPopupDomNode",value:function(){return _.a.findDOMNode(this.popupInstance)}},{key:"getMaskTransitionName",value:function(){var e=this.props,t=e.maskTransitionName,n=e.maskAnimation;return!t&&n&&(t=e.prefixCls+"-"+n),t}},{key:"getTransitionName",value:function(){var e=this.props,t=e.transitionName;return!t&&e.animation&&(t=e.prefixCls+"-"+e.animation),t}},{key:"getClassName",value:function(e){return this.props.prefixCls+" "+this.props.className+" "+e}},{key:"getPopupElement",value:function(){var e=this.savePopupRef,t=this.props,n=t.align,r=t.style,o=t.visible,i=t.prefixCls,a=t.destroyPopupOnHide,s=this.getClassName(this.currentAlignClassName||t.getClassNameFromAlign(n)),c=i+"-hidden";o||(this.currentAlignClassName=null);var l=y()({},r,this.getZIndexStyle()),u={className:s,prefixCls:i,ref:e,onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave,style:l};return a?v.a.createElement(j.default,{component:"",exclusive:!0,transitionAppear:!0,transitionName:this.getTransitionName()},o?v.a.createElement(S.a,{target:this.getTarget,key:"popup",ref:this.saveAlignRef,monitorWindowResize:!0,align:n,onAlign:this.onAlign},v.a.createElement(D,y()({visible:!0},u),t.children)):null):v.a.createElement(j.default,{component:"",exclusive:!0,transitionAppear:!0,transitionName:this.getTransitionName(),showProp:"xVisible"},v.a.createElement(S.a,{target:this.getTarget,key:"popup",ref:this.saveAlignRef,monitorWindowResize:!0,xVisible:o,childrenProps:{visible:"xVisible"},disabled:!o,align:n,onAlign:this.onAlign},v.a.createElement(D,y()({hiddenClassName:c},u),t.children)))}},{key:"getZIndexStyle",value:function(){var e={},t=this.props;return void 0!==t.zIndex&&(e.zIndex=t.zIndex),e}},{key:"getMaskElement",value:function(){var e=this.props,t=void 0;if(e.mask){var n=this.getMaskTransitionName();t=v.a.createElement(N,{style:this.getZIndexStyle(),key:"mask",className:e.prefixCls+"-mask",hiddenClassName:e.prefixCls+"-mask-hidden",visible:e.visible}),n&&(t=v.a.createElement(j.default,{key:"mask",showProp:"visible",transitionAppear:!0,component:"",transitionName:n},t))}return t}},{key:"render",value:function(){return v.a.createElement("div",null,this.getMaskElement(),this.getPopupElement())}}]),U);function U(e){s()(this,U);var t=l()(this,(U.__proto__||Object.getPrototypeOf(U)).call(this,e));return B.call(t),t.savePopupRef=L.bind(t,"popupInstance"),t.saveAlignRef=L.bind(t,"alignInstance"),t}F.propTypes={visible:m.a.bool,style:m.a.object,getClassNameFromAlign:m.a.func,onAlign:m.a.func,getRootDomNode:m.a.func,onMouseEnter:m.a.func,align:m.a.any,destroyPopupOnHide:m.a.bool,className:m.a.string,prefixCls:m.a.string,onMouseLeave:m.a.func};var B=function(){var o=this;this.onAlign=function(e,t){var n=o.props,r=n.getClassNameFromAlign(t);o.currentAlignClassName!==r&&(o.currentAlignClassName=r,e.className=o.getClassName(r)),n.onAlign(e,t)},this.getTarget=function(){return o.props.getRootDomNode()}},z=F,V=n(492),G=n.n(V);function H(){}function W(){return""}function Y(){return window.document}var K,$="undefined"!=typeof navigator&&!!navigator.userAgent.match(/(Android|iPhone|iPad|iPod|iOS|UCWEB)/i),q=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"],X=x()({displayName:"Trigger",propTypes:{children:m.a.any,action:m.a.oneOfType([m.a.string,m.a.arrayOf(m.a.string)]),showAction:m.a.any,hideAction:m.a.any,getPopupClassNameFromAlign:m.a.any,onPopupVisibleChange:m.a.func,afterPopupVisibleChange:m.a.func,popup:m.a.oneOfType([m.a.node,m.a.func]).isRequired,popupStyle:m.a.object,prefixCls:m.a.string,popupClassName:m.a.string,popupPlacement:m.a.string,builtinPlacements:m.a.object,popupTransitionName:m.a.oneOfType([m.a.string,m.a.object]),popupAnimation:m.a.any,mouseEnterDelay:m.a.number,mouseLeaveDelay:m.a.number,zIndex:m.a.number,focusDelay:m.a.number,blurDelay:m.a.number,getPopupContainer:m.a.func,getDocument:m.a.func,destroyPopupOnHide:m.a.bool,mask:m.a.bool,maskClosable:m.a.bool,onPopupAlign:m.a.func,popupAlign:m.a.object,popupVisible:m.a.bool,maskTransitionName:m.a.oneOfType([m.a.string,m.a.object]),maskAnimation:m.a.string},mixins:[G()({autoMount:!1,isVisible:function(e){return e.state.popupVisible},getContainer:function(e){var t=e.props,n=document.createElement("div");return n.style.position="absolute",n.style.top="0",n.style.left="0",n.style.width="100%",(t.getPopupContainer?t.getPopupContainer(Object(g.findDOMNode)(e)):t.getDocument().body).appendChild(n),n}})],getDefaultProps:function(){return{prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:W,getDocument:Y,onPopupVisibleChange:H,afterPopupVisibleChange:H,onPopupAlign:H,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[]}},getInitialState:function(){var e=this.props;return{popupVisible:"popupVisible"in e?!!e.popupVisible:!!e.defaultPopupVisible}},componentWillMount:function(){var n=this;q.forEach(function(t){n["fire"+t]=function(e){n.fireEvents(t,e)}})},componentDidMount:function(){this.componentDidUpdate({},{popupVisible:this.state.popupVisible})},componentWillReceiveProps:function(e){var t=e.popupVisible;void 0!==t&&this.setState({popupVisible:t})},componentDidUpdate:function(e,t){var n=this.props,r=this.state;if(this.renderComponent(null,function(){t.popupVisible!==r.popupVisible&&n.afterPopupVisibleChange(r.popupVisible)}),r.popupVisible){var o=void 0;return!this.clickOutsideHandler&&this.isClickToHide()&&(o=n.getDocument(),this.clickOutsideHandler=w()(o,"mousedown",this.onDocumentClick)),void(!this.touchOutsideHandler&&$&&(o=o||n.getDocument(),this.touchOutsideHandler=w()(o,"click",this.onDocumentClick)))}this.clearOutsideHandler()},componentWillUnmount:function(){this.clearDelayTimer(),this.clearOutsideHandler()},onMouseEnter:function(e){this.fireEvents("onMouseEnter",e),this.delaySetPopupVisible(!0,this.props.mouseEnterDelay)},onMouseLeave:function(e){this.fireEvents("onMouseLeave",e),this.delaySetPopupVisible(!1,this.props.mouseLeaveDelay)},onPopupMouseEnter:function(){this.clearDelayTimer()},onPopupMouseLeave:function(e){e.relatedTarget&&!e.relatedTarget.setTimeout&&this._component&&this._component.getPopupDomNode&&Object(T.a)(this._component.getPopupDomNode(),e.relatedTarget)||this.delaySetPopupVisible(!1,this.props.mouseLeaveDelay)},onFocus:function(e){this.fireEvents("onFocus",e),this.clearDelayTimer(),this.isFocusToShow()&&(this.focusTime=Date.now(),this.delaySetPopupVisible(!0,this.props.focusDelay))},onMouseDown:function(e){this.fireEvents("onMouseDown",e),this.preClickTime=Date.now()},onTouchStart:function(e){this.fireEvents("onTouchStart",e),this.preTouchTime=Date.now()},onBlur:function(e){this.fireEvents("onBlur",e),this.clearDelayTimer(),this.isBlurToHide()&&this.delaySetPopupVisible(!1,this.props.blurDelay)},onClick:function(e){if(this.fireEvents("onClick",e),this.focusTime){var t=void 0;if(this.preClickTime&&this.preTouchTime?t=Math.min(this.preClickTime,this.preTouchTime):this.preClickTime?t=this.preClickTime:this.preTouchTime&&(t=this.preTouchTime),Math.abs(t-this.focusTime)<20)return;this.focusTime=0}this.preClickTime=0,this.preTouchTime=0,e.preventDefault();var n=!this.state.popupVisible;(this.isClickToHide()&&!n||n&&this.isClickToShow())&&this.setPopupVisible(!this.state.popupVisible)},onDocumentClick:function(e){if(!this.props.mask||this.props.maskClosable){var t=e.target,n=Object(g.findDOMNode)(this),r=this.getPopupDomNode();Object(T.a)(n,t)||Object(T.a)(r,t)||this.close()}},getPopupDomNode:function(){return this._component&&this._component.getPopupDomNode?this._component.getPopupDomNode():null},getRootDomNode:function(){return Object(g.findDOMNode)(this)},getPopupClassNameFromAlign:function(e){var t=[],n=this.props,r=n.popupPlacement,o=n.builtinPlacements,i=n.prefixCls;return r&&o&&t.push(function(e,t,n){var r,o,i=n.points;for(var a in e)if(e.hasOwnProperty(a)&&(r=e[a].points,o=i,r[0]===o[0]&&r[1]===o[1]))return t+"-placement-"+a;return""}(o,i,e)),n.getPopupClassNameFromAlign&&t.push(n.getPopupClassNameFromAlign(e)),t.join(" ")},getPopupAlign:function(){var e=this.props,t=e.popupPlacement,n=e.popupAlign,r=e.builtinPlacements;return t&&r?function(e,t,n){var r=e[t]||{};return y()({},r,n)}(r,t,n):n},getComponent:function(){var e=this.props,t=this.state,n={};return this.isMouseEnterToShow()&&(n.onMouseEnter=this.onPopupMouseEnter),this.isMouseLeaveToHide()&&(n.onMouseLeave=this.onPopupMouseLeave),v.a.createElement(z,y()({prefixCls:e.prefixCls,destroyPopupOnHide:e.destroyPopupOnHide,visible:t.popupVisible,className:e.popupClassName,action:e.action,align:this.getPopupAlign(),onAlign:e.onPopupAlign,animation:e.popupAnimation,getClassNameFromAlign:this.getPopupClassNameFromAlign},n,{getRootDomNode:this.getRootDomNode,style:e.popupStyle,mask:e.mask,zIndex:e.zIndex,transitionName:e.popupTransitionName,maskAnimation:e.maskAnimation,maskTransitionName:e.maskTransitionName}),"function"==typeof e.popup?e.popup():e.popup)},setPopupVisible:function(e){this.clearDelayTimer(),this.state.popupVisible!==e&&("popupVisible"in this.props||this.setState({popupVisible:e}),this.props.onPopupVisibleChange(e))},delaySetPopupVisible:function(e,t){var n=this,r=1e3*t;this.clearDelayTimer(),r?this.delayTimer=setTimeout(function(){n.setPopupVisible(e),n.clearDelayTimer()},r):this.setPopupVisible(e)},clearDelayTimer:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)},clearOutsideHandler:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)},createTwoChains:function(e){var t=this.props.children.props,n=this.props;return t[e]&&n[e]?this["fire"+e]:t[e]||n[e]},isClickToShow:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")},isClickToHide:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")},isMouseEnterToShow:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseEnter")},isMouseLeaveToHide:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseLeave")},isFocusToShow:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("focus")},isBlurToHide:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("blur")},forcePopupAlign:function(){this.state.popupVisible&&this._component&&this._component.alignInstance&&this._component.alignInstance.forceAlign()},fireEvents:function(e,t){var n=this.props.children.props[e];n&&n(t);var r=this.props[e];r&&r(t)},close:function(){this.setPopupVisible(!1)},render:function(){var e=this.props.children,t=v.a.Children.only(e),n={};return this.isClickToHide()||this.isClickToShow()?(n.onClick=this.onClick,n.onMouseDown=this.onMouseDown,n.onTouchStart=this.onTouchStart):(n.onClick=this.createTwoChains("onClick"),n.onMouseDown=this.createTwoChains("onMouseDown"),n.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?n.onMouseEnter=this.onMouseEnter:n.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?n.onMouseLeave=this.onMouseLeave:n.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(n.onFocus=this.onFocus,n.onBlur=this.onBlur):(n.onFocus=this.createTwoChains("onFocus"),n.onBlur=this.createTwoChains("onBlur")),v.a.cloneElement(t,n)}}),Q={adjustX:1,adjustY:1},J=[0,0],Z={left:{points:["cr","cl"],overflow:Q,offset:[-4,0],targetOffset:J},right:{points:["cl","cr"],overflow:Q,offset:[4,0],targetOffset:J},top:{points:["bc","tc"],overflow:Q,offset:[0,-4],targetOffset:J},bottom:{points:["tc","bc"],overflow:Q,offset:[0,4],targetOffset:J},topLeft:{points:["bl","tl"],overflow:Q,offset:[0,-4],targetOffset:J},leftTop:{points:["tr","tl"],overflow:Q,offset:[-4,0],targetOffset:J},topRight:{points:["br","tr"],overflow:Q,offset:[0,-4],targetOffset:J},rightTop:{points:["tl","tr"],overflow:Q,offset:[4,0],targetOffset:J},bottomRight:{points:["tr","br"],overflow:Q,offset:[0,4],targetOffset:J},rightBottom:{points:["bl","br"],overflow:Q,offset:[4,0],targetOffset:J},bottomLeft:{points:["tl","bl"],overflow:Q,offset:[0,4],targetOffset:J},leftBottom:{points:["br","bl"],overflow:Q,offset:[-4,0],targetOffset:J}},ee=(K=d.Component,p()(te,K),a()(te,[{key:"getPopupDomNode",value:function(){return this.refs.trigger.getPopupDomNode()}},{key:"render",value:function(){var e=this.props,t=e.overlayClassName,n=e.trigger,r=e.mouseEnterDelay,o=e.mouseLeaveDelay,i=e.overlayStyle,a=e.prefixCls,s=e.children,c=e.onVisibleChange,l=e.afterVisibleChange,u=e.transitionName,p=e.animation,d=e.placement,f=e.align,m=e.destroyTooltipOnHide,h=e.defaultVisible,b=e.getTooltipContainer,g=E()(e,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer"]),_=y()({},g);return"visible"in this.props&&(_.popupVisible=this.props.visible),v.a.createElement(X,y()({popupClassName:t,ref:"trigger",prefixCls:a,popup:this.getPopupElement,action:n,builtinPlacements:Z,popupPlacement:d,popupAlign:f,getPopupContainer:b,onPopupVisibleChange:c,afterPopupVisibleChange:l,popupTransitionName:u,popupAnimation:p,defaultPopupVisible:h,destroyPopupOnHide:m,mouseLeaveDelay:o,popupStyle:i,mouseEnterDelay:r},_),s)}}]),te);function te(){var e,t,o,n;s()(this,te);for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];return(t=o=l()(this,(e=te.__proto__||Object.getPrototypeOf(te)).call.apply(e,[this].concat(i)))).getPopupElement=function(){var e=o.props,t=e.arrowContent,n=e.overlay,r=e.prefixCls;return[v.a.createElement("div",{className:r+"-arrow",key:"arrow"},t),v.a.createElement("div",{className:r+"-inner",key:"content"},"function"==typeof n?n():n)]},n=t,l()(o,n)}ee.propTypes={trigger:m.a.any,children:m.a.any,defaultVisible:m.a.bool,visible:m.a.bool,placement:m.a.string,transitionName:m.a.string,animation:m.a.any,onVisibleChange:m.a.func,afterVisibleChange:m.a.func,overlay:m.a.oneOfType([m.a.node,m.a.func]).isRequired,overlayStyle:m.a.object,overlayClassName:m.a.string,prefixCls:m.a.string,mouseEnterDelay:m.a.number,mouseLeaveDelay:m.a.number,getTooltipContainer:m.a.func,destroyTooltipOnHide:m.a.bool,align:m.a.object,arrowContent:m.a.any},ee.defaultProps={prefixCls:"rc-tooltip",mouseEnterDelay:0,destroyTooltipOnHide:!1,mouseLeaveDelay:.1,align:{},placement:"right",trigger:["hover"],arrowContent:null};var ne=ee,re=n(493),oe=n(58),ie=n.n(oe),ae=n(9),se=n(4),ce=n(107),le=n(63),ue=ie()(["\n  ."," {\n    ","\n  }\n"],["\n  ."," {\n    ","\n  }\n"]),pe=ie()(["\n  .sm-tooltip.no-touch {\n    pointer-events: none !important;\n  }\n  .sm-tooltip {\n    pointer-events: auto !important;\n  }\n  .sm-tooltip * {\n    pointer-events: auto !important;\n  }\n"],["\n  .sm-tooltip.no-touch {\n    pointer-events: none !important;\n  }\n  .sm-tooltip {\n    pointer-events: auto !important;\n  }\n  .sm-tooltip * {\n    pointer-events: auto !important;\n  }\n"]),de="#8ab3e9",fe="#fff",me=ae.i.SHIMO_100,he=parseInt(8/Math.sqrt(2)),be="\n  display: block;\n  position: absolute;\n  font-size: 12px;\n  -webkit-font-smoothing: auto;\n  line-height: 1.375;\n  opacity: 1;\n  z-index: "+le.c+";\n\n  .sm-tooltip-inner {\n    color: #fff;\n    text-align: center;\n    padding: 6px 10px;\n    background: "+me+";\n    border-radius: 2px;\n    box-shadow: 0 1px 3px 0 rgba(0,0,0,0.1);\n    height: auto;\n    line-height: 1.375;\n    white-space: normal;\n  }\n\n  &.sm-tooltip-hidden { display: none; }\n\n  .sm-tooltip-arrow {\n    position: absolute;\n    width: 0;\n    height: 0;\n    border-color: "+me+";\n    border-style: solid;\n\n    &::after {\n      content: '';\n      position: absolute;\n      width: "+he+"px;\n      height: "+he+"px;\n      transform: rotate(45deg);\n      box-shadow: 0 0 8px 0 rgba(0,0,0,0.4);\n      z-index: -1;\n    }\n  }\n\n  &.sm-tooltip-theme-blue {\n    .sm-tooltip-inner {\n      background: "+de+";\n    }\n\n    .sm-tooltip-inner {\n      background: "+de+";\n    }\n\n    .sm-tooltip-arrow {\n      border-color: "+de+";\n    }\n  }\n\n  &.sm-tooltip-theme-white {\n    opacity: 1;\n\n    .sm-tooltip-inner {\n      color: #333;\n      background: "+fe+";\n    }\n\n    .sm-tooltip-inner {\n      background: "+fe+";\n      box-shadow: 0 2px 8px 0 rgba(0,0,0,0.2);\n    }\n\n    .sm-tooltip-arrow {\n      border-color: "+fe+";\n\n      &::after {\n        box-shadow: 0 0 6px 0 rgba(0,0,0,0.2);\n      }\n    }\n  }\n\n  /** top */\n  &.sm-tooltip-placement-top,\n  &.sm-tooltip-placement-topLeft,\n  &.sm-tooltip-placement-topRight {\n    padding-bottom: 7px;\n    .sm-tooltip-arrow {\n      bottom: 3px;\n      border-width: 4px 4px 0;\n      border-bottom-color: transparent;\n      border-left-color: transparent;\n      border-right-color: transparent;\n\n      &::after {\n        left: -"+he/2+"px;\n        top: -"+(4+he/2)+"px;\n      }\n    }\n  }\n\n\n  /** bottom */\n  &.sm-tooltip-placement-bottom,\n  &.sm-tooltip-placement-bottomLeft,\n  &.sm-tooltip-placement-bottomRight {\n    padding-top: 7px;\n    .sm-tooltip-arrow {\n      top: 3px;\n      border-width: 0 4px 4px;\n      border-top-color: transparent;\n      border-left-color: transparent;\n      border-right-color: transparent;\n\n      &::after {\n        left: -"+he/2+"px;\n        top: "+(4-he/2)+"px;\n        box-shadow: 0 0 10px 0 rgba(0,0,0,0.2);\n      }\n    }\n  }\n\n  /** left */\n  &.sm-tooltip-placement-left,\n  &.sm-tooltip-placement-leftTop,\n  &.sm-tooltip-placement-leftBottom {\n    padding-right: 7px;\n    .sm-tooltip-arrow {\n      right: 3px;\n      border-width: 4px 0 4px 4px;\n      border-top-color: transparent;\n      border-bottom-color: transparent;\n      border-right-color: transparent;\n\n      &::after {\n        left: -"+(4+he/2)+"px;\n        top: -"+he/2+"px;\n      }\n    }\n  }\n\n  /** right */\n  &.sm-tooltip-placement-right,\n  &.sm-tooltip-placement-rightTop,\n  &.sm-tooltip-placement-rightBottom {\n    padding-left: 7px;\n    .sm-tooltip-arrow {\n      left: 3px;\n      border-width: 4px 4px 4px 0;\n      border-top-color: transparent;\n      border-left-color: transparent;\n      border-bottom-color: transparent;\n\n      &::after {\n        left: "+(4-he/2)+"px;\n        top: -"+he/2+"px;\n      }\n    }\n  }\n\n  /** arrow */\n  &.sm-tooltip-placement-top .sm-tooltip-arrow,\n  &.sm-tooltip-placement-bottom .sm-tooltip-arrow {\n    left: 50%;\n    margin-left: -4px;\n  }\n\n  &.sm-tooltip-placement-topLeft .sm-tooltip-arrow,\n  &.sm-tooltip-placement-bottomLeft .sm-tooltip-arrow {\n    left: 16px;\n  }\n\n  &.sm-tooltip-placement-topRight .sm-tooltip-arrow,\n  &.sm-tooltip-placement-bottomRight .sm-tooltip-arrow {\n    right: 16px;\n  }\n\n  &.sm-tooltip-placement-left .sm-tooltip-arrow,\n  &.sm-tooltip-placement-right .sm-tooltip-arrow {\n    top: 50%;\n    margin-top: -4px;\n  }\n\n  &.sm-tooltip-placement-leftTop .sm-tooltip-arrow,\n  &.sm-tooltip-placement-rightTop .sm-tooltip-arrow {\n    top: 8px;\n  }\n\n  &.sm-tooltip-placement-leftBottom .sm-tooltip-arrow,\n  &.sm-tooltip-placement-rightBottom .sm-tooltip-arrow {\n    bottom: 8px;\n  }\n",ge="randomClass-"+Object(ce.a)(be);Object(se.injectGlobal)(ue,ge,be),Object(se.injectGlobal)(pe);var _e=ge,ve={adjustX:1,adjustY:1},ye={adjustX:0,adjustY:0};var Ee=[0,0];function Oe(e){var t=e.arrowPointAtCenter,n=void 0!==t&&t,r=e.arrowWidth,o=void 0===r?4:r,i=e.horizontalArrowShift,a=void 0===i?16:i,s=e.verticalArrowShift,c=void 0===s?8:s,l=e.offsetWidth,u=void 0===l?0:l,p=e.autoAdjustOverflow,d=void 0===p||p,f={left:{points:["cr","cl"],offset:[-u,0]},right:{points:["cl","cr"],offset:[u,0]},top:{points:["bc","tc"],offset:[0,-u]},bottom:{points:["tc","bc"],offset:[0,u]},topLeft:{points:["bl","tc"],offset:[-(a+o),-u]},leftTop:{points:["tr","cl"],offset:[-u,-(c+o)]},topRight:{points:["br","tc"],offset:[a+o,-u]},rightTop:{points:["tl","cr"],offset:[u,-(c+o)]},bottomRight:{points:["tr","bc"],offset:[a+o,u]},rightBottom:{points:["bl","cr"],offset:[u,c+o]},bottomLeft:{points:["tl","bc"],offset:[-(a+o),u]},leftBottom:{points:["br","cl"],offset:[-u,c+o]}};return Object.keys(f).forEach(function(e){f[e]={points:n?f[e].points:re.placements[e].points,offset:n?f[e].offset:[0,0],overflow:function(e){return"boolean"==typeof e?e?ve:ye:Object.assign({},ye,e)}(d),targetOffset:Ee}}),f}function xe(e){return"button"===e||e.__SM_BUTTTON__}var Te,Ce=(Te=d.Component,p()(we,Te),a()(we,[{key:"componentWillReceiveProps",value:function(e){"visible"in e&&this.setState({visible:e.visible})}},{key:"getPopupDomNode",value:function(){return this.refs.tooltip.getPopupDomNode()}},{key:"getPlacements",value:function(){var e=this.props,t=e.builtinPlacements,n=e.arrowPointAtCenter,r=e.autoAdjustOverflow,o=e.arrowWidth,i=e.horizontalArrowShift,a=e.verticalArrowShift,s=e.offsetWidth;return t||Oe({arrowPointAtCenter:n,autoAdjustOverflow:r,horizontalArrowShift:i,verticalArrowShift:a,offsetWidth:s,arrowWidth:o})}},{key:"isNoTitle",value:function(){var e=this.props,t=e.title,n=e.overlay;return!t&&!n}},{key:"getDisabledCompatibleChildren",value:function(e){if((xe(e.type)||function(e){return"string"==typeof e.type.styledComponentId&&xe(e.type.target)}(e))&&e.props.disabled){var t=Object.assign({display:"inline-block"},e.props.style,{cursor:"not-allowed"}),n=Object(d.cloneElement)(e,{style:{pointerEvents:"none"},className:null});return v.a.createElement("span",{style:t,className:e.props.className},n)}return e}},{key:"render",value:function(){var e=this.props,t=e.overlayClassName,n=e.title,r=e.overlay,o=e.notTouchable,i=e.children,a=e.theme,s=e.prefixCls,c=e.className,l=this.state.visible;"visible"in this.props||!this.isNoTitle()||(l=!1);var u=(c||"")+" "+(t||"")+" "+_e+" "+(o?"no-touch":"")+" "+s+"-theme-"+a,p=this.getDisabledCompatibleChildren(v.a.isValidElement(i)?i:v.a.createElement("span",null,i));return v.a.createElement(ne,Object.assign({},this.props,{overlayClassName:u,ref:"tooltip",builtinPlacements:this.getPlacements(),overlay:r||n||"",visible:l,onVisibleChange:this.onVisibleChange}),p)}}]),we);function we(e){s()(this,we);var n=l()(this,(we.__proto__||Object.getPrototypeOf(we)).call(this,e));return n.onVisibleChange=function(e){var t=n.props.onVisibleChange;"visible"in n.props||n.setState({visible:!n.isNoTitle()&&e}),t&&!n.isNoTitle()&&t(e)},n.state={visible:!!e.visible},n}Ce.propTypes={prefixCls:m.a.string,children:m.a.node,placement:m.a.oneOf(["top","left","right","bottom","topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]),trigger:m.a.oneOfType([m.a.oneOf(["hover","focus","click"]),m.a.arrayOf(m.a.oneOf(["hover","focus","click"]))]),title:m.a.node,theme:m.a.oneOf(["default","blue","white"]),overlay:m.a.node,overlayClassName:m.a.string,className:m.a.string,onVisibleChange:m.a.func,visible:m.a.bool,arrowPointAtCenter:m.a.bool,notTouchable:m.a.bool,overlayStyle:m.a.object,builtinPlacements:m.a.object,transitionName:m.a.string,getTooltipContainer:m.a.func,autoAdjustOverflow:m.a.oneOf([m.a.bool,m.a.object]),horizontalArrowShift:m.a.number,verticalArrowShift:m.a.number,arrowWidth:m.a.number,offsetWidth:m.a.number,onPopupAlign:m.a.func},Ce.defaultProps={prefixCls:"sm-tooltip",placement:"top",mouseEnterDelay:.1,mouseLeaveDelay:.1,arrowPointAtCenter:!1,theme:"default",onVisibleChange:function(){},arrowWidth:4};var Se=Ce;t.a=Se},,,,,function(e,t,n){"use strict";var l=n(90),r=n(0),u=n.n(r),o=n(11),p=n.n(o),i=n(174),d=n.n(i);l.a.open=function(e){return function(e){var t=Object.assign({},d()(e,"getContainer")),o=t.onCancel,n=t.body,r=t.width,i=t.style,a=document.createElement("div");function s(){p.a.unmountComponentAtNode(a)&&a.parentNode&&a.parentNode.removeChild(a);for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t&&t.length&&t.some(function(e){return e&&e.triggerCancel});o&&r&&o.apply(void 0,t)}("function"==typeof e.getContainer?e.getContainer():document.body).appendChild(a);var c=s.bind(this,{triggerCancel:!0});return p.a.render(u.a.createElement(l.a,Object.assign({},t,{visible:!0,width:r,style:i||{},onCancel:c}),n),a),{destroy:s}}(e)};t.a=l.a},,function(e,t,n){"use strict";var r=n(128);t.a=r.a},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i});var r=n(4),o=function(e){var t=void 0;switch(e){case"h1":t=18;break;case"h2":t=16;break;case"h3":t=14;break;case"h4":t=12;break;default:t=18}return Object(r.css)(["font-size:","px;font-weight:bold;line-height:1.4;"],t)},i=function(e){var t=void 0;switch(e){case"p2":t=16;break;case"p3":t=14;break;case"p4":t=12;break;default:t=14}return Object(r.css)(["font-size:","px;font-weight:normal;line-height:1.7;"],t)}},function(e,t,n){"use strict";n.r(t),n.d(t,"toFileTypeStr",function(){return u}),n.d(t,"toFileUrlStr",function(){return p}),n.d(t,"toNewAndOldTypeStr",function(){return d}),n.d(t,"typeToText",function(){return f}),n.d(t,"isSheet",function(){return m}),n.d(t,"isRichDocSheet",function(){return h}),n.d(t,"isMoDocSheet",function(){return b}),n.d(t,"isDoc",function(){return g}),n.d(t,"isModoc",function(){return _}),n.d(t,"isSlide",function(){return v}),n.d(t,"isForm",function(){return y}),n.d(t,"isBoard",function(){return E}),n.d(t,"isFolder",function(){return O}),n.d(t,"isNewDoc",function(){return x}),n.d(t,"isNewSheet",function(){return T}),n.d(t,"isMindmap",function(){return C}),n.d(t,"isCollabSpace",function(){return w}),n.d(t,"getFileUrl",function(){return S}),n.d(t,"isFileAuthorized",function(){return j}),n.d(t,"isFileCollaborator",function(){return I}),n.d(t,"isFilePublic",function(){return A}),n.d(t,"isFilePublicReadOnly",function(){return k}),n.d(t,"isFilePublicEditable",function(){return N}),n.d(t,"isFileManageable",function(){return P}),n.d(t,"isCloudFile",function(){return R}),n.d(t,"formatSize",function(){return D});var o=n(5),r=n(1),i=n.n(r),a=n(23),s=n.n(a),c=n(375),l=n.n(c),u=function(e,t){void 0===t&&(t=!1);var n=o.fileTypes.find(e);return n?"doc"===n.type&&t&&"docx"===n.url?"docx":n.type:""},p=function(e){if(""===e||null==e)return"";var t=o.fileTypes.find(e);return t?t.url:""},d=function(e){var t=o.fileTypes.find(e);if(!t)return i()("云文件");switch(t.display){case i()("文档"):return"doc"===t.url?i()("旧文档"):i()("新文档");case i()("表格"):return"spreadsheet"===t.url?i()("旧表格"):i()("新表格");case i()("文件夹"):return i()("文件夹")}return""},f=function(e,t){if(void 0===t&&(t=!1),e){if(t)return i()("协作空间");var n=o.fileTypes.find(e);return n?n.display:""}},m=function(e){return"sheet"===u(e)},h=function(e){var t=o.fileTypes.find(e);return!!t&&-3===t.id},b=function(e){var t=o.fileTypes.find(e);return!!t&&-4===t.id},g=function(e){return"doc"===u(e)},_=function(e){return"docx"===p(e)},v=function(e){return"slide"===u(e)},y=function(e){return"form"===u(e)},E=function(e){return"board"===u(e)},O=function(e){return"folder"===u(e)},x=function(e){var t=o.fileTypes.find(e);return!!t&&"newdoc"===t.name},T=function(e){var t=o.fileTypes.find(e);if(!t)return!1;var n=t.name;return"sheet"===n||"mosheet"===n},C=function(e){return"mindmap"===u(e)},w=function(e){return e&&e.isSpace};function S(e,t,n){if(void 0===n&&(n=!1),"number"==typeof e&&(e+=""),!e||!t)return"";if(R(e))return"/files/"+t;if(n)return"/space/"+t;var r=o.fileTypes.find(e);return r?"/"+r.url+"/"+t:"#"}var j=function(e){return!(!e||!e.role)},I=function(e){return e&&e.role&&"owner"!==e.role},A=function(e){return e&&!j(e)&&"private"!==e.shareMode},k=function(e){return e&&!j(e)&&!s()(e,"permissions.editable",!1)&&("enterprise_readonly"===e.shareMode||"readonly"===e.shareMode)},N=function(e){return e&&!j(e)&&s()(e,"permissions.editable",!1)},P=function(e){return e&&s()(e,"permissions.manageable",!1)},R=function(e){if(!e)return!1;var t=o.fileTypes.find(e);return!!t&&1<t.id};function D(e){return e?l()(e):""}},function(e,t,n){"use strict";n.r(t),n.d(t,"getApi",function(){return a}),n.d(t,"getHost",function(){return s}),n.d(t,"getSocketHost",function(){return c}),n.d(t,"isDev",function(){return l}),n.d(t,"getClientId",function(){return u}),n.d(t,"getClientSecret",function(){return p}),n.d(t,"getUploaderUrl",function(){return d});var r=n(25),o=n(39);function i(){if("object"==typeof window)return window.process||(window.process=window.electronSdk.getGlobal("process")),window.process}function a(){return Object(o.isCheetah)()?i().env.APP_API:(Object(r.getString)("API_PATH")||"").replace(/\/$/,"")}function s(){return Object(o.isCheetah)()?i().env.APP_URL:location.origin}function c(){return Object(o.isCheetah)()?i().env.APP_WS:Object(r.getString)("WEBSOCKET_HOST")}function l(){return Object(o.isCheetah)()?"development"===i().env.NODE_ENV:Object(r.getBoolean)("IS_DEV")}function u(){return Object(o.isCheetah)()?i().env.APP_CLIENT_ID:"C8BA527C783AB2AB644CC3FF6CC7D"}function p(){return Object(o.isCheetah)()?"development"===i().env.NODE_ENV:"E5DCCF96EBB6BE9A3193DDE39B1B3"}function d(){return Object(o.isCheetah)()?i().env.APP_UPLOADER_URL||"":Object(r.getString)("UPLOADER_HOST")||""}},,function(e,t,n){"use strict";n.r(t),n.d(t,"isDingtalk",function(){return r}),n.d(t,"isWework",function(){return o}),n.d(t,"isMobileBrowser",function(){return i}),n.d(t,"isRetina",function(){return a}),n.d(t,"isDingtalkMobile",function(){return s}),n.d(t,"isDingtalkPc",function(){return c}),n.d(t,"isWechatPc",function(){return l}),n.d(t,"isWechat",function(){return u}),n.d(t,"isMobile",function(){return p}),n.d(t,"isDingtalkPcSidebar",function(){return d}),n.d(t,"isIOS",function(){return f}),n.d(t,"isAndroid",function(){return m}),n.d(t,"isAndroidApp",function(){return h}),n.d(t,"isIE",function(){return b}),n.d(t,"detectIE",function(){return g}),n.d(t,"isFireFox",function(){return _}),n.d(t,"isSafari",function(){return v}),n.d(t,"isMac",function(){return y}),n.d(t,"isWebIOS",function(){return E}),n.d(t,"isCheetah",function(){return O});var r=function(){return!!navigator.userAgent.match(/dingtalk/i)},o=function(){return!!navigator.userAgent.match(/wxwork/i)},i=function(){return!!navigator.userAgent.match(/iPad|iPhone|Android/i)};function a(){return 2<=window.devicePixelRatio}function s(){return!!navigator.userAgent.match(/mobile.*dingtalk/i)}function c(){return/dingTalk\([^\\)]+\)/i.test(navigator.userAgent)}function l(){return!!/micromessenger.*?windowswechat/i.test(navigator.userAgent)}function u(){return!!/micromessenger/i.test(navigator.userAgent)&&!l()}function p(){return!l()&&!!navigator.userAgent.match(/(iphone|ipod|ipad|android|windows phone|micromessenger)/i)}function d(){return!!document.getElementById("dingtalk-operation-wrap")}function f(){return!!/(ipad|iphone|ipod)/i.test(navigator.userAgent)}function m(){return!!/(android)/i.test(navigator.userAgent)}function h(){return!!/shimo-android-app/i.test(navigator.userAgent)}function b(){return!!window.ActiveXObject}function g(){var e=navigator.userAgent,t=e.indexOf("MSIE ");if(0<t)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(0<e.indexOf("Trident/")){var n=e.indexOf("rv:");return parseInt(e.substring(n+3,e.indexOf(".",n)),10)}var r=e.indexOf("Edge/");return 0<r?parseInt(e.substring(r+5,e.indexOf(".",r)),10):null}function _(){return!!navigator.userAgent.match(/firefox/i)}function v(){return-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("Chrome")}function y(){return/Mac|iPod|iPhone|iPad/.test(navigator.platform)}function E(){return!(window.cow.iOS||!f())}function O(){return"object"==typeof window&&window&&window.electronSdk}},function(e,t,n){"use strict";var r,o=n(0),s=n.n(o),i=n(11),a=n.n(i),c=n(13),l=n.n(c),u=n(15),p=n.n(u),d=n(12),f=n.n(d),m=n(14),h=n.n(m),b=n(1),g=n.n(b),_=n(3),v=n.n(_),y=n(4),E=n.n(y),O=n(32),x=n(19),T=(r=o.Component,h()(C,r),p()(C,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.description,r=e.okText,o=e.cancelText,i=e.footer,a=[s.a.createElement(x.a,{key:"confirm",type:"red",onClick:this.confirm},r),s.a.createElement(x.a,{key:"cancel",type:"outline",onClick:this.abort},o)];return s.a.createElement(O.a,Object.assign({title:t},this.props,{onCancel:this.cleanup,onOk:this.confirm,footer:i||a,visible:!0}),s.a.createElement(S,null,n))}}]),C);function C(){var e,t,n,r;l()(this,C);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return(t=n=f()(this,(e=C.__proto__||Object.getPrototypeOf(C)).call.apply(e,[this].concat(i)))).confirm=function(){n.props.confirmFun(),n.cleanup()},n.abort=function(){n.props.abortFun(),n.cleanup()},n.cleanup=function(){n.props.cleanup&&n.props.cleanup()},r=t,f()(n,r)}T.propTypes={title:v.a.string,description:v.a.node,confirmFun:v.a.func,abortFun:v.a.func,cleanup:v.a.func,okText:v.a.string,cancelText:v.a.string,footer:v.a.array},T.defaultProps={title:g()("确认弹窗"),description:g()("确定执行该操作吗？"),okText:g()("确认"),cancelText:g()("取消"),confirmFun:function(){},abortFun:function(){}};var w=T,S=E.a.span.withConfig({componentId:"aszjwv-0"})(["a{color:#7eb1f4;text-decoration:none;}a:active{color:#7eb1f4;}"]);t.a=function(e){function t(){return a.a.unmountComponentAtNode(n),n.parentNode.removeChild(n)}var n=document.body.appendChild(document.createElement("div")),r=e||{};return r.cleanup=t,a.a.render(s.a.createElement(w,r),n),t}},,,,,function(e,t,n){"use strict";var r=n(182);t.a=r.a},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var b=n(16),r=n(488),o=n.n(r),i=n(489),a=n.n(i),g=n(6),s={initialStructure:Object(b.Map)({mirror:Object(b.Map)(),diff:Object(b.Map)(),data:Object(b.Map)(),persist:Object(b.Set)()}),createMirror:function(e,n,r){return void 0===r?e:a()(["diff","data"],function(e,t){return e.update(t,function(e){return e.has(n)?e.set(r,e.get(n)).delete(n):e})},e.setIn(["mirror",n],r).update("persist",function(e){return e.union([n,r])}))},mirrorId:function(e,t){if("-"!==t[0])return t;var n=e.get("mirror");return n.has(t)?n.get(t):t},get:function(e,t){return e.getIn(["data",this.mirrorId(e,t)])},has:function(e,t){return e.hasIn(["data",this.mirrorId(e,t)])},remove:function(e,t){var n=this.mirrorId(e,t);return e.setIn(["data",n],null).removeIn(["diff",n]).update("persist",function(e){return e.add(n)})},unload:function(e,t){return e.removeIn(["data",this.mirrorId(e,t)])},merge:function(e,t,n,r){var o=void 0===r?{}:r,i=o.source,a=void 0===i?"user":i,s=o.create,c=void 0!==s&&s,l=o.factory;if(t=this.mirrorId(e,t),!l)throw new Error('options "factory" is not provided');var u=e.hasIn(["data",t]);if(!u&&!c)return Object(g.i)("warn","Prevented updating for non-existent object "+t+" with data "+JSON.stringify(n)),e;var p=u&&e.getIn(["data",t])||new l,d="api"===a?e.getIn(["diff",t],Object(b.Map)()):Object(b.Map)(),f=Object.keys(n).filter(function(e){return void 0!==n[e]&&p.has(e)&&!(d.has(e)||function(e,t,n){return e.checkFieldEqual?e.checkFieldEqual(t,n):e.get(n)===t[n]}(p,n,e))});if(0===f.length)return e;var m={};f.forEach(function(e){m[e]=n[e]});var h=e.setIn(["data",t],p.merge(m));return"development"===Object(g.f)()&&Object(b.is)(h,e)&&Object(g.i)("warn","content not changed while dirty: "+t+": "+f.join()),e=h.update("persist",function(e){return e.add(t)}),-1<["api","preload"].indexOf(a)?e:this.addDiffProperties(e,t,f)},addDiffProperties:function(e,t,n){return t=this.mirrorId(e,t),e.updateIn(["diff",t],Object(b.Set)(),function(e){return e.union(n)})},removeDiffProperties:function(e,t,n){var r=["diff",t=this.mirrorId(e,t)];if(!n)return e.deleteIn(r);var o=e.getIn(r);if(o){var i=o.subtract(n);return i.size?e.setIn(r,i):e.deleteIn(r)}return e},unsetPersist:function(e){return e.set("persist",this.initialStructure.get("persist"))},persist:function(r,o,i){var e=r.get("persist");return e.forEach(function(e){if(r.hasIn(["data",e])){var t=o+":data:"+e,n=r.getIn(["data",e]);n?i.set(t,n.toJS()):i.remove(t)}}),i.set(o+":diff",r.get("diff").toJS()),0<e.size},setDiff:function(e,t){return e.set("diff",Object(b.Map)(o()(t,b.Set)))}}},function(e,t,n){"use strict";var o=n(355),r=n(783),i=Object.prototype.toString;function a(e){return"[object Array]"===i.call(e)}function s(e){return null!==e&&"object"==typeof e}function c(e){return"[object Function]"===i.call(e)}function l(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),a(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:a,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:r,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:c,isStream:function(e){return s(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:l,merge:function n(){var r={};function e(e,t){"object"==typeof r[t]&&"object"==typeof e?r[t]=n(r[t],e):r[t]=e}for(var t=0,o=arguments.length;t<o;t++)l(arguments[t],e);return r},deepMerge:function n(){var r={};function e(e,t){"object"==typeof r[t]&&"object"==typeof e?r[t]=n(r[t],e):r[t]="object"==typeof e?n({},e):e}for(var t=0,o=arguments.length;t<o;t++)l(arguments[t],e);return r},extend:function(n,e,r){return l(e,function(e,t){n[t]=r&&"function"==typeof e?o(e,r):e}),n},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},,,,,function(e,t,n){"use strict";function r(){return/dingTalk\([^\\)]+\)/i.test(navigator.userAgent)}function o(){return-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("Chrome")}function i(){return/Mac|iPod|iPhone|iPad/.test(navigator.platform)}n.d(t,"a",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"b",function(){return i})},,function(e,t,n){"use strict";n.r(t),n.d(t,"ShareMode",function(){return r}),n.d(t,"get120SizeIcon",function(){return xi}),n.d(t,"get80SizeIcon",function(){return Ti}),n.d(t,"get32SizeIcon",function(){return Ci}),n.d(t,"get30SizeIcon",function(){return wi}),n.d(t,"get26SizeIcon",function(){return Si}),n.d(t,"get20SizeIcon",function(){return ji}),n.d(t,"getCreateIcon",function(){return Ii}),n.d(t,"get15SizeIcon",function(){return Ai}),n.d(t,"get80SizeGrayIcon",function(){return ki}),n.d(t,"get26SizeGrayIcon",function(){return Ni}),n.d(t,"get26ShortcutIcon",function(){return Pi}),n.d(t,"get80ShortcutIcon",function(){return Ri}),n.d(t,"getFavicon",function(){return Di}),n.d(t,"getSubIconPosition",function(){return Ui});var r,o,i=n(5),a=n(389),s=n.n(a),c=n(247),l=n.n(c),u=n(414),p=n.n(u),d=n(403),f=n.n(d),m=n(260),h=n.n(m),b=n(428),g=n.n(b),_=n(439),v=n.n(_),y=n(448),E=n.n(y),O=n(460),x=n.n(O),T=n(472),C=n.n(T),w=n(233),S=n.n(w),j=n(238),I=n.n(j),A=n(251),k=n.n(A),N=n(248),P=n.n(N),R=n(129),D=n.n(R),L=n(261),M=n.n(L),F=n(264),U=n.n(F),B=n(267),z=n.n(B),V=n(268),G=n.n(V),H=n(271),W=n.n(H),Y=n(274),K=n.n(Y),$=n(277),q=n.n($),X=n(234),Q=n.n(X),J=n(239),Z=n.n(J),ee=n(249),te=n.n(ee),ne=n(252),re=n.n(ne),oe=n(130),ie=n.n(oe),ae=n(262),se=n.n(ae),ce=n(265),le=n.n(ce),ue=n(132),pe=n.n(ue),de=n(269),fe=n.n(de),me=n(272),he=n.n(me),be=n(275),ge=n.n(be),_e=n(278),ve=n.n(_e),ye=n(235),Ee=n.n(ye),Oe=n(240),xe=n.n(Oe),Te=n(250),Ce=n.n(Te),we=n(253),Se=n.n(we),je=n(131),Ie=n.n(je),Ae=n(263),ke=n.n(Ae),Ne=n(266),Pe=n.n(Ne),Re=n(133),De=n.n(Re),Le=n(270),Me=n.n(Le),Fe=n(273),Ue=n.n(Fe),Be=n(276),ze=n.n(Be),Ve=n(279),Ge=n.n(Ve),He=n(382),We=n.n(He),Ye=n(392),Ke=n.n(Ye),$e=n(165),qe=n.n($e),Xe=n(167),Qe=n.n(Xe),Je=n(419),Ze=n.n(Je),et=n(430),tt=n.n(et),nt=n(170),rt=n.n(nt),ot=n(451),it=n.n(ot),at=n(463),st=n.n(at),ct=n(475),lt=n.n(ct),ut=n(480),pt=n.n(ut),dt=n(381),ft=n.n(dt),mt=n(391),ht=n.n(mt),bt=n(394),gt=n.n(bt),_t=n(405),vt=n.n(_t),yt=n(415),Et=n.n(yt),Ot=n(418),xt=n.n(Ot),Tt=n(429),Ct=n.n(Tt),wt=n(440),St=n.n(wt),jt=n(450),It=n.n(jt),At=n(462),kt=n.n(At),Nt=n(474),Pt=n.n(Nt),Rt=n(479),Dt=n.n(Rt),Lt=n(380),Mt=n.n(Lt),Ft=n(390),Ut=n.n(Ft),Bt=n(393),zt=n.n(Bt),Vt=n(404),Gt=n.n(Vt),Ht=n(166),Wt=n.n(Ht),Yt=n(417),Kt=n.n(Yt),$t=n(329),qt=n.n($t),Xt=n(169),Qt=n.n(Xt),Jt=n(449),Zt=n.n(Jt),en=n(461),tn=n.n(en),nn=n(473),rn=n.n(nn),on=n(478),an=n.n(on),sn=n(236),cn=n.n(sn),ln=n(395),un=n.n(ln),pn=n(406),dn=n.n(pn),fn=n(168),mn=n.n(fn),hn=n(420),bn=n.n(hn),gn=n(431),_n=n.n(gn),vn=n(171),yn=n.n(vn),En=n(452),On=n.n(En),xn=n(464),Tn=n.n(xn),Cn=n(476),wn=n.n(Cn),Sn=n(481),jn=n.n(Sn),In=n(237),An=n.n(In),kn=n(396),Nn=n.n(kn),Pn=n(407),Rn=n.n(Pn),Dn=n(416),Ln=n.n(Dn),Mn=n(421),Fn=n.n(Mn),Un=n(432),Bn=n.n(Un),zn=n(441),Vn=n.n(zn),Gn=n(453),Hn=n.n(Gn),Wn=n(465),Yn=n.n(Wn),Kn=n(477),$n=n.n(Kn),qn=n(482),Xn=n.n(qn),Qn=n(383),Jn=n.n(Qn),Zn=n(241),er=n.n(Zn),tr=n(397),nr=n.n(tr),rr=n(408),or=n.n(rr),ir=n(254),ar=n.n(ir),sr=n(422),cr=n.n(sr),lr=n(433),ur=n.n(lr),pr=n(442),dr=n.n(pr),fr=n(454),mr=n.n(fr),hr=n(466),br=n.n(hr),gr=n(385),_r=n.n(gr),vr=n(243),yr=n.n(vr),Er=n(399),Or=n.n(Er),xr=n(410),Tr=n.n(xr),Cr=n(256),wr=n.n(Cr),Sr=n(424),jr=n.n(Sr),Ir=n(435),Ar=n.n(Ir),kr=n(444),Nr=n.n(kr),Pr=n(456),Rr=n.n(Pr),Dr=n(468),Lr=n.n(Dr),Mr=n(384),Fr=n.n(Mr),Ur=n(242),Br=n.n(Ur),zr=n(398),Vr=n.n(zr),Gr=n(409),Hr=n.n(Gr),Wr=n(255),Yr=n.n(Wr),Kr=n(423),$r=n.n(Kr),qr=n(434),Xr=n.n(qr),Qr=n(443),Jr=n.n(Qr),Zr=n(455),eo=n.n(Zr),to=n(467),no=n.n(to),ro=n(387),oo=n.n(ro),io=n(245),ao=n.n(io),so=n(401),co=n.n(so),lo=n(412),uo=n.n(lo),po=n(258),fo=n.n(po),mo=n(426),ho=n.n(mo),bo=n(437),go=n.n(bo),_o=n(446),vo=n.n(_o),yo=n(458),Eo=n.n(yo),Oo=n(470),xo=n.n(Oo),To=n(386),Co=n.n(To),wo=n(244),So=n.n(wo),jo=n(400),Io=n.n(jo),Ao=n(411),ko=n.n(Ao),No=n(257),Po=n.n(No),Ro=n(425),Do=n.n(Ro),Lo=n(436),Mo=n.n(Lo),Fo=n(445),Uo=n.n(Fo),Bo=n(457),zo=n.n(Bo),Vo=n(469),Go=n.n(Vo),Ho=n(388),Wo=n.n(Ho),Yo=n(246),Ko=n.n(Yo),$o=n(402),qo=n.n($o),Xo=n(413),Qo=n.n(Xo),Jo=n(259),Zo=n.n(Jo),ei=n(427),ti=n.n(ei),ni=n(438),ri=n.n(ni),oi=n(447),ii=n.n(oi),ai=n(459),si=n.n(ai),ci=n(471),li=n.n(ci),ui=n(377),pi=n.n(ui),di=n(379),fi=n.n(di),mi=n(376),hi=n.n(mi),bi=n(378),gi=n.n(bi),_i=n(20),vi=n(36);function yi(e){return e.shareMode&&e.shareMode!==r.PRIVATE?pi.a:hi.a}function Ei(e){return e.shareMode&&e.shareMode!==r.PRIVATE?fi.a:gi.a}function Oi(e){return"modoc"===e?"modoc":Object(vi.toFileTypeStr)(e)}function xi(e){var t;return _i.i.isSpace(e)?yi(e):((t={})[i.fileTypes.folder.type]=Mt.a,t[i.fileTypes.newdoc.type]=S.a,t[i.fileTypes.modoc.name]=ft.a,t[i.fileTypes.sheet.type]=Q.a,t[i.fileTypes.slide.type]=Ee.a,t[i.fileTypes.mindmap.type]=We.a,t[i.fileTypes.form.type]=cn.a,t[i.fileTypes.board.type]=An.a,t[i.fileTypes.IMG]=Jn.a,t[i.fileTypes.PDF]=Fr.a,t[i.fileTypes.XLS]=Q.a,t[i.fileTypes.DOCX]=S.a,t[i.fileTypes.PPT]=Ee.a,t[i.fileTypes.MP3]=_r.a,t[i.fileTypes.ZIP]=Co.a,t[i.fileTypes.MP4]=oo.a,t[i.fileTypes.WPS]=Wo.a,t)[Oi(e.type)]||s.a}function Ti(e){var t;return _i.i.isSpace(e)?yi(e):((t={})[i.fileTypes.folder.type]=Ut.a,t[i.fileTypes.newdoc.type]=I.a,t[i.fileTypes.modoc.name]=ht.a,t[i.fileTypes.sheet.type]=Z.a,t[i.fileTypes.slide.type]=xe.a,t[i.fileTypes.mindmap.type]=Ke.a,t[i.fileTypes.form.type]=cn.a,t[i.fileTypes.board.type]=An.a,t[i.fileTypes.IMG]=er.a,t[i.fileTypes.PDF]=Br.a,t[i.fileTypes.XLS]=Z.a,t[i.fileTypes.DOCX]=I.a,t[i.fileTypes.PPT]=xe.a,t[i.fileTypes.MP3]=yr.a,t[i.fileTypes.ZIP]=So.a,t[i.fileTypes.MP4]=ao.a,t[i.fileTypes.WPS]=Ko.a,t)[Oi(e.type)]||l.a}function Ci(e){var t;return _i.i.isSpace(e)?yi(e):((t={})[i.fileTypes.folder.type]=zt.a,t[i.fileTypes.newdoc.type]=P.a,t[i.fileTypes.modoc.name]=gt.a,t[i.fileTypes.sheet.type]=te.a,t[i.fileTypes.slide.type]=Ce.a,t[i.fileTypes.mindmap.type]=qe.a,t[i.fileTypes.form.type]=un.a,t[i.fileTypes.board.type]=Nn.a,t[i.fileTypes.IMG]=nr.a,t[i.fileTypes.PDF]=Vr.a,t[i.fileTypes.XLS]=te.a,t[i.fileTypes.DOCX]=P.a,t[i.fileTypes.PPT]=Ce.a,t[i.fileTypes.MP3]=Or.a,t[i.fileTypes.ZIP]=Io.a,t[i.fileTypes.MP4]=co.a,t[i.fileTypes.WPS]=qo.a,t)[Oi(e.type)]||f.a}function wi(e){var t;return _i.i.isSpace(e)?yi(e):((t={})[i.fileTypes.folder.type]=Gt.a,t[i.fileTypes.newdoc.type]=k.a,t[i.fileTypes.modoc.name]=vt.a,t[i.fileTypes.sheet.type]=re.a,t[i.fileTypes.slide.type]=Se.a,t[i.fileTypes.mindmap.type]=qe.a,t[i.fileTypes.form.type]=dn.a,t[i.fileTypes.board.type]=Rn.a,t[i.fileTypes.IMG]=or.a,t[i.fileTypes.PDF]=Hr.a,t[i.fileTypes.XLS]=re.a,t[i.fileTypes.DOCX]=k.a,t[i.fileTypes.PPT]=Se.a,t[i.fileTypes.MP3]=Tr.a,t[i.fileTypes.ZIP]=ko.a,t[i.fileTypes.MP4]=uo.a,t[i.fileTypes.WPS]=Qo.a,t)[Oi(e.type)]||p.a}function Si(e){var t;return _i.i.isSpace(e)?yi(e):((t={})[i.fileTypes.folder.type]=Wt.a,t[i.fileTypes.newdoc.type]=D.a,t[i.fileTypes.modoc.name]=Et.a,t[i.fileTypes.sheet.type]=ie.a,t[i.fileTypes.slide.type]=Ie.a,t[i.fileTypes.mindmap.type]=Qe.a,t[i.fileTypes.form.type]=mn.a,t[i.fileTypes.board.type]=Ln.a,t[i.fileTypes.IMG]=ar.a,t[i.fileTypes.PDF]=Yr.a,t[i.fileTypes.XLS]=ie.a,t[i.fileTypes.DOCX]=D.a,t[i.fileTypes.PPT]=Ie.a,t[i.fileTypes.MP3]=wr.a,t[i.fileTypes.ZIP]=Po.a,t[i.fileTypes.MP4]=fo.a,t[i.fileTypes.WPS]=Zo.a,t)[Oi(e.type)]||h.a}function ji(e){var t;return _i.i.isSpace(e)?yi(e):((t={})[i.fileTypes.folder.type]=Kt.a,t[i.fileTypes.newdoc.type]=M.a,t[i.fileTypes.modoc.name]=xt.a,t[i.fileTypes.sheet.type]=se.a,t[i.fileTypes.slide.type]=ke.a,t[i.fileTypes.mindmap.type]=Ze.a,t[i.fileTypes.form.type]=bn.a,t[i.fileTypes.board.type]=Fn.a,t[i.fileTypes.IMG]=cr.a,t[i.fileTypes.PDF]=$r.a,t[i.fileTypes.XLS]=se.a,t[i.fileTypes.DOCX]=M.a,t[i.fileTypes.PPT]=ke.a,t[i.fileTypes.MP3]=jr.a,t[i.fileTypes.ZIP]=Do.a,t[i.fileTypes.MP4]=ho.a,t[i.fileTypes.WPS]=ti.a,t)[Oi(e.type)]||g.a}function Ii(e){var t;return((t={})[i.fileTypes.folder.type]=qt.a,t[i.fileTypes.newdoc.type]=U.a,t[i.fileTypes.modoc.name]=Ct.a,t[i.fileTypes.sheet.type]=le.a,t[i.fileTypes.slide.type]=Pe.a,t[i.fileTypes.mindmap.type]=tt.a,t[i.fileTypes.form.type]=_n.a,t[i.fileTypes.board.type]=Bn.a,t[i.fileTypes.IMG]=ur.a,t[i.fileTypes.PDF]=Xr.a,t[i.fileTypes.XLS]=le.a,t[i.fileTypes.DOCX]=U.a,t[i.fileTypes.PPT]=Pe.a,t[i.fileTypes.MP3]=Ar.a,t[i.fileTypes.ZIP]=Mo.a,t[i.fileTypes.MP4]=go.a,t[i.fileTypes.WPS]=ri.a,t)[Oi(e)]||v.a}function Ai(e){var t;return _i.i.isSpace(e)?yi(e):((t={})[i.fileTypes.folder.type]=Qt.a,t[i.fileTypes.newdoc.type]=z.a,t[i.fileTypes.modoc.name]=St.a,t[i.fileTypes.sheet.type]=pe.a,t[i.fileTypes.slide.type]=De.a,t[i.fileTypes.mindmap.type]=rt.a,t[i.fileTypes.form.type]=yn.a,t[i.fileTypes.board.type]=Vn.a,t[i.fileTypes.IMG]=dr.a,t[i.fileTypes.PDF]=Jr.a,t[i.fileTypes.XLS]=pe.a,t[i.fileTypes.DOCX]=z.a,t[i.fileTypes.PPT]=De.a,t[i.fileTypes.MP3]=Nr.a,t[i.fileTypes.ZIP]=Uo.a,t[i.fileTypes.MP4]=vo.a,t[i.fileTypes.WPS]=ii.a,t)[Oi(e.type)]||E.a}function ki(e){var t;return _i.i.isSpace(e)?Ei(e):((t={})[i.fileTypes.folder.type]=Zt.a,t[i.fileTypes.newdoc.type]=G.a,t[i.fileTypes.modoc.name]=It.a,t[i.fileTypes.sheet.type]=fe.a,t[i.fileTypes.slide.type]=Me.a,t[i.fileTypes.mindmap.type]=it.a,t[i.fileTypes.form.type]=On.a,t[i.fileTypes.board.type]=Hn.a,t[i.fileTypes.IMG]=mr.a,t[i.fileTypes.PDF]=eo.a,t[i.fileTypes.XLS]=fe.a,t[i.fileTypes.DOCX]=G.a,t[i.fileTypes.PPT]=Me.a,t[i.fileTypes.MP3]=Rr.a,t[i.fileTypes.ZIP]=zo.a,t[i.fileTypes.MP4]=Eo.a,t[i.fileTypes.WPS]=si.a,t)[Oi(e.type)]||x.a}function Ni(e){var t;return _i.i.isSpace(e)?Ei(e):((t={})[i.fileTypes.folder.type]=tn.a,t[i.fileTypes.newdoc.type]=W.a,t[i.fileTypes.modoc.name]=kt.a,t[i.fileTypes.sheet.type]=he.a,t[i.fileTypes.slide.type]=Ue.a,t[i.fileTypes.mindmap.type]=st.a,t[i.fileTypes.form.type]=Tn.a,t[i.fileTypes.board.type]=Yn.a,t[i.fileTypes.IMG]=br.a,t[i.fileTypes.PDF]=no.a,t[i.fileTypes.XLS]=he.a,t[i.fileTypes.DOCX]=W.a,t[i.fileTypes.PPT]=Ue.a,t[i.fileTypes.MP3]=Lr.a,t[i.fileTypes.ZIP]=Go.a,t[i.fileTypes.MP4]=xo.a,t[i.fileTypes.WPS]=li.a,t)[Oi(e.type)]||C.a}function Pi(e){var t;return _i.i.isSpace(e)?yi(e):((t={})[i.fileTypes.folder.type]=rn.a,t[i.fileTypes.newdoc.type]=K.a,t[i.fileTypes.modoc.name]=Pt.a,t[i.fileTypes.sheet.type]=ge.a,t[i.fileTypes.slide.type]=ze.a,t[i.fileTypes.mindmap.type]=lt.a,t[i.fileTypes.form.type]=wn.a,t[i.fileTypes.board.type]=$n.a,t[i.fileTypes.IMG]=ar.a,t[i.fileTypes.PDF]=Yr.a,t[i.fileTypes.XLS]=ge.a,t[i.fileTypes.DOCX]=K.a,t[i.fileTypes.PPT]=ze.a,t[i.fileTypes.MP3]=wr.a,t[i.fileTypes.ZIP]=Po.a,t[i.fileTypes.MP4]=fo.a,t[i.fileTypes.WPS]=Zo.a,t)[Oi(e.type)]||h.a}function Ri(e){var t;return _i.i.isSpace(e)?yi(e):((t={})[i.fileTypes.folder.type]=an.a,t[i.fileTypes.newdoc.type]=q.a,t[i.fileTypes.modoc.name]=Dt.a,t[i.fileTypes.sheet.type]=ve.a,t[i.fileTypes.slide.type]=Ge.a,t[i.fileTypes.mindmap.type]=pt.a,t[i.fileTypes.form.type]=jn.a,t[i.fileTypes.board.type]=Xn.a,t[i.fileTypes.IMG]=er.a,t[i.fileTypes.PDF]=Br.a,t[i.fileTypes.XLS]=ve.a,t[i.fileTypes.DOCX]=q.a,t[i.fileTypes.PPT]=Ge.a,t[i.fileTypes.MP3]=yr.a,t[i.fileTypes.ZIP]=So.a,t[i.fileTypes.MP4]=ao.a,t[i.fileTypes.WPS]=Ko.a,t)[Oi(e.type)]||l.a}function Di(e){var t,n=__RUNTIME_ENV__.PRIVATE_DEPLOY_FAVICON||"https://assets.smcdn.cn/from_qbox/favicon.ico";if(!e)return n;var r="modoc"===e?"modoc":Object(vi.toFileTypeStr)(e);return((t={})[i.fileTypes.folder.type]="https://assets.smcdn.cn/from_qbox/folder_favicon.ico",t[i.fileTypes.newdoc.type]="https://assets.smcdn.cn/from_qbox/doc_favicon.ico",t[i.fileTypes.modoc.name]="https://assets.smcdn.cn/from_qbox/docx_favicon.ico",t[i.fileTypes.sheet.type]="https://assets.smcdn.cn/from_qbox/sheet_favicon.ico",t[i.fileTypes.slide.type]="https://assets.smcdn.cn/from_qbox/slide_favicon.ico",t[i.fileTypes.mindmap.type]="https://assets.smcdn.cn/from_qbox/mindmap_favicon.ico",t[i.fileTypes.form.type]="https://assets.smcdn.cn/from_qbox/form_favicon.ico",t[i.fileTypes.board.type]="https://assets.smcdn.cn/from_qbox/board_favicon.ico",t)[r]||n}(o=r=r||{}).UNKNOWN_SHARE_MODE="unknown_share_mode",o.PRIVATE="private",o.READONLY="readonly",o.EDITABLE="editable",o.ENTERPRISE_READONLY="enterprise_readonly",o.ENTERPRISE_EDITABLE="enterprise_editable",o.ENTERPRISE_COMMENTABLE="enterprise_commentable";var Li={starIcon:{left:26,top:2},collaboratorIcon:{left:30,top:49},collaboratorCountIcon:{left:50,top:48}},Mi={starIcon:{left:23,top:20},collaboratorIcon:{left:29,top:49},collaboratorCountIcon:{left:49,top:48}},Fi={starIcon:{left:23,top:22},collaboratorIcon:{left:33,top:34},collaboratorCountIcon:{left:58,top:30}},Ui=function(e){var t,n=Li;return((t={})[i.fileTypes.folder.type]=Fi,t[i.fileTypes.newdoc.type]=Li,t[i.fileTypes.modoc.name]=Li,t[i.fileTypes.sheet.type]=Mi,t[i.fileTypes.slide.type]=Mi,t[i.fileTypes.mindmap.type]=Mi,t[i.fileTypes.form.type]=Li,t[i.fileTypes.board.type]=Mi,t[i.fileTypes.IMG]=Mi,t[i.fileTypes.PDF]=Li,t[i.fileTypes.XLS]=Mi,t[i.fileTypes.DOCX]=Li,t[i.fileTypes.PPT]=Mi,t[i.fileTypes.MP3]=Li,t[i.fileTypes.ZIP]=Li,t[i.fileTypes.MP4]=Li,t[i.fileTypes.WPS]=Li,t)[Object(vi.toFileTypeStr)(e.type,!0)]||n}},,,,,,function(e,t,n){"use strict";var r=n(12),o=n.n(r),i=n(14),a=n.n(i),s=n(13),c=n.n(s),l=n(15),u=n.n(l),p=(n(1),n(0)),d=n.n(p),f=n(3),m=n.n(f),h=n(83),b=n(4),g=n.n(b),_=n(9);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),E(this,O(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(t,d.a.Component),function(e,t,n){t&&y(e.prototype,t),n&&y(e,n)}(t,[{key:"render",value:function(){return d.a.createElement("svg",T({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 12"},this.props),d.a.createElement("path",{d:"M6 12c-3.3 0-6-2.7-6-6s2.7-6 6-6 6 2.7 6 6-2.7 6-6 6zm0-1c2.8 0 5-2.2 5-5S8.8 1 6 1 1 3.2 1 6s2.2 5 5 5zm-.5-6.8c0-.4.2-.7.7-.7h.2c.4 0 .6.3.6.7L6.5 7H6l-.5-2.8zm0 4c0-.4.3-.8.8-.8.4.1.7.4.7.8 0 .5-.3.8-.8.8-.4 0-.7-.3-.7-.8z",fill:"#cd4747"}))}}]),t}(),w=n(106),S=n(35),j=g.a.div.withConfig({componentId:"sc-12xwsz1-0"})(["display:inline-block;box-sizing:border-box;min-height:42px;padding:10px 25px;margin:6px 20px 0 20px;box-shadow:0 2px 6px 0 rgba(0,0,0,0.15);border-radius:2px;border:solid 1px #e5e5e5;color:",";background-color:#fff;",";span{vertical-align:middle;}"],_.i.BLACK_80,Object(S.b)("p4")),I=g()(C).withConfig({componentId:"sc-12xwsz1-1"})(["width:12px;height:12px;vertical-align:middle;margin-right:10px;"]),A=g()(w.a).withConfig({componentId:"sc-12xwsz1-2"})(["width:12px;height:12px;vertical-align:middle;margin-left:10px;path{fill:#c2c2c2;}&:hover{text-decoration:underline;cursor:pointer;path{fill:#666;}}"]),k=g.a.div.withConfig({componentId:"sc-12xwsz1-3"})(["display:inline-block;",";color:#6da0e3;padding-left:10px;&:hover{text-decoration:underline;cursor:pointer;}"],Object(S.b)("p4")),N=g()(j).withConfig({componentId:"sc-12xwsz1-4"})(["background-color:#fcf2d7;"]),P=g.a.div.withConfig({componentId:"sc-12xwsz1-5"})(["animation:shake 0.8s cubic-bezier(0.36,0.07,0.19,0.97) both;transform:translate3d(0,0,0);display:inline-block;@keyframes shake{10%,90%{transform:translate3d(-1px,0,0);}20%,80%{transform:translate3d(2px,0,0);}30%,50%,70%{transform:translate3d(-4px,0,0);}40%,60%{transform:translate3d(4px,0,0);}}"]),R=n(72),D=n.n(R),L=n(161),M=n.n(L),F=(n(650),n(58)),U=n.n(F)()(["\n  #ToastsContainer_ShimoUI {\n    .Toastify__toast-container {\n      width: 100%;\n      text-align: center;\n      height: 0;\n      padding: 0;\n      margin: 0;\n      margin-top: 30px;\n      right: 0;\n    }\n  \n    .Toastify__toast {\n      box-shadow: none;\n      background: none;\n      cursor: auto;\n      overflow: visible;\n      margin: 0;\n      padding: 0;\n      display: inline;\n    }\n  \n    .Toastify__toast:after {\n      content: '\\a';\n      white-space: pre;\n    }\n  \n    .Toastify__toast-body {\n      display: inline;\n    }\n  \n    .Toast_mask {\n      position: fixed;\n      top:0;\n      left:0;\n      right:0;\n      bottom:0;\n      width:100%;\n      background: transparent;\n      z-index: 999999;\n    }\n  }\n"],["\n  #ToastsContainer_ShimoUI {\n    .Toastify__toast-container {\n      width: 100%;\n      text-align: center;\n      height: 0;\n      padding: 0;\n      margin: 0;\n      margin-top: 30px;\n      right: 0;\n    }\n  \n    .Toastify__toast {\n      box-shadow: none;\n      background: none;\n      cursor: auto;\n      overflow: visible;\n      margin: 0;\n      padding: 0;\n      display: inline;\n    }\n  \n    .Toastify__toast:after {\n      content: '\\\\a';\n      white-space: pre;\n    }\n  \n    .Toastify__toast-body {\n      display: inline;\n    }\n  \n    .Toast_mask {\n      position: fixed;\n      top:0;\n      left:0;\n      right:0;\n      bottom:0;\n      width:100%;\n      background: transparent;\n      z-index: 999999;\n    }\n  }\n"]);Object(b.injectGlobal)(U),n.d(t,"a",function(){return K});var B={autoClose:3e3,transition:Object(h.cssTransition)({enter:"zoomIn",exit:"zoomOut",duration:10,appendPosition:!1}),closeButton:!1,draggable:!1,hideProgressBar:!0,draggablePercent:0};function z(e){var t=D()({},B,e),n=t.content.length;return t.hash=JSON.stringify(e),t.onClose=function(e){var t=e.hash,n=!0;delete this._currentToast[t],M()(this._currentToast).forEach(function(e){e.needMask&&(n=!1)}),n&&document.getElementById("ToastsContainer_ShimoUI").classList.remove("Toast_mask")}.bind(this,t),t.closeButton&&(t.autoClose=!1),t.autoClose||(!1===t.autoClose?t.closeOnClick=!1:t.autoClose=n<=15?3e3:1e3*(3+(n-15)/17*2)),t}function V(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=void 0;return this._currentToast[e.hash]=this._currentToast[e.hash]||{},!!this._currentToast[e.hash].toastId&&(n=this._currentToast[e.hash].toastId,e.render=G(e,this._currentToast[e.hash].self,t),h.toast.update(n,e),n)}function G(e,t,n){var r=void 0,o=[d.a.createElement("span",{key:1},e.content,e.operation?d.a.createElement(k,{onClick:function(){e.operation.callback(),t.closeToast()}},e.operation.text):null)];switch(e.closeButton&&o.push(d.a.createElement(A,{key:2,onClick:function(){t.closeToast()}})),e.type){case"success":r=d.a.createElement(j,null,o);break;case"error":r=d.a.createElement(j,null,d.a.createElement(I,null),o);break;case"warning":r=d.a.createElement(N,null,o)}return n?d.a.createElement(P,{key:Date.now()},r):r}function H(e){var t=this,n=z.call(this,e),r=V.call(this,n);return r?{close:function(){return h.toast.dismiss(r)}}:(r=Object(h.toast)(function(e){return t._currentToast[n.hash].self=e,G(n,e,!1)},D()({},n,{closeButton:!1})),this._currentToast[n.hash].toastId=r,this._currentToast[n.hash].needMask=n.needMask,n.needMask&&document.getElementById("ToastsContainer_ShimoUI").classList.add("Toast_mask"),{close:function(){return h.toast.dismiss(r)},updateSameToast:function(e){return V.call(t,Object.assign({},n,e),!1)}})}function W(){c()(this,W),this._currentToast={},this._emitToast=H}var Y,K=new(u()(W,[{key:"success",value:function(e){return this._emitToast(D()({},e,{type:"success"}))}},{key:"error",value:function(e){return this._emitToast(D()({},e,{type:"error"}))}},{key:"warning",value:function(e){return this._emitToast(D()({},e,{type:"warning"}))}},{key:"closeAll",value:function(){h.toast.dismiss()}}]),W),$=(Y=p.Component,a()(q,Y),u()(q,[{key:"render",value:function(){return d.a.createElement("div",{id:"ToastsContainer_ShimoUI"},d.a.createElement(h.ToastContainer,{style:{top:this.props.top+"px"}}))}}]),q);function q(){return c()(this,q),o()(this,(q.__proto__||Object.getPrototypeOf(q)).apply(this,arguments))}$.propTypes={top:m.a.number},$.defaultProps={top:30};t.b={ToastsContainer:$,Toast:K}},,,function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"c",function(){return i});var r=1e3,o=1050,i=1060},,,function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(819),a=n(102),s=i("collab:saveStatus"),c=n(822),l=n(370),u=n(370);t.Status=u.Status;var p,d=(p=a.EventEmitter,o(f,p),f.prototype.onEvent=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];switch(s.apply(void 0,["receive event",e].concat(n)),e){case c.Event.ACCEPT:this.online=!0,this.beforeSendRequestTime=0,clearTimeout(this.saveTimeout),this.online||this.emitChange(l.Status.ONLINE),this.emitChange(l.Status.ONLINE_SAVED);break;case c.Event.ERROR:case c.Event.ACCEPT_FAILED:this.emitChange(l.Status.ONLINE_SAVE_FAILED);break;case c.Event.NEW_CHANGE:this.online?this.emitChange(l.Status.ONLINE_SAVING):this.emitChange(l.Status.OFFLINE_SAVING);break;case c.Event.NEW_CHANGE_SAVE_TO_STORAGE_FAILED:this.online||this.emitChange(l.Status.OFFLINE_SAVE_FAILED);break;case c.Event.NEW_CHANGE_SAVED_TO_STORAGE:this.online||this.emitChange(l.Status.OFFLINE_SAVED);break;case c.Event.BEFORE_SEND_REQUEST:if(this.beforeSendRequestTime)return;this.beforeSendRequestTime=Date.now(),clearTimeout(this.saveTimeout),this.saveTimeout=setTimeout(function(){t.online=!1,t.emitChange(l.Status.OFFLINE),t.emit(c.STATUS_CHANGE.SAVE_STATUS_REQ_TIMEDOUT)},this.timeoutThreshold);break;case c.Event.SERVER_CHANGE_APPLIED:this.online=!0,this.emitChange(l.Status.SERVER_CHANGE_APPLIED);break;case c.Event.WAITING_FOR_CAN_HANDLE_SERVER_CHANGES:clearTimeout(this.saveTimeout);break;case c.Event.NETWORK_CHANGE:var o=n[0];o!==this.online&&(this.online=o,this.emitChange(o?l.Status.ONLINE:l.Status.OFFLINE),o||this.emit(c.STATUS_CHANGE.SAVE_STATUS_NETWORK_OFFLINE))}},f.prototype.destroy=function(){clearTimeout(this.saveTimeout)},f.prototype.emitChange=function(e){s("saveStatus changed to",e),this.status=e,this.emit(this.events.CHANGE,e)},f.events={CHANGE:"change"},f);function f(e){var t=e.timeoutThreshold,n=e.online,r=void 0===n||n,o=p.call(this)||this;return o.events={CHANGE:"change"},o.beforeSendRequestTime=0,o.timeoutThreshold=t,o.online=r,o.status=o.online?l.Status.ONLINE:l.Status.OFFLINE,setTimeout(function(){o.status===l.Status.OFFLINE&&(o.emitChange(o.status),o.emit(c.STATUS_CHANGE.SAVE_STATUS_INIT_OFFLINE))},0),o}t.SaveStatus=d},,,function(e,t,n){"use strict";function r(e,t,n,r){var o="primary"!==r&&"secondary"!==r?parseInt(t)-2+"px":t;return Object(y.css)(["min-width:",";height:",";line-height:",";padding:0 ",";"],e,t,o,n)}function o(e){return"\n    position: relative;\n\n    &::before {\n      content: '';\n      display: block;\n      position: absolute;\n      top: -1px;\n      left: -1px;\n      z-index: -1;\n      width: 100%;\n      height: 100%;\n      border: 1px solid "+e+";\n      border-radius: 2px;\n      transition: opacity 0.3s ease-out;\n      opacity: 0;\n    }\n\n    &:hover {\n      border-radius: 1px;\n\n      &::before { opacity: 1 }\n    }\n\n    &[disabled] {\n      border-radius: 1px;\n\n      &::before { opacity: 1 }\n    }\n  "}var i,a=n(38),c=n.n(a),s=n(13),l=n.n(s),u=n(15),p=n.n(u),d=n(12),f=n.n(d),m=n(14),h=n.n(m),b=n(0),g=n.n(b),_=n(3),v=n.n(_),y=n(4),E=n.n(y),O=n(9),x=n(35),T=E.a.button.withConfig({componentId:"sc-1n784rm-0"})(["box-sizing:border-box;display:inline-block;border-radius:2px;border-width:1px;border-style:solid;background-color:#fff;text-align:center;text-decoration:none;cursor:pointer;transition:opacity 0.3s,border-color 0.3s;"," &:focus{outline:none;}&:active{opacity:0.9;}&:hover{background-image:none;}"," "," &[disabled]{cursor:not-allowed;background-image:none;}"],function(e){return e.block&&Object(y.css)(["display:block;width:100%;"])},function(e){return function(e){switch(e){case"secondary":return Object(y.css)(["color:",";border-width:0;background-image:linear-gradient(",",#f0f0f0);box-shadow:0 1px 1px 0 rgba(0,0,0,0.11);"," &:hover{box-shadow:0 1px 1px 0 rgba(0,0,0,0.11);background-image:linear-gradient(",",#f0f0f0);}&:active{box-shadow:0 1px 1px 0 rgba(0,0,0,0.1);background-image:linear-gradient(#f0f0f0,",");}&[disabled]{color:",";background-color:",";}"],O.i.BLACK_80,O.i.BLACK_5,o("rgba(0, 0, 0, 0.05)"),O.i.BLACK_5,O.i.BLACK_5,O.i.BLACK_30,O.i.BLACK_5);case"black":return Object(y.css)(["color:#fff;border-color:",";background-image:linear-gradient( ",","," );&:hover{background-color:",";}&[disabled]{background-color:",";border-color:",";}"],O.i.SHIMO_100,O.i.SHIMO_100,O.i.SHIMO_120,O.i.SHIMO_110,O.i.SHIMO_20,O.i.SHIMO_30);case"outline":return Object(y.css)(["color:#676b6f;border-color:",";background-image:linear-gradient(#fff,#fbfbfb);&:hover{background-color:#fff;border-color:",";}&[disabled]{color:",";background-color:",";border-color:",";}"],O.i.BLACK_30,O.i.BLACK_50,O.i.SHIMO_30,O.i.BLACK_5,O.i.BLACK_10);case"red":return Object(y.css)(["color:#fff;border-color:",";background-image:linear-gradient(",",",");&:hover{background-color:",";}&[disabled]{background-color:",";border-color:#e8cdce;}"],O.i.RED_120,O.i.RED_100,O.i.RED_120,O.i.RED_120,O.i.RED_20);case"blue":return Object(y.css)(["color:#fff;border-color:",";background-image:linear-gradient(#80b3f5,#6c9fe2);&:hover{background-color:",";}&[disabled]{background-color:",";border-color:#d3e2f6;}"],O.i.BLUE_100,O.i.BLUE_100,O.i.BLUE_20);case"flat":return Object(y.css)(["margin:0;color:#555;border-color:#d6d6d6;background-image:none;background-color:transparent;transition:opacity 0.3s;"," &:hover:not([disabled]){"," position:relative;z-index:1;}&[disabled]{background:transparent;color:inherit;border-color:#ccc;opacity:0.3;}"],function(e){return e.active&&"background: #e5e5e5;"},function(e){return e.isHoverActive&&Object(y.css)(["background-color:#e5e5e5;"])});case"primary":default:return Object(y.css)(["color:",";border-width:0;background-image:linear-gradient(#fdfdfd,#f8f8f8);box-shadow:0 1px 1px 0 rgba(0,0,0,0.11);"," &:hover{"," ","}"," &:active{box-shadow:0 1px 1px 0 rgba(0,0,0,0.1);background-image:linear-gradient(#f0f0f0,",");}&[disabled]{color:",";background-color:",";&::before{border-color:rgba(0,0,0,0.05);}}"],O.i.BLACK_80,o("rgba(65, 70, 75, 0.05)"),function(e){return e.active?"background-image: linear-gradient(#f0f0f0, "+O.i.BLACK_5+");":"background-image: linear-gradient(#fdfdfd, #f8f8f8);"},function(e){return e.active&&"box-shadow: 0 1px 1px 0 rgba(0, 0, 0, 0.1);"},function(e){return e.active&&"\n          box-shadow: 0 1px 1px 0 rgba(0, 0, 0, 0.1);\n          background-image: linear-gradient(#f0f0f0, "+O.i.BLACK_5+");"},O.i.BLACK_5,O.i.BLACK_30,O.i.BLACK_5)}}(e.type)},function(e){return function(e,t){switch(e){case"l":return Object(y.css)([""," ",""],Object(x.a)("h2"),r("120px","40px","24px",t));case"s":return Object(y.css)([""," ",""],Object(x.a)("h4"),r("90px","30px","15px",t));case"xs":return Object(y.css)([""," ",""],Object(x.b)("p4"),r("48px","26px","12px",t));case"xxs":return Object(y.css)([""," ",""],Object(x.a)("h4"),r("26px","26px","4px",t));case"m":default:return Object(y.css)([""," ",""],Object(x.a)("h3"),r("100px","34px","15px",t))}}(e.size)}),C=T.withComponent("a"),w=T,S=n(172),j=(i=b.Component,h()(I,i),p()(I,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.prefixCls,r=e.href,o=c()(e,["className","prefixCls","href"]),i=n+" "+t,a=Object.assign({},o),s=w;return r&&(s=C,a.href=r),g.a.createElement(s,Object.assign({},a,{className:i,onClick:this.handleClick,onMouseUp:this.handleMouseUp}),this.props.children)}}]),I);function I(){var e,t,n,r;l()(this,I);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return(t=n=f()(this,(e=I.__proto__||Object.getPrototypeOf(I)).call.apply(e,[this].concat(i)))).handleClick=function(e){n.props.onClick(e)},n.handleMouseUp=function(e){n.props.onMouseUp(e)},r=t,f()(n,r)}j.__SM_BUTTTON__=!0,j.Group=S.a,j.propTypes={prefixCls:v.a.string,className:v.a.string,children:v.a.node,onClick:v.a.func,onMouseUp:v.a.func,href:v.a.string,disabled:v.a.bool,block:v.a.bool,type:v.a.oneOf(["default","primary","secondary","black","red","blue","outline","flat"]),size:v.a.oneOf(["l","m","s","xs"]),style:v.a.object,active:v.a.bool,isHoverActive:v.a.bool},j.defaultProps={prefixCls:"sm-button",className:"",onClick:function(){},onMouseUp:function(){},loading:!1,disabled:!1,block:!1,type:"default",size:"m",active:!1,isHoverActive:!1};t.a=j},,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(184);t.a=r.a},,,,,,,,function(e,t,n){"use strict";var r=n(13),s=n.n(r),o=n(15),i=n.n(o),a=n(12),c=n.n(a),l=n(14),u=n.n(l),p=n(1),m=n.n(p),d=n(0),h=n.n(d),f=n(3),b=n.n(f),g=n(58),_=n.n(g),v=n(4),y=n.n(v),E=n(9),O=n(107),x=n(35),T=n(539),C=n(63),w=_()(["\n  ."," {\n    ","\n  }\n\n  .sm-modal-mask-hidden {\n    display: none;\n  }\n"],["\n  ."," {\n    ","\n  }\n\n  .sm-modal-mask-hidden {\n    display: none;\n  }\n"]),S="\n  position: fixed;\n  overflow: auto;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 999;\n  -webkit-overflow-scrolling: touch;\n  outline: 0;\n",j={position:"fixed",top:0,right:0,left:0,bottom:0,backgroundColor:"rgba(55, 55, 55, 0.6)",height:"100%",zIndex:C.b-1},I="randomClass-"+Object(O.a)(S);Object(v.injectGlobal)(w,I,S);var A,k=y()(T.a).withConfig({componentId:"sc-15mo6n6-0"})(["position:relative;width:auto;.sm-modal-title{"," color:",";}.sm-modal-content{position:relative;padding:30px 40px;background-image:linear-gradient(#fff,#fafafa);box-shadow:0 2px 3px 1px rgba(0,0,0,0.1);border-radius:2px;}.sm-modal-close{display:",";position:absolute;right:40px;top:30px;z-index:10;padding:0;line-height:1;border:0;outline:0;background:transparent;cursor:pointer;transition:color 0.3s ease;.sm-modal-close-x{display:block;width:22px;height:22px;background-size:12px 12px;background-repeat:no-repeat;background-position:center;background-image:url('data:image/svg+xml;base64,PCEtLSBHZW5lcmF0ZWQgYnkgSWNvTW9vbi5pbyAtLT4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiB2aWV3Qm94PSIwIDAgMzIgMzIiPgo8dGl0bGU+Y2xvc2U8L3RpdGxlPgo8cGF0aCBmaWxsPSIjYzJjMmMyIiBkPSJNMTYuMDI4IDE0LjE0MmwtMTQuMTQyLTE0LjE0Mi0xLjg4NiAxLjg4NiAxNC4xNDIgMTQuMTQyLTE0LjE0MiAxNC4xNDIgMS44ODYgMS44ODYgMTQuMTQyLTE0LjE0MiAxNC4xNDIgMTQuMTQyIDEuODg2LTEuODg2LTE0LjE0Mi0xNC4xNDIgMTQuMTQyLTE0LjE0Mi0xLjg4Ni0xLjg4Ni0xNC4xNDIgMTQuMTQyeiI+PC9wYXRoPgo8L3N2Zz4K');&:focus,&:hover{background-image:url('data:image/svg+xml;base64,PCEtLSBHZW5lcmF0ZWQgYnkgSWNvTW9vbi5pbyAtLT4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiB2aWV3Qm94PSIwIDAgMzIgMzIiPgo8dGl0bGU+Y2xvc2U8L3RpdGxlPgo8cGF0aCBmaWxsPSIjNjY2IiBkPSJNMTYuMDI4IDE0LjE0MmwtMTQuMTQyLTE0LjE0Mi0xLjg4NiAxLjg4NiAxNC4xNDIgMTQuMTQyLTE0LjE0MiAxNC4xNDIgMS44ODYgMS44ODYgMTQuMTQyLTE0LjE0MiAxNC4xNDIgMTQuMTQyIDEuODg2LTEuODg2LTE0LjE0Mi0xNC4xNDIgMTQuMTQyLTE0LjE0Mi0xLjg4Ni0xLjg4Ni0xNC4xNDIgMTQuMTQyeiI+PC9wYXRoPgo8L3N2Zz4K');}}}.sm-modal-header{margin-bottom:24px;}.sm-modal-body{margin-bottom:30px;"," color:",";}.sm-modal-footer{text-align:right;button + button{margin-left:10px;margin-bottom:0;}a + button{margin-left:10px;margin-bottom:0;}}&.zoom-enter,&.zoom-appear{animation-duration:0.3s;transform:none;opacity:0;}.sm-modal-open{overflow:hidden;}"],Object(x.a)("h2"),E.i.BLACK_110,function(e){return e.closable?"block":"none"},Object(x.b)("p3"),E.i.BLACK_100),N=n(19),P=(A=d.Component,u()(R,A),i()(R,[{key:"render",value:function(){var e=this.props,t=e.prefixCls,n=e.className,r=e.closable,o=e.title,i=e.width,a=e.maskClosable,s=e.getContainer,c=e.okText,l=e.cancelText,u=e.footer,p=e.visible,d=e.maskStyle,f=void 0;return void 0===u&&(f=[null===c?null:h.a.createElement(N.a,{key:"confirm",type:"black",onClick:this.handleOk},c||m()("确定")),null===l?null:h.a.createElement(N.a,{key:"cancel",type:"outline",onClick:this.handleCancel},l||m()("取消"))]),h.a.createElement(k,Object.assign({},this.props,{maskStyle:d||j,wrapClassName:I,prefixCls:t,className:n,closable:r,maskClosable:a,title:o,onClose:this.handleCancel,visible:p,width:i,getContainer:s,footer:void 0===u?f:u}))}}]),R);function R(){var e,t,n,r;s()(this,R);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return(t=n=c()(this,(e=R.__proto__||Object.getPrototypeOf(R)).call.apply(e,[this].concat(i)))).handleCancel=function(e){n.props.onCancel(e)},n.handleOk=function(e){n.props.onOk(e)},r=t,c()(n,r)}P.propTypes={prefixCls:b.a.string,className:b.a.string,visible:b.a.bool,title:b.a.node,footer:b.a.node,okText:b.a.node,cancelText:b.a.node,onOk:b.a.func,onCancel:b.a.func,width:b.a.oneOfType([b.a.number,b.a.string]),closable:b.a.bool,maskClosable:b.a.bool,maskStyle:b.a.object,getContainer:b.a.func},P.defaultProps={prefixCls:"sm-modal",width:460,visible:!1,maskClosable:!0,closable:!0,onCancel:function(){},onOk:function(){}};t.a=P},,,,,,,,,,function(e,t,n){"use strict";n.r(t),n.d(t,"createWindowOpener",function(){return i}),n.d(t,"linkTo",function(){return a}),n.d(t,"getCompleteUrl",function(){return s});var r=n(39),o=n(37);function i(){if(Object(r.isDingtalk)())return function(e){return location.href=e};if(Object(r.isCheetah)())return function(e){window.open(e)};var t=window.open("","_blank");return function(e){t?t.location.href=e:location.href=e}}function a(e){window.location.href=e}function s(e){return-1<e.indexOf("://")?e:("/"!==e[0]&&(e="/"+e),Object(o.getHost)()+e)}},,,function(e,t,n){"use strict";n.d(t,"b",function(){return u}),n.d(t,"a",function(){return p});var r=n(57),o=n.n(r),i=n(4),a=n.n(i),s=n(9),c=n(35),l=a()(o.a).withConfig({componentId:"sc-1oanr0g-0"})(["outline:none;margin:0;padding:5px 0;list-style:none;background:#fff;box-shadow:0 2px 8px 0 rgba(0,0,0,0.1);border-radius:2px;",";"],function(e){var t=e.prefixCls;return Object(i.css)([".","-submenu-vertical-right.","-submenu-active{position:relative;background-color:",";svg{margin-right:10px;}.","-vertical-right{position:absolute;box-sizing:border-box;left:100%;right:auto;top:0;outline:none;padding:5px 0;list-style:none;background:#fff;box-shadow:0 2px 8px 0 rgba(0,0,0,0.1);border-radius:2px;}}.","-submenu-vertical-left.","-submenu-active{position:relative;background-color:",";svg{margin-right:10px;}.","-vertical-left{position:absolute;box-sizing:border-box;left:auto;right:100%;top:0;outline:none;padding:5px 0;list-style:none;background:#fff;box-shadow:0 2px 8px 0 rgba(0,0,0,0.1);border-radius:2px;}}.","-submenu-title{padding:6px 20px;color:",";position:relative;"," &:hover{background-color:",";}&::after{content:' ';display:inline-block;width:0px;height:0;border-top:4px solid transparent;border-left:4px solid #676b6f;border-bottom:4px solid transparent;position:absolute;right:25px;transform:translateY(50%);}}.","-hidden{display:none;}.","-item-group-list{margin:0;padding:0;}.","-item-group-title{line-height:1.5;padding:8px 16px;}.","-submenu,.","-submenu-title{cursor:pointer;transition:all 0.3s;}.","-submenu .","-sub{cursor:initial;}"],t,t,s.i.BLACK_5,t,t,t,s.i.BLACK_5,t,t,s.i.BLACK_80,Object(c.b)("p4"),s.i.BLACK_5,t,t,t,t,t,t,t)}),u=a()(r.Item).withConfig({componentId:"sc-1oanr0g-1"})(["padding:6px 45px 6px 20px;color:",";"," cursor:pointer;transition:all 0.3s;white-space:nowrap;&:hover{background-color:",";}",";"],s.i.BLACK_80,Object(c.b)("p4"),s.i.BLACK_5,function(e){var t=e.rootPrefixCls;return Object(i.css)(["&.","-item-disabled{color:",";cursor:not-allowed;background:none;}&.","-item-selected{position:relative;&::after{content:'';position:absolute;right:20px;top:6px;width:20px;height:20px;background-image:url('data:image/svg+xml;base64,PCEtLSBHZW5lcmF0ZWQgYnkgSWNvTW9vbi5pbyAtLT4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiB2aWV3Qm94PSIwIDAgMzIgMzIiPgo8dGl0bGU+Y2hlY2tfYmxhY2s8L3RpdGxlPgo8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM2NjYiIHN0cm9rZS13aWR0aD0iNC44IiBzdHJva2UtbWl0ZXJsaW1pdD0iNCIgc3Ryb2tlLWxpbmVjYXA9ImJ1dHQiIHN0cm9rZS1saW5lam9pbj0ibWl0ZXIiIGQ9Ik0yOC42OTEgOC44NDdsLTE1Ljg2MiAxNS44NjItNy45Mi03LjkyIj48L3BhdGg+Cjwvc3ZnPgo=');background-size:10px 10px;background-repeat:no-repeat;background-position:center;}}"],t,s.i.BLACK_50,t)}),p=a()(r.Divider).withConfig({componentId:"sc-1oanr0g-2"})(["height:1px;overflow:hidden;margin:5px 15px;background-color:",";line-height:0;"],s.i.BLACK_10);t.c=l},,function(e,t,n){"use strict";var r=n(0),d=n.n(r),o=n(4),i=n.n(o),a=n(3),s=n.n(a),f=n(134);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,p(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,d.a.Component),function(e,t,n){t&&l(e.prototype,t),n&&l(e,n)}(t,[{key:"render",value:function(){this.SVG_COMPONENT_ID=this.SVG_COMPONENT_ID||0;var e="d8b8c850b9c781bfaad97e077cbacd2a0_"+this.SVG_COMPONENT_ID++;return d.a.createElement("svg",h({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 12",enableBackground:"new 0 0 14 12"},this.props),d.a.createElement("filter",{filterUnits:"objectBoundingBox",height:"240%",id:e,width:"177.8%",x:"-38.9%",y:"-50%"},d.a.createElement("feOffset",{dy:"1",in:"SourceAlpha",result:"shadowOffsetOuter1"}),d.a.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:"1"}),d.a.createElement("feColorMatrix",{in:"shadowBlurOuter1",values:"0 0 0 0 0.254901961 0 0 0 0 0.274509804 0 0 0 0 0.294117647 0 0 0 1 0"})),d.a.createElement("path",{d:"M4.2 5.7h7.2v1.7h-9v-5h1.7v3.3z",filter:"url(#".concat(e,")"),transform:"rotate(-45 6.95 4.95)"}),d.a.createElement("path",{d:"M5.536 7.425l5.091-5.092 1.202 1.203-6.364 6.363-.566-.565-2.97-2.97 1.203-1.202 2.333 2.333z",fill:"#f7f7f7"}))}}]),t}();function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),v(this,y(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,d.a.Component),function(e,t,n){t&&_(e.prototype,t),n&&_(e,n)}(t,[{key:"render",value:function(){this.SVG_COMPONENT_ID=this.SVG_COMPONENT_ID||0;var e="0de73aaf06978f6785607d144dde4b8f0_"+this.SVG_COMPONENT_ID++;return d.a.createElement("svg",O({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 10 10"},this.props),d.a.createElement("linearGradient",{id:e,gradientUnits:"userSpaceOnUse",x1:"-242.833",y1:"356.557",x2:"-242.833",y2:"355.557",gradientTransform:"matrix(6 0 0 -6 1462 2140.34)"},d.a.createElement("stop",{offset:"0",stopColor:"#a0a2a5"}),d.a.createElement("stop",{offset:"1",stopColor:"#c6c7c9"})),d.a.createElement("circle",{cx:"5",cy:"4",r:"3",fill:"url(#".concat(e,")")}))}}]),t}();function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),w(this,S(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(t,d.a.Component),function(e,t,n){t&&C(e.prototype,t),n&&C(e,n)}(t,[{key:"render",value:function(){this.SVG_COMPONENT_ID=this.SVG_COMPONENT_ID||0;var e="974f8540180723a0dca9e854826fc95f0_"+this.SVG_COMPONENT_ID++;return d.a.createElement("svg",I({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 10 10",enableBackground:"new 0 0 10 10"},this.props),d.a.createElement("filter",{filterUnits:"objectBoundingBox",height:"216.7%",id:e,width:"216.7%",x:"-58.3%",y:"-41.7%"},d.a.createElement("feOffset",{dy:"1",in:"SourceAlpha",result:"shadowOffsetOuter1"}),d.a.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:"1"}),d.a.createElement("feColorMatrix",{in:"shadowBlurOuter1",values:"0 0 0 0 0.403921569 0 0 0 0 0.419607843 0 0 0 0 0.435294118 0 0 0 1 0"})),d.a.createElement("circle",{cx:"5",cy:"4",r:"3",filter:"url(#".concat(e,")")}),d.a.createElement("circle",{cx:"5",cy:"4",r:"3",fill:"#f7f7f7"}))}}]),t}();function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},M=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),P(this,R(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(t,d.a.Component),function(e,t,n){t&&N(e.prototype,t),n&&N(e,n)}(t,[{key:"render",value:function(){return d.a.createElement("svg",L({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 12"},this.props),d.a.createElement("path",{d:"M5.5 7L4.1 5.6c-.4-.4-1-.4-1.4 0-.4.4-.4 1 0 1.4l2.1 2.1c.2.2.5.3.7.3s.5-.1.7-.3l3.9-3.9c.4-.4.4-1 0-1.4-.4-.4-1-.4-1.4 0L5.5 7z",fill:"#a0a2a5"}))}}]),t}();function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(e,t){return!t||"object"!==F(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function V(e,t){return(V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function G(e){return"s"===e?"12px":"m"===e?"14px":"l"===e?"16px":"14px"}function H(e){var t=e.className,n=e.size,r=void 0===n?"m":n,o=e.checked,i=void 0===o||o,a=e.disabled,s=void 0!==a&&a,c=e.type,l=void 0===c?"check":c,u=i?function(e,t){switch(e){case"check":return t?q:$;case"radio":return t?re:ne;case"round-check":return t?Z:J;default:return t?re:ne}}(l,s):function(e,t){switch(e){case"check":return t?Q:X;case"radio":return t?ie:oe;case"round-check":return t?te:ee;default:return t?ie:oe}}(l,s),p=s?function(e){switch(e){case"check":return f.a;case"radio":return x;case"round-check":return M;default:return f.a}}(l):function(e){switch(e){case"check":return b;case"radio":return A;case"round-check":return Y;default:return b}}(l);return d.a.createElement(u,{className:t,size:r,disabled:s},i?d.a.createElement(p,{style:{display:"inline-block",verticalAlign:"middle",width:function(e,t){switch(t){case"check":return"s"===e?"11px":"m"===e?"13px":"l"===e?"15px":"13px";case"radio":return"s"===e?"8px":"m"===e?"8px":"l"===e?"10px":"8px";case"round-check":default:return"s"===e?"11px":"m"===e?"13px":"l"===e?"15px":"13px"}}(r,l),height:function(e,t){switch(t){case"check":return"s"===e?"10px":"m"===e?"12px":"l"===e?"14px":"12px";case"radio":return"s"===e?"10px":"m"===e?"10px":"l"===e?"12px":"10px";case"round-check":default:return"s"===e?"10px":"m"===e?"12px":"l"===e?"14px":"12px"}}(r,l),position:"absolute",top:function(e,t){switch(t){case"check":return"0px";case"radio":return"s"===e?"1px":"2px";case"round-check":default:return"0px"}}(r,l),left:function(e,t){switch(t){case"check":return"0px";case"radio":return"s"===e?"1px":"2px";case"round-check":default:return"0px"}}(r,l)}}):null)}var W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),B(this,z(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}(t,d.a.Component),function(e,t,n){t&&U(e.prototype,t),n&&U(e,n)}(t,[{key:"render",value:function(){this.SVG_COMPONENT_ID=this.SVG_COMPONENT_ID||0;var e="321fface881e53e698c4180ebfe228480_"+this.SVG_COMPONENT_ID++;return d.a.createElement("svg",W({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 12",enableBackground:"new 0 0 14 12"},this.props),d.a.createElement("filter",{filterUnits:"objectBoundingBox",height:"240%",id:e,width:"193.3%",x:"-46.7%",y:"-50%"},d.a.createElement("feOffset",{dy:"1",in:"SourceAlpha",result:"shadowOffsetOuter1"}),d.a.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:"1"}),d.a.createElement("feColorMatrix",{in:"shadowBlurOuter1",values:"0 0 0 0 0.254901961 0 0 0 0 0.274509804 0 0 0 0 0.294117647 0 0 0 1 0"})),d.a.createElement("path",{d:"M4.7 5.9v-2c0-.6-.4-1-1-1s-1 .4-1 1v3c0 .3.1.5.3.7.2.2.4.3.7.3h5.5c.6 0 1-.4 1-1s-.4-1-1-1H4.7z",filter:"url(#".concat(e,")"),transform:"rotate(-45 6.42 5.42)"}),d.a.createElement("path",{d:"M5.543 6.975L4.13 5.561c-.424-.424-.99-.424-1.414 0-.424.424-.424.99 0 1.414l2.121 2.121c.212.213.425.283.707.283.283 0 .495-.07.708-.283l3.889-3.889c.424-.424.424-.99 0-1.414s-.99-.424-1.415 0L5.543 6.975z",fill:"#f7f7f7"}))}}]),t}(),K=i.a.div.withConfig({componentId:"z9u7x6-0"})(["width:",";height:",";text-align:center;vertical-align:middle;display:inline-block;box-sizing:border-box;position:relative;"],function(e){var t=e.size;return G(t)},function(e){var t=e.size;return G(t)}),$=i()(K).withConfig({componentId:"z9u7x6-1"})(["background:#676b6f;border:1px solid rgba(0,0,0,0);box-shadow:inset 0 2px 4px 0 #41464b;border-radius:2px;cursor:pointer;&:hover{background:#676b6f;border:1px solid #41464b;box-shadow:inset 0 2px 4px 0 #41464b;}"]),q=i()(K).withConfig({componentId:"z9u7x6-2"})(["background:#ececed;border:1px solid rgba(0,0,0,0.1);box-shadow:inset 0 2px 4px 0 #c6c7c9;border-radius:2px;"]),X=i()(K).withConfig({componentId:"z9u7x6-3"})(["background:#ececed;border:1px solid rgba(0,0,0,0.1);box-shadow:inset 0 1px 3px 0 #c6c7c9;border-radius:2px;cursor:pointer;",";"],function(e){return e.disabled?"":"&:hover {\n      background: #ECECED;\n      border: 1px solid rgba(0,0,0,0.20);\n      box-shadow: inset 0 1px 3px 0 #C6C7C9;\n    }"}),Q=i()(K).withConfig({componentId:"z9u7x6-4"})(["background:#f7f7f7;border:1px solid rgba(0,0,0,0.1);border-radius:2px;"]),J=i()(K).withConfig({componentId:"z9u7x6-5"})(["background:#676b6f;border:1px solid rgba(0,0,0,0.1);box-shadow:inset 0 2px 4px 0 #41464b;border-radius:",";cursor:pointer;",";"],function(e){var t=e.size;return G(t)},function(e){return e.disabled?"":"&:hover {\n      background: #676B6F;\n      border: 1px solid rgba(0,0,0,0.20);\n      box-shadow: inset 0 2px 4px 0 #41464B;\n    }"}),Z=i()(K).withConfig({componentId:"z9u7x6-6"})(["background:#ececed;border:1px solid rgba(0,0,0,0.05);box-shadow:inset 0 2px 4px 0 #c6c7c9;border-radius:",";"],function(e){var t=e.size;return G(t)}),ee=i()(K).withConfig({componentId:"z9u7x6-7"})(["background:#ececed;border:1px solid rgba(0,0,0,0.1);box-shadow:inset 0 2px 4px 0 #c6c7c9;border-radius:",";cursor:pointer;",";"],function(e){var t=e.size;return G(t)},function(e){return e.disabled?"":"&:hover {\n      background: #ECECED;\n      border: 1px solid rgba(0,0,0,0.20);\n      box-shadow: inset 0 2px 4px 0 #C6C7C9;\n    }"}),te=i()(K).withConfig({componentId:"z9u7x6-8"})(["background:#f7f7f7;border:1px solid rgba(0,0,0,0.05);border-radius:",";"],function(e){var t=e.size;return G(t)}),ne=i()(K).withConfig({componentId:"z9u7x6-9"})(["background:#676b6f;border:1px solid rgba(0,0,0,0.1);box-shadow:inset 0 2px 4px 0 #41464b;border-radius:",";cursor:pointer;",";"],function(e){var t=e.size;return G(t)},function(e){return e.disabled?"":"&:hover {\n      background: #676B6F;\n      border: 1px solid rgba(0,0,0,0.20);\n      box-shadow: inset 0 2px 4px 0 #41464B;\n    }"}),re=i()(K).withConfig({componentId:"z9u7x6-10"})(["background:#ececed;border:1px solid rgba(0,0,0,0.05);box-shadow:inset 0 2px 4px 0 #c6c7c9;border-radius:",";"],function(e){var t=e.size;return G(t)}),oe=i()(K).withConfig({componentId:"z9u7x6-11"})(["background:#ececed;border:1px solid rgba(0,0,0,0.1);box-shadow:inset 0 2px 4px 0 #c6c7c9;border-radius:",";cursor:pointer;",";"],function(e){var t=e.size;return G(t)},function(e){return e.disabled?"":"&:hover {\n      background: #ECECED;\n      border: 1px solid rgba(0,0,0,0.20);\n      box-shadow: inset 0 2px 4px 0 #C6C7C9;\n    }"}),ie=i()(K).withConfig({componentId:"z9u7x6-12"})(["background:#f7f7f7;border:1px solid rgba(0,0,0,0.05);border-radius:",";"],function(e){var t=e.size;return G(t)});H.propTypes={size:s.a.oneOf(["s","m","l"]),className:s.a.string,checked:s.a.bool,disabled:s.a.bool,type:s.a.string};var ae=H;t.a=ae},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(0),o=n.n(r);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,c(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,o.a.Component),function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(t,[{key:"render",value:function(){return o.a.createElement("svg",u({"data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 15.6 15.6"},this.props),o.a.createElement("path",{d:"M9.2 7.8l6.4-6.4L14.2 0 7.8 6.4 1.4 0 0 1.4l6.4 6.4L0 14.2l1.4 1.4 6.4-6.4 6.4 6.4 1.4-1.4z",fill:"#a5a5a5"}))}}]),t}()},function(e,t,n){"use strict";function l(e,t){return e.charCodeAt(t++)+(e.charCodeAt(t++)<<8)}function u(e,t){return(65535&(e|=0))*(t|=0)+(((e>>>16)*t&65535)<<16)|0}var r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),o=r.length;t.a=function(e){var t="",n=void 0;for(n=function(e,t){for(var n,r,o=1540483477,i=t^e.length,a=e.length,s=0;4<=a;){var c=(r=s,(n=e).charCodeAt(r++)+(n.charCodeAt(r++)<<8)+(n.charCodeAt(r++)<<16)+(n.charCodeAt(r)<<24));c=u(c,o),c=u(c^=c>>>24,o),i=u(i,o),i^=c,s+=4,a-=4}switch(a){case 3:i^=l(e,s),i=u(i^=e.charCodeAt(s+2)<<16,o);break;case 2:i=u(i^=l(e,s),o);break;case 1:i=u(i^=e.charCodeAt(s),o)}return i=u(i^=i>>>13,o),(i^=i>>>15)>>>0}(e);o<n;n=Math.floor(n/r.length))t=r[n%o]+t;return r[n%o]+t}},,function(e,t,n){"use strict";var r,o=n(38),c=n.n(o),i=n(13),a=n.n(i),s=n(15),l=n.n(s),u=n(12),p=n.n(u),d=n(14),f=n.n(d),m=n(1),h=n.n(m),b=n(0),g=n.n(b),_=n(3),v=n.n(_),y=n(4),E=n.n(y),O=n(32),x=n(19),T=n(10),C=n(9),w=v.a.string,S=v.a.func,j=v.a.node,I=v.a.bool,A=E.a.form.withConfig({componentId:"sc-1tfwgta-0"})(["input{color:",";font-size:14px;box-sizing:border-box;display:block;width:100%;padding:8px 12px;border:1px solid ",";border-radius:1px;box-shadow:inset 0 2px 8px ",";}input:focus{outline:0 none;}"],C.b,C.f,C.a),k=(r=g.a.Component,f()(N,r),l()(N,[{key:"componentDidMount",value:function(){this._focusAndSelect()}},{key:"render",value:function(){var t=this;return g.a.createElement("input",Object.assign({},this.props,{ref:function(e){t._ref=e}}))}},{key:"_focusAndSelect",value:function(){var e=this;this._ref&&setTimeout(function(){e._ref.select()},0)}}]),N);function N(){return a()(this,N),p()(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}var P,R=(P=g.a.Component,f()(D,P),l()(D,[{key:"componentDidUpdate",value:function(e){e.visible||this.props.visible}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.footer,r=e.okText,o=e.cancelText,i=e.placeholder,a=c()(e,["children","footer","okText","cancelText","placeholder"]),s=[g.a.createElement(x.a,{key:"confirm",type:"black",disabled:!this.isInputValid(),onClick:this.handleSubmit},r||h()("确定")),g.a.createElement(x.a,{key:"cancel",type:"outline",onClick:this.handleCancel},o||h()("取消"))];return g.a.createElement(O.a,Object.assign({},a,{onOk:this.handleSubmit,footer:n||s}),g.a.createElement(A,{onSubmit:this.handleSubmit},t,g.a.createElement(k,{"data-test":"new-folder-inputbox",value:this.state.input,onChange:this.handleChange,placeholder:i})))}}]),D);function D(e){a()(this,D);var r=p()(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,e));return r.handleChange=function(e){r.setState({input:e.target.value})},r.isInputValid=function(){var e=r.state.input;return!(!e||!e.trim())},r.handleSubmit=function(e){e.preventDefault&&e.preventDefault();var t=r.state.input;if(r.isInputValid()){var n=r.props.onOk;(void 0===n?function(){}:n)(t)}else T.a.destroy(),T.a.error(r.props.errorText)},r.handleCancel=function(){r.props.onCancel&&r.props.onCancel()},r.state={input:e.defaultText||""},r}R.propTypes={defaultText:w,onOk:S,onCancel:S,children:j,footer:j,okText:j,cancelText:j,errorText:w,placeholder:w,visible:I};var L=R;t.a=L},,function(e,t,n){"use strict";var r=n(49),o=n.n(r),i=n(59),a=n(6),s=Object(a.e)(["id","token","stale"]);function c(e){return e.users.get("data")}function l(e){return 0<e.me.id?c(e).get(e.me.id):e.me.id<0?s({id:e.me.id}):null}n.d(t,"a",function(){return l});Object(i.createSelector)(c,function(e){return e.recentContacts},function(t,e){return e&&e.map(function(e){return e?t.get(e):null}).filter(o.a)})},function(e,t,a){"use strict";a.d(t,"b",function(){return o}),a.d(t,"a",function(){return i}),a.d(t,"c",function(){return s});var n=a(7),r=a(6),o=(Object(r.c)(n.a.MARK_DATA_LOADED,function(e){return e}),Object(r.c)(n.a.INCREASE_PENDING_REQUESTS)),i=Object(r.c)(n.a.DECREASE_PENDING_REQUESTS),s=Object(r.c)(n.a.SET_ONLINE_STATUS,function(i){return void 0===i&&(i=!1),function(e){var t=e.next,n=e.getState,r=e.dispatch,o=e.emitter;n().status.online!==i&&(t(i),i?o.emit("network.recover"):function r(e,t){var o=e.getState,i=e.dispatch;if(c&&!t)return;c+=1;setTimeout(function(){return i(a(8).get("status",{bypassOnlineChecking:!0,background:!0})).then(n,n)},Math.min(2e4,4e3*c));function n(){var e=o().status,t=e.online,n=e.physicalOnline;!t&&n?r({getState:o,dispatch:i},!0):c=0}}({getState:n,dispatch:r}))}}),c=(Object(r.c)(n.a.SET_PHYSICAL_ONLINE_STATUS,function(n){return void 0===n&&(n=!1),function(e){var t=e.next;(0,e.dispatch)(s(n)),t(n)}}),0)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2).__importStar(n(741));t.helper=r;var o=n(221);t.CONSTANTS=o.CONSTANTS},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var i=n(2),s=n(16),r=n(31),c=n.n(r),l="c",u={initialStructure:Object(s.Map)({mirror:Object(s.Map)(),data:Object(s.Map)()}),createMirror:function(e,t,n){if(!e.hasIn(["data",t]))return e;var r=u.getParent(e,t);if(e=e.setIn(["data",n],e.getIn(["data",t])).deleteIn(["data",t]).setIn(["mirror",t],n),r){var o=u.getChildren(e,r),i=o&&o.findKey(function(e){return e===t});"number"==typeof i&&(e=u._set(e,r,l,o.set(i,n)))}var a=u.getChildren(e,t);return a&&(e=a.reduce(function(e,t){return u.setParent(e,t,n)},e)),e},mirrorId:function(e,t){if(t&&"-"!==t[0])return t;var n=e.get("mirror");return n.has(t)?n.get(t):t},getChildren:function(e,t){var n=["data"];return"0"!==t&&"1"!==t||n.push("root"),e.getIn(Object(i.__spread)(n,[u.mirrorId(e,t),l]))},getParent:function(e,t){return e.getIn(["data",u.mirrorId(e,t),"p"])},_set:function(e,t,n,r){var o=["data"];return"0"!==t&&"1"!==t||o.push("root"),e.setIn(Object(i.__spread)(o,[u.mirrorId(e,t),n]),r)},setChildren:function(e,t,n){var r=u.getChildren(e,t),o=(r||Object(s.List)()).takeWhile(function(e){return"-"===e[0]}).concat(n);return Object(s.is)(r,o)?e:u._set(e,t,l,o)},unshiftRootChildren:function(e,t){var n=(u.getChildren(e,"0")||Object(s.List)()).unshift(t);return u._set(e,"0",l,n)},pushRootChildren:function(e,t){var n=(u.getChildren(e,"0")||Object(s.List)()).push(t);return u._set(e,"0",l,n)},replaceChild:function(e,t,n,r){var o=u.getChildren(e,t),i=o&&o.findKey(function(e){return e===n});return"number"==typeof i?u.setChildren(e,t,o.set(i,r)):e},unshiftChildren:function(e,t,n){n=u.mirrorId(e,n);var r=u.getChildren(e,t)||Object(s.List)();if(r.includes(n))return e;var o="-"===n[0]?0:r.findIndex(function(e){return"-"!==e[0]}),i=-1===o?r.push(n):r.splice(o,0,n);return u._set(e,t,l,i)},removeFromParent:function(e,t){t=u.mirrorId(e,t);var n=u.getParent(e,t);if(!n)return e;var r=u.getChildren(e,n);if(!r)return e;var o=r.findKey(function(e){return e===t});return void 0===o?e:u._set(e,n,l,r.remove(o))},remove:function(e,t){return u.removeFromParent(e,t).removeIn(["data",u.mirrorId(e,t)])},setParent:function(e,t,n){return e.setIn(["data",u.mirrorId(e,t),"p"],u.mirrorId(e,n))},fromJS:function(a){function r(e,t,n){e.forEach(function(e){t[e]||(t[e]={}),t[e].p=n})}var o=Object.keys(a).reduce(function(e,t){var n,r,o,i;return"0"===t||"1"===t?c()(e,{root:(n={},n[t]=(r={},r.c=a[t],r),n)}):c()(e,((o={})[t]=((i={}).c=a[t],i),o))},{});return Object.keys(o).forEach(function(t){var n;"root"===t?["0","1"].forEach(function(e){o[t][e]&&(n=o[t][e].c,r(n,o,e))}):(n=o[t].c,r(n,o,t))}),Object(s.fromJS)(o)}}},,,,,,,,,,function(e,t,n){"use strict";e.exports=function(){throw new Error("unimplemented!")}},function(e,t,n){"use strict";function i(e){var t=e.accountMetadata;if(!t)return{};var n=t.isExpired,r=t.isDingtalk,o=t.isWework,i=t.isEnterprise,a=t.isFreeEnterprise,s=t.isTrial,c=t.isPersonalPremium,l=t.isEnterprisePremium;return{isDingtalk:r,isWework:o,isTrial:s,isExpired:n,isPersonalPremium:c,isEnterprise:i,enterprise:i?{isFreeEnterprise:a,isEnterprisePremium:l}:void 0}}Object.defineProperty(t,"__esModule",{value:!0}),t.getAccountType=i,t.isNewDing=function(e){return!!(e&&e.membership&&e.membership.isNewDing)},t.isEnterpriseDingding=function(e){var t=i(e),n=t.isDingtalk,r=t.isEnterprise,o=t.enterprise;return!!(n&&r&&o&&o.isFreeEnterprise)},t.isPersonal=function(e){return!i(e).isEnterprise},t.isPersonalFree=function(e){var t=i(e),n=t.isEnterprise,r=t.isPersonalPremium;return!n&&!r},t.isPersonalPremium=function(e){return!!i(e).isPersonalPremium},t.isEnterprise=function(e){return!!i(e).isEnterprise},t.isEnterpriseStandard=function(e){var t=i(e),n=t.isEnterprise,r=t.enterprise;return!(!n||!r||r.isFreeEnterprise||r.isEnterprisePremium)},t.isEnterprisePremium=function(e){var t=i(e),n=t.isEnterprise,r=t.enterprise;return!!(n&&r&&r.isEnterprisePremium)},t.isExpired=function(e){return!!i(e).isExpired},t.isTrial=function(e){return!!i(e).isTrial},t.isOriginatedFromDingtalk=function(e){return!(!e||!e.dingtalkCorp)},t.isNotOriginatedFromDingtalk=function(e){return!t.isOriginatedFromDingtalk(e)}},,,function(e,t,n){"use strict";var r=n(13),o=n.n(r),i=n(15),a=n.n(i),s=n(12),c=n.n(s),l=n(14),u=n.n(l),p=n(0),d=n.n(p),f=n(11),m=n(3),h=n.n(m),b=n(103);function g(){}var _,v=(_=p.Component,u()(y,_),a()(y,[{key:"componentDidMount",value:function(){this._el=Object(f.findDOMNode)(this),this._el.addEventListener("contextmenu",this.hijackContextMenuHandler,{capture:!0})}},{key:"componentWillUnmount",value:function(){this._el&&this._el.removeEventListener("contextmenu",this.hijackContextMenuHandler)}},{key:"componentWillReceiveProps",value:function(e){"inline"===this.props.mode&&"inline"!==e.mode&&(this.switchModeFromInline=!0),"openKeys"in e&&this.setOpenKeys(e.openKeys)}},{key:"handleClick",value:function(e){this.setOpenKeys([]),this.props.onClick(e)}},{key:"handleOpenChange",value:function(e){this.setOpenKeys(e),this.props.onOpenChange(e)}},{key:"hijackContextMenuHandler",value:function(e){e.preventDefault(),e.target&&e.target.click()}},{key:"setOpenKeys",value:function(e){"openKeys"in this.props||this.setState({openKeys:e})}},{key:"render",value:function(){var e=this.props,t=e.prefixCls,n=e.defaultOpenKeys,r=e.selectedKeys,o=e.defaultSelectedKeys,i={};return"inline"!==this.props.mode&&(i={openKeys:this.state.openKeys,onClick:this.handleClick,onOpenChange:this.handleOpenChange}),d.a.createElement(b.c,Object.assign({prefixCls:t,selectedKeys:r,defaultSelectedKeys:o,defaultOpenKeys:n},this.props,i))}}]),y);function y(e){o()(this,y);var t=c()(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,e));return t.state={openKeys:[]},t.handleClick=t.handleClick.bind(t),t.handleOpenChange=t.handleOpenChange.bind(t),t.hijackContextMenuHandler=t.hijackContextMenuHandler.bind(t),t}v.propTypes={mode:h.a.oneOf(["vertical","horizontal","inline","vertical-right","vertical-left"]),selectedKeys:h.a.arrayOf(h.a.string),defaultSelectedKeys:h.a.arrayOf(h.a.string),openKeys:h.a.arrayOf(h.a.string),defaultOpenKeys:h.a.arrayOf(h.a.string),onClick:h.a.func,prefixCls:h.a.string,onOpenChange:h.a.func},v.defaultProps={prefixCls:"sm-menu",onClick:g,onOpenChange:g},t.a=v},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/doc_52@2x.f1eb140e.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/sheet_52@2x.438136f3.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/slide_52@2x.6977f839.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/sheet_30@2x.cb0289b2.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/slide_30@2x.3b0499d0.png"},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(0),o=n.n(r);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,c(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,o.a.Component),function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(t,[{key:"render",value:function(){return o.a.createElement("svg",u({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 12"},this.props),o.a.createElement("path",{d:"M5.5 7.4l5.1-5.1 1.2 1.2-6.3 6.4-.6-.6L2 6.4l1.2-1.2 2.3 2.2z",fill:"#a0a2a5"}))}}]),t}()},,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(125);t.isNotOnSeat=function(e){return!e.isSeat},t.isOnSeat=function(e){return!!e.isSeat},t.isCreator=function(e){return"creator"===e.teamRole},t.isAdmin=function(e){return"admin"===e.teamRole},t.isCreatorOrAdmin=function(e){return t.isCreator(e)||t.isAdmin(e)},t.isTeamMember=function(e){return!(!e.team||"member"!==e.teamRole)},t.isSpaceCreator=function(e,t){var n,r;return((e.getIn?e.getIn(["created","userId"]):null===(r=null===(n=e)||void 0===n?void 0:n.created)||void 0===r?void 0:r.userId)||-1)===t.id},t.isDisabledUser=function(e){return"disabled"===e.teamRole},t.isLimitedUser=function(e){return r.isPersonalFree(e)||r.isEnterprise(e)&&r.isExpired(e)||r.isEnterprise(e)&&t.isNotOnSeat(e)},t.isVerifiedEmail=function(e){return 1===e.status},t.isVerifiedMobile=function(e){return!!e.mobile}},,,,,,function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){"string"==typeof e&&function(e){return/^-?\d+$/.test(e)}(e)&&(e=Number(e));for(var t=0;t<c.length;t++){var n=c[t];if(n.id===e||n.name===e)return n;if(n.alias&&n.alias===e)return n}return null}var a=n(2),i=a.__importDefault(n(1)),s={id:2,name:"unknown",type:"unknown",display:i.default("未知类型"),url:"files",is:function(e){return p(s,e)}},c=[{id:11,name:"wps",type:"wps",display:i.default("WPS 文件"),subtypes:["wps"],url:"files"},{id:10,name:"mp4",type:"mp4",display:i.default("视频"),subtypes:["mp4","avi","mkv","swf","wmv","m2p","m4v","h264","h265","flv"],url:"files"},{id:9,name:"zip",type:"zip",display:i.default("压缩文件"),subtypes:["zip","rar","pkg","7z","tar","gz"],url:"files"},{id:8,name:"mp3",type:"mp3",display:i.default("音频"),subtypes:["aac","mp3","flac","rec","m4a","wav","aac","ogg","mogg","wma","ape","alac","wv"],url:"files"},{id:7,name:"ppt",type:"ppt",display:i.default("演示文稿"),subtypes:["keynote","ppt","pptx","pot","potm","potx","pptm","pps","ppsm","ppsx","rtf"],url:"files"},{id:6,name:"docx",type:"docx",display:i.default("文档"),subtypes:["pages","doc","docx","dotx","dotm","txt","md","xml","xps"],url:"files",transformAs:"newdoc"},{id:5,name:"xls",type:"xls",display:i.default("表格"),subtypes:["numbers","xlsx","xlsm","xlsb","xltx","xltm","xls","xlt","xlam","xla","xlw","xlr","csv"],url:"files",transformAs:"mosheet"},{id:4,name:"pdf",type:"pdf",display:"PDF",subtypes:["pdf"],url:"files"},{id:3,name:"img",type:"img",display:i.default("图片"),url:"files",subtypes:["jpg","jpeg","png","svg","raw","gif","bmp","webp","sketch","psd","ai","ico"],maxSize:20971520},a.__assign({},s),{id:1,name:"folder",type:"folder",display:i.default("文件夹"),url:"folder"},{id:0,name:"document",alias:"doc",type:"doc",display:i.default("文档"),url:"doc",defaultContent:'{"text":"\\n","attribs":"|1+1"}'},{id:-1,name:"spreadsheet",type:"sheet",display:i.default("表格"),url:"spreadsheet",defaultContent:'[[30,[0,[[10,200]],[[10,18]]],"name:\\"%E5%B7%A5%E4%BD%9C%E8%A1%A81\\"|order:0"]]'},{id:-2,name:"newdoc",type:"doc",display:i.default("文档"),url:"docs",defaultContent:'[[10, "\\n", "line:\\"init\\""]]'},{id:-3,name:"sheet",type:"sheet",display:i.default("表格"),url:"sheet",defaultContent:'[[30,[0,[[10,200]],[[10,18]]],"id:\\"RIDOC\\"|name:\\"%E5%B7%A5%E4%BD%9C%E8%A1%A81\\"|order:0"]]'},{id:-4,name:"mosheet",type:"sheet",display:i.default("表格"),url:"sheets",defaultContent:i.default('q:p!g@T7$5:4!5k#4:3!i# 0 1 2["B:工作表1","C*0","G:MODOC"]')},{id:-5,name:"slide",type:"slide",display:i.default("幻灯片"),url:"slides",defaultContent:i.default('6bz:6bw!6br@Pk7$hi:hg!h0@SPgVtk4wt8f#1e:1c!7@D4:3!1# 0 1 10 11 12 13 14 15 2 3 4 5 6 7 8 9["$eautoResizeText1","0:#41464b","$8fontSize:45px","$afontWeight*700","4*220","$8layoutId:dflt0000","N*80","$alineHeight*1.4","C*0","$bplaceholder:","$fplaceholderType:text","$4role:title","$9textAlign:center","O*80","$dverticalAlign:bottom","3*800"]PuOxEEOc7y#1b:19!7@D4:3!1# 0 1 10 11 12 13 14 2 3 4 5 6 7 8 9["$eautoResizeText1","0:#676b6f","$afontFamily:sans-serif","$8fontSize:18px","4*100","$8layoutId:dflt0000","N*80","$alineHeight*1.4","C*1","$bplaceholder:","$fplaceholderType:text","$4role:subtitle","$9textAlign:center","O*312","3*800"] 0 1 2 3 4 5["$fbackgroundColor:#ffffff","4*540","$8layoutId:dflt0000","C*0","$7slideId:OG1WxIvx","3*960"]5kv$59v:fy!fm@Sdfltel007q#1b:19!7@D4:3!1# 0 1 10 11 12 13 14 2 3 4 5 6 7 8 9["$eautoResizeText1","0:#41464b","$8fontSize:45px","$afontWeight*700","4*220","N*80","$alineHeight*1.4","C*0","$bplaceholder:","$fplaceholderType:text","$4role:title","$9textAlign:center","O*80","$dverticalAlign:bottom","3*800"]dfltel0179#18:16!7@D4:3!1# 0 1 10 11 12 13 2 3 4 5 6 7 8 9["$eautoResizeText1","0:#676b6f","$afontFamily:sans-serif","$8fontSize:18px","4*100","N*80","$alineHeight*1.4","C*1","$bplaceholder:","$fplaceholderType:text","$4role:subtitle","$9textAlign:center","O*312","3*800"] 0 1 2 3g0!fm@Sdfltel107q#1b:19!7@D4:3!1# 0 1 10 11 12 13 14 2 3 4 5 6 7 8 9["$eautoResizeText1","0:#41464b","$8fontSize:45px","$afontWeight*700","4*220","N*80","$alineHeight*1.4","C*1","$bplaceholder:","$fplaceholderType:text","$4role:title","$9textAlign:center","O*80","$dverticalAlign:bottom","3*800"]dfltel1179#18:16!7@D4:3!1# 0 1 10 11 12 13 2 3 4 5 6 7 8 9["$eautoResizeText1","0:#676b6f","$afontFamily:sans-serif","$8fontSize:18px","4*100","N*80","$alineHeight*1.4","C*2","$bplaceholder:","$fplaceholderType:text","$4role:subtitle","$9textAlign:center","O*312","3*800"] 0 3 4 5 6nv!nj@Sdfltel206y#18:16!7@D4:3!1# 0 1 10 11 12 13 2 3 4 5 6 7 8 9["$eautoResizeText1","0:#41464b","$8fontSize:45px","$afontWeight*700","4*70","N*80","$alineHeight*1.4","C*1","$bplaceholder:","$fplaceholderType:text","$4role:title","$9textAlign:center","O*376","3*800"]dfltel2178#18:16!7@D4:3!1# 0 1 10 11 12 13 2 3 4 5 6 7 8 9["$eautoResizeText1","0:#676b6f","$afontFamily:sans-serif","$8fontSize:18px","4*32","N*80","$alineHeight*1.4","C*1","$bplaceholder:","$fplaceholderType:text","$4role:subtitle","$9textAlign:center","O*459","3*800"]dfltel228f#13:11!8@D5:4!1@I 0 1 10 11 2 3 4 5 6 7 8 9["$8fileSize*524476","4*326","N*0","$4mime:image/png","B:image-title-subtitle.png","C*0","$eoriginalHeight*652","$doriginalWidth*1920","$bplaceholder:https://assets.smcdn.cn/slides/default_theme/image-title-subtitle.png","$fplaceholderType:image","O*0","3*960"] 0 3 7 8go!gb@Sdfltel306x#18:16!7@D4:3!1# 0 1 10 11 12 13 2 3 4 5 6 7 8 9["$eautoResizeText1","0:#41464b","$8fontSize:45px","$afontWeight*700","4*69","N*80","$alineHeight*1.4","C*0","$bplaceholder:","$fplaceholderType:text","$4role:title","$9textAlign:center","O*50","3*800"]dfltel318r#1e:1c!7@D4:3!1# 0 1 10 11 12 13 14 15 2 3 4 5 6 7 8 9["$eautoResizeText1","0:#676b6f","$afontFamily:sans-serif","$8fontSize:18px","4*358","N*80","$alineHeight*1.7","C*1","$f.placeholder.p0*83","$f.placeholder.p1*90","$f.placeholder.p2*63","$fplaceholderType:text","$4role:normal","$9textAlign:left","O*132","3*800"] 0 10 3 9no!na@Sdfltel406x#18:16!7@D4:3!1# 0 1 10 11 12 13 2 3 4 5 6 7 8 9["$eautoResizeText1","0:#41464b","$8fontSize:45px","$afontWeight*700","4*71","N*437","$alineHeight*1.4","C*1","$bplaceholder:","$fplaceholderType:text","$4role:title","$9textAlign:left","O*118","3*443"]dfltel417c#18:16!7@D4:3!1# 0 1 10 11 12 13 2 3 4 5 6 7 8 9["$eautoResizeText1","0:#676b6f","$afontFamily:sans-serif","$8fontSize:18px","4*260","N*437","$alineHeight*1.7","C*1","$f.placeholder.p0*83","$fplaceholderType:text","$4role:normal","$9textAlign:left","O*201","3*443"]dfltel4283#13:11!8@D5:4!1@I 0 1 10 11 2 3 4 5 6 7 8 9["$8fileSize*305718","4*540","N*0","$4mime:image/png","B:image-vertical.png","C*0","$eoriginalHeight*1080","$doriginalWidth*720","$bplaceholder:https://assets.smcdn.cn/slides/default_theme/image-vertical.png","$fplaceholderType:image","O*0","3*357"] 0 11 12 3pq!pc@Sdfltel5084#13:11!8@D5:4!1@I 0 1 10 11 2 3 4 5 6 7 8 9["$8fileSize*444771","4*540","N*0","$4mime:image/png","B:image-puzzle-0.png","C*0","$eoriginalHeight*1080","$doriginalWidth*1104","$bplaceholder:https://assets.smcdn.cn/slides/default_theme/image-puzzle-0.png","$fplaceholderType:image","O*0","3*552"]dfltel5184#13:11!8@D5:4!1@I 0 1 10 11 2 3 4 5 6 7 8 9["$8fileSize*153265","4*262","N*567","$4mime:image/png","B:image-puzzle-1.png","C*1","$eoriginalHeight*526","$doriginalWidth*786","$bplaceholder:https://assets.smcdn.cn/slides/default_theme/image-puzzle-1.png","$fplaceholderType:image","O*0","3*393"]dfltel5286#13:11!8@D5:4!1@I 0 1 10 11 2 3 4 5 6 7 8 9["$8fileSize*193952","4*262","N*567","$4mime:image/png","B:image-puzzle-2.png","C*2","$eoriginalHeight*526","$doriginalWidth*786","$bplaceholder:https://assets.smcdn.cn/slides/default_theme/image-puzzle-2.png","$fplaceholderType:image","O*278","3*393"] 0 13 14 3pp!pb@Sdfltel6083#13:11!8@D5:4!1@I 0 1 10 11 2 3 4 5 6 7 8 9["$8fileSize*288362","4*540","N*0","$4mime:image/png","B:image-screen-0.png","C*0","$eoriginalHeight*1080","$doriginalWidth*620","$bplaceholder:https://assets.smcdn.cn/slides/default_theme/image-screen-0.png","$fplaceholderType:image","O*0","3*310"]dfltel6185#13:11!8@D5:4!1@I 0 1 10 11 2 3 4 5 6 7 8 9["$8fileSize*257756","4*540","N*325","$4mime:image/png","B:image-screen-1.png","C*1","$eoriginalHeight*1080","$doriginalWidth*620","$bplaceholder:https://assets.smcdn.cn/slides/default_theme/image-screen-1.png","$fplaceholderType:image","O*0","3*310"]dfltel6285#13:11!8@D5:4!1@I 0 1 10 11 2 3 4 5 6 7 8 9["$8fileSize*257318","4*540","N*650","$4mime:image/png","B:image-screen-2.png","C*2","$eoriginalHeight*1080","$doriginalWidth*620","$bplaceholder:https://assets.smcdn.cn/slides/default_theme/image-screen-2.png","$fplaceholderType:image","O*0","3*310"] 0 15 16 3e!1@S 0 17 18 3pg!p2@Sdfltel806x#18:16!7@D4:3!1# 0 1 10 11 12 13 2 3 4 5 6 7 8 9["$eautoResizeText1","0:#41464b","$8fontSize:45px","$afontWeight*700","4*69","N*80","$alineHeight*1.4","C*0","$bplaceholder:","$fplaceholderType:text","$4role:title","$9textAlign:center","O*50","3*800"]dfltel818r#1e:1c!7@D4:3!1# 0 1 10 11 12 13 14 15 2 3 4 5 6 7 8 9["$eautoResizeText1","0:#676b6f","$afontFamily:sans-serif","$8fontSize:18px","4*358","N*80","$alineHeight*1.7","C*1","$f.placeholder.p0*20","$f.placeholder.p1*30","$f.placeholder.p2*33","$fplaceholderType:text","$4role:normal","$9textAlign:left","O*132","3*390"]dfltel828g#13:11!8@D5:4!1@I 0 1 10 11 2 3 4 5 6 7 8 9["$8fileSize*233858","4*358","N*490","$4mime:image/png","B:title-content-image.png","C*2","$eoriginalHeight*716","$doriginalWidth*780","$bplaceholder:https://assets.smcdn.cn/slides/default_theme/title-content-image.png","$fplaceholderType:image","O*132","3*389"] 0 19 20 3fy!fk@Sdfltel906x#18:16!7@D4:3!1# 0 1 10 11 12 13 2 3 4 5 6 7 8 9["$eautoResizeText1","0:#41464b","$8fontSize:45px","$afontWeight*700","4*70","N*80","$alineHeight*1.4","C*0","$bplaceholder:","$fplaceholderType:text","$4role:title","$9textAlign:center","O*50","3*800"]dfltel9180#13:11!8@D5:4!1@I 0 1 10 11 2 3 4 5 6 7 8 9["$8fileSize*424442","4*322","N*80","$4mime:image/png","B:title-image.png","C*1","$eoriginalHeight*644","$doriginalWidth*1600","$bplaceholder:https://assets.smcdn.cn/slides/default_theme/title-image.png","$fplaceholderType:image","O*168","3*800"] 0 21 22 3["4*540","$8layoutId:dflt0000","C*0","3*960","$fbackgroundImage:url(https://assets.smcdn.cn/slides/default_theme/title-subtitle-image.png)","$8layoutId:dflt0001","C*1","$8layoutId:dflt0002","C*2","$8layoutId:dflt0003","C*3","$8layoutId:dflt0004","C*4","$8layoutId:dflt0005","C*5","$8layoutId:dflt0006","C*6","$8layoutId:dflt0007","C*7","$8layoutId:dflt0008","C*8","$8layoutId:dflt0009","C*9"]6e$55:53!4v@S30WxsQCz4j#t:s!7@D4:3!1# 0 1 2 3 4 5 6 7 8["$4role:normal","$6isNote1","$eautoResizeText0","3:auto","4:100%","$8minWidth*20","$8fontSize:14px","0:#676B6F","$9textAlign:left"] 0 1["$6noteId:dLEShGsy","$7slideId:OG1WxIvx"]')},{id:-6,name:"modoc",type:"doc",display:i.default("文档"),url:"docx",defaultContent:'33:1d!n@D6:5!1# 0["$7paraEnd1"] 0 1 10 2 3 4 5 6 7 8 96!1# 116!1# 126!1# 136!1# 14o!1# 15 16 17 18 19 20 216!1# 22["$d.docGrid.type*1","$i.docGrid.linePitch*312","$6sectPr1","$4type:DocumentContent","$g.pageSize.orient*0","$b.pageSize.w*11906","$b.pageSize.h*16838","$e.pageMargins.l*1797","$e.pageMargins.r*1797","$e.pageMargins.t*1440","$e.pageMargins.b*1440","$4type:AbstructNumbering","$4type:Numbering","$4type:HdrFtr","$4type:FootNote","$4type:Styles","$i.textPr.fontFamily:SimSun","$g.textPr.fontSize*10.5","$h.textPr.fontAscii:SimSun","$k.textPr.fontEastAsia:SimSun","$h.textPr.fontHAnsi:SimSun","$e.textPr.fontCS:SimSun","$4type:Settings"]'},{id:-7,name:"mindmap",type:"mindmap",display:i.default("思维导图"),url:"mindmaps",defaultContent:i.default('1b:19!11@Z00000001q#h:g!b@D8:7!4!中心主题 0["C*0"] 0 1["$aautoLayout1","$crootTopicIds:00000001"]')},{id:-8,name:"form",type:"form",display:i.default("表单"),url:"forms",defaultContent:'f:e!5@F0$0$ 0 1 2["$5title:","$4desc:","$9descAlign:center"]'},{id:-9,name:"board",type:"board",display:i.default("白板"),url:"boards",defaultContent:'12:10!v@D8:7!1# 0 1["G:P0000001","C*0"] 0["G:B0000001"]'}],l={},u=l.find=function(e,t){return r(e)||t&&r(t)||null},p=l.equal=function(e,t){if(e===t)return!0;var n="object"===o(e)?e:u(e),r="object"===o(t)?t:u(t);return Boolean(n&&r&&n.id===r.id)};c.forEach(function(t){t.is=function(e){return p(t,e)}}),c.forEach(function(e){l[e.id]=e;var t=(l[e.name]=e).name.toUpperCase();l[t]=e.name,l[t+"_ID"]=e.id,l[t+"_NAME"]=e.name,l[t+"_URL"]=e.url,l[t+"_DISPLAY"]=e.display}),l.findBySubtype=function(t){var n,e;try{for(var r=a.__values(c),o=r.next();!o.done;o=r.next()){var i=o.value;if(i.subtypes&&i.subtypes.length&&i.subtypes.some(function(e){return e===t}))return i}}catch(e){n={error:e}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(n)throw n.error}}return s},e.exports=l},function(e,u,t){"use strict";Object.defineProperty(u,"__esModule",{value:!0});var p=t(2).__importDefault(t(221)),l=t(125),d=t(156);u.isSpaceOrSpaceFile=function(e){return!!e.isFromSVC||!!e.isSpace},u.isSpaceFile=function(e){return!e.isSpace&&!!e.isFromSVC},u.isSpace=function(e){return!!e.isSpace},u.isEnterpriseFile=function(e){return e&&!!e.teamId},u.isShortcut=function(e){return!!e.isShortcut},u.isFileEditable=function(e){var t,n;return null===(n=null===(t=e)||void 0===t?void 0:t.permissions)||void 0===n?void 0:n.editable},u.isFileManageable=function(e){var t,n;return null===(n=null===(t=e)||void 0===t?void 0:t.permissions)||void 0===n?void 0:n.manageable},u.isFileRemovable=function(e){var t,n;return null===(n=null===(t=e)||void 0===t?void 0:t.permissions)||void 0===n?void 0:n.removable},u.isFileExportable=function(e){var t,n;return null===(n=null===(t=e)||void 0===t?void 0:t.permissions)||void 0===n?void 0:n.exportable},u.isFileCollaboratorManageable=function(e){var t,n;return null===(n=null===(t=e)||void 0===t?void 0:t.permissions)||void 0===n?void 0:n.collaboratorManageable},u.isFileCanShare=function(e){var t,n;return null===(n=null===(t=e)||void 0===t?void 0:t.permissions)||void 0===n?void 0:n.shareModeManageable},u.isSheetLockable=function(e){var t,n;return null===(n=null===(t=e)||void 0===t?void 0:t.permissions)||void 0===n?void 0:n.sheetLockable},u.isFileAuthorized=function(e){return!!e.role},u.isFileCollaborator=function(e){return e&&e.role&&"owner"!==e.role},u.isFilePublic=function(e){return e&&!u.isFileAuthorized(e)&&"private"!==e.shareMode},u.isFilePublicReadOnly=function(e){return e&&!u.isFileAuthorized(e)&&!u.isFileEditable(e)&&("enterprise_readonly"===e.shareMode||"readonly"===e.shareMode)},u.isFilePublicEditable=function(e){return e&&!u.isFileAuthorized(e)&&u.isFileEditable(e)},u.handleCreatePermission=function(e){var t=e.me,n=e.folder,r=n||{guid:null,collaboratorCount:null};if(!d.isLimitedUser(t))return n&&!u.isSpace(n)&&n.permissions&&!n.permissions.childFileCreatable?{disabled:!0,reason:p.default.FAILURE_READ_ONLY}:{disabled:!1};if(l.isPersonalFree(t))return!r.guid||"0"===r.guid||r.collaboratorCount<=15?{disabled:!1}:{disabled:!0,reason:p.default.FAILURE_PERSONAL_FREE};if(l.isEnterprise(t)){if(l.isExpired(t))return l.isTrial(t)?{disabled:!0,reason:p.default.FAILURE_TRIAL_EXPIRED}:d.isCreator(t)||d.isAdmin(t)?{disabled:!0,reason:p.default.FAILURE_ENTERPRISE_EXPIRED_CREATOR_OR_ADMIN}:{disabled:!0,reason:p.default.FAILURE_ENTERPRISE_EXPIRED_MEMBER};if(d.isNotOnSeat(t))return{disabled:!0,reason:p.default.FAILURE_NOT_ON_SEAT}}return{disabled:!1}},u.checkBeforeDeleteFile=function(e){return e.file.permissions.manageable?{disabled:!1,reason:p.default.ONLY_DELETE_FILE}:{disabled:!1,reason:p.default.ONLY_EXIT_SHARE}},u.checkBeforeCopyFile=function(e){var t=e.me,n=e.folder;return u.handleCreatePermission({me:t,folder:n})},u.checkAfterMoveFile=function(e){var t=e.me,n=e.file,r=e.toDir;return r&&!(r.user===t.id||r.permissions&&r.permissions.childFileCreatable||r.user!==t.id&&n.teamId===t.team&&("creator"===t.teamRole||"admin"===t.teamRole))?"folder"===n.type?{disabled:!0,reason:p.default.NO_ACCESS_MOVE_FOLDER}:{disabled:!0,reason:p.default.NO_ACCESS_MOVE_FILE}:u.handleCreatePermission({me:t,folder:r})},u.checkBeforeMoveFileByDragging=function(e){var t,n,r=e.me,o=e.file,i=e.toDir;return!i||(null===(n=null===(t=o)||void 0===t?void 0:t.permissions)||void 0===n?void 0:n.removable)||o.isShortcut||!o.parentId||0===o.parentId?u.handleCreatePermission({me:r,folder:i}):{disabled:!0,reason:p.default.NO_ACCESS_DELETE}},u.checkBeforeCreateFile=function(e){var t=e.me,n=e.folder;return u.handleCreatePermission({me:t,folder:n})},u.checkBeforeUploadFile=function(e){var t=e.me,n=e.folder;return u.handleCreatePermission({me:t,folder:n})},u.checkCreateOrUploadFileButton=function(e){var t,n,r=e.me,o=e.folder,i=e.folderGuid,a=(o&&o.toJS?o.toJS():o)||{},s=u.handleCreatePermission({me:r,folder:o});if(!s.disabled){if(a.guid){var c=!u.isSpace(a)&&!u.isFileEditable(a);if(u.isSpace(a)&&!a.privilege)throw new Error("请使用 getSpaces() 方法获取协作空间的权限信息");var l=u.isSpace(a)&&!(null===(n=null===(t=a.privilege)||void 0===t?void 0:t.permission)||void 0===n?void 0:n.canEdit);(c||l)&&(s={disabled:!0,reason:p.default.NO_ACCESS_CREATE_OR_UPLOAD_FILE})}a.guid||"0"===i||(s={disabled:!0,reason:p.default.NO_ACCESS_CREATE_OR_UPLOAD_FILE})}return s},u.checkFileCanMove=function(e,t){var n,r,o,i;return!(!e.isShortcut&&t)||(!(null===(r=null===(n=e)||void 0===n?void 0:n.permissions)||void 0===r||!r.removable)||!(t&&1<(e.collaboratorCount||0)&&(null===(i=null===(o=e)||void 0===o?void 0:o.permissions)||void 0===i||!i.manageable)))},u.checkFileCanRename=function(e){return u.isFileEditable(e)},u.checkFileCanDelete=function(e){return u.isSpaceOrSpaceFile(e)?u.isFileRemovable(e):u.isFileManageable(e)},u.checkFileCanAddCollab=function(e,t){var n,r=l.isPersonalFree(t),o=l.isExpired(t),i=l.isEnterpriseStandard(t),a=d.isNotOnSeat(t)&&i,s=15<=(e.collaboratorCount||0),c=null==(n=u.isFileCollaboratorManageable(e))||n;return!(a&&s||r&&s||o&&s)&&c},u.checkFileCanExport=u.isFileExportable,u.isExternalReadonly=function(e){return!e.role&&!e.permissions.editable}},,function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/mindmap_60@2x.c1f08824.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/folder_52@2x.74d8eb0b.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/mindmap_52@2x.bf7a823a.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/form_52@2x.7cdf2506.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/folder_30@2x.d64c86d8.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/mindmap_30@2x.426b6f50.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/form_30@2x.de2b355c.png"},function(e,t,n){"use strict";var r,o=n(38),a=n.n(o),i=n(13),s=n.n(i),c=n(15),l=n.n(c),u=n(12),p=n.n(u),d=n(14),f=n.n(d),m=n(0),h=n.n(m),b=n(3),g=n.n(b),_=n(4),v=n.n(_).a.div.withConfig({componentId:"sc-17dnj82-0"})(["display:inline-block;"," .sm-button:not(:first-child){margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0;}.sm-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0;}&:hover{.sm-button{border-color:#d6d6d6;}}"],function(e){return!e.isShowBorder&&Object(_.css)([".sm-button{border-color:transparent;}"])}),y=(r=h.a.Component,f()(E,r),l()(E,[{key:"render",value:function(){var e=this.props,t=e.prefixCls,n=e.className,r=(e.children,a()(e,["prefixCls","className","children"])),o=Object.assign({},r),i=t+" "+n;return h.a.createElement(v,Object.assign({},o,{className:i}),this.props.children)}}]),E);function E(){return s()(this,E),p()(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}y.propTypes={prefixCls:g.a.string,className:g.a.string,children:g.a.node,isShowBorder:g.a.bool},y.defaultProps={prefixCls:"sm-btn-group",isShowBorder:!1,className:""},t.a=y},,,,function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(0),o=n.n(r);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,c(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,o.a.Component),function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(t,[{key:"render",value:function(){return o.a.createElement("svg",u({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18"},this.props),o.a.createElement("path",{d:"M8.5 8.5V2.8c0-.5.3-.8.7-.8s.8.3.8.8v5.8h5.8c.4 0 .8.3.8.8s-.4.6-.8.6H10v5.8c0 .4-.3.8-.8.8s-.8-.3-.8-.8V10H2.8c-.5 0-.8-.3-.8-.8s.3-.8.8-.8h5.7z",fill:"#555"}))}}]),t}()},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var g,_,v,y,E=n(2),O=n(20),r=n(1),x=n.n(r),T=n(19),C=n(32),o=n(0),w=n.n(o),i=n(187),S=i.f.createWindowOpener,j=i.g.openPayment,I=i.g.isNewDing;function a(e,t,n){void 0===t&&(t=x()("新建")),void 0===n&&(n=!1);function r(){i.destroy()}function o(){j("/enterprise/billing",e,!0),i.destroy()}var i,a=O.i.isExpired(e),s=O.i.isTrial(e),c=O.i.isEnterpriseStandard(e),l=O.i.isEnterprisePremium(e)?x()("企业高级版"):x()("企业版"),u=O.i.isNotOnSeat(e)&&c,p="",d="",f=null,m=I(e),h=w.a.createElement(T.a,{key:"cancel",type:"outline",onClick:r},x()("以后再说"));if(a)if(s){var b=x()(g=g||Object(E.__makeTemplateObject)(["您的企业版试用已到期，不能继续","文件、文件夹或协作空间，请您付费购买企业版。"],["您的企业版试用已到期，不能继续","文件、文件夹或协作空间，请您付费购买企业版。"]),t);p=x()("亲爱的石墨企业版试用用户:"),d=m?w.a.createElement("div",null,b):w.a.createElement("div",null,b,"}",w.a.createElement("br",null),w.a.createElement("br",null),x()("您也可以到“企业设置”内，移交、退出或删除企业，恢复到试用前版本。\n          无需担忧，石墨为您保留所有文件和共享关系，\n          成员可以继续登录并访问文件。")),f=w.a.createElement(T.a,{key:"confirm",type:"black",onClick:o},x()("立即购买")),h=m?h:w.a.createElement(T.a,{key:"cancel",type:"outline",onClick:function(){S()("/enterprise/settings"),i.destroy()}},x()("企业设置"))}else p=x()(_=_||Object(E.__makeTemplateObject)(["提示：","已到期"],["提示：","已到期"]),l),d=x()(v=v||Object(E.__makeTemplateObject)(["","文件、文件夹或协作空间失败，请尽快续约。"],["","文件、文件夹或协作空间失败，请尽快续约。"]),t),f=w.a.createElement(T.a,{key:"confirm",type:"black",onClick:o},x()("马上续约"));else if(u)p=x()("很抱歉：您不是企业席位成员"),d=x()(y=y||Object(E.__makeTemplateObject)(["非企业席位成员，不能","文件、文件夹或协作空间，请联系企业创建者或直接购买席位。"],["非企业席位成员，不能","文件、文件夹或协作空间，请联系企业创建者或直接购买席位。"]),t),f=w.a.createElement(T.a,{key:"confirm",type:"black",onClick:o},x()("购买席位"));else{if(!n||!O.i.isEnterpriseDingding(e))return!0;p=x()("该功能仅限付费企业使用"),d=""}return i=C.a.open({title:p,body:d,footer:[f,h],onOk:o,onCancel:r}),!1}},,,function(e,t,n){"use strict";n.d(t,"a",function(){return b}),n.d(t,"b",function(){return g});var r,a=n(2),o=n(514),s=n.n(o),i=n(45),c=n(27),l=n(23),u=n.n(l),p=n(0),d=n(281),f=n(4),m=n.n(f),h=n(829),b="CollaboratorAvatarClickTopic",g=(r=p.PureComponent,Object(a.__extends)(_,r),_.prototype.componentDidMount=function(){var e=this.props,t=e.collaboratorsClient,n=e.editor,r=u()(window,"shimo.socket",null);r&&n&&this.initCollab(t,r)},_.prototype.componentDidUpdate=function(e){var t=u()(window,"shimo.socket",null);this.props.editor&&!e.editor&&t&&this.initCollab(this.props.collaboratorsClient,t)},_.prototype.componentWillUnmount=function(){var e=u()(this.props,"editor.editor.collaboratorsClient",null);e&&e.quit()},_.prototype.render=function(){return p.createElement(L,{"data-test":"file-header-collaborators-bar"},this.renderAvatars(),this.renderMoreAvatars())},_.prototype.onClickAvatar=function(e,t){t&&this.canBeMentioned(e)&&this.props.publishEvent(b,{id:e,name:t})},_.prototype.canBeMentioned=function(e){var t=Number(e);return t!==Number(this.props.me.id)&&0<t},_.prototype.renderDropdownTrigger=function(){var e=this.state.cooperators.slice(7).length;return p.createElement(F,null,p.createElement("span",null,"+",e))},_.prototype.renderMoreAvatars=function(){var e=this.state.cooperators.slice(7);if(0===e.length)return null;var t=this.getMenu(e);return p.createElement(M,null,p.createElement(i.a,{overlay:t,overlayStyle:{boxShadow:"0 0 6px 0 rgba(0,0,0,0.15)"},trigger:["hover"],placement:"bottomCenter",showTip:!0},this.renderDropdownTrigger()))},_.prototype.renderAvatars=function(){var n=this,e=this.state.cooperators;7<this.state.cooperators.length&&(e=this.state.cooperators.slice(0,7).concat(this.state.cooperators.slice(-1)));var t=e.map(function(e,t){return{key:String(t),data:e,style:{right:Object(d.spring)(28*t,{stiffness:300,damping:40})}}});return p.createElement(d.TransitionMotion,{styles:t,willEnter:this.willEnter},function(e){return p.createElement("div",null,e.map(function(e,t){return t<7?p.createElement(P,{key:e.key,style:e.style,onClick:n.onClickAvatar.bind(n,e.data.id,e.data.name)},p.createElement(c.a,{trigger:"hover",title:(n.canBeMentioned(e.data.id)?"@ ":"")+e.data.name,placement:"bottom"},p.createElement(k,{src:e.data.avatar,alt:e.data.name}),p.createElement(N,{color:e.data.color}))):p.createElement(D,{key:e.data.id},p.createElement(k,{src:e.data.avatar,alt:e.data.name}),p.createElement(N,{color:e.data.color}))}))})},_=Object(a.__decorate)([h.b],_));function _(){var i=null!==r&&r.apply(this,arguments)||this;return i.state={cooperators:[]},i.initCollab=function(e,t){var n=i.props,r=n.file,o=n.me;r.guid&&o.id&&((e=e||new s.a({ws:t,fileGuid:r.guid,currentUserId:o.id})).on("UserEnter",function(e){var t=e.collaborators;i.setState({cooperators:Object(a.__spread)(t)})}),e.on("UserLeave",function(e){var t=e.collaborators;i.setState({cooperators:Object(a.__spread)(t)})}),i.setState({cooperators:e.getCollaborators()}),e.start())},i.getMenu=function(e){return p.createElement(I,null,e.map(function(e,t){return p.createElement(A,{key:t},p.createElement(c.a,{trigger:"hover",title:(i.canBeMentioned(e.id)?"@ ":"")+e.name,placement:"bottom"},p.createElement(k,{src:e.avatar,alt:e.name}),p.createElement(N,{color:e.color})))}))},i.willEnter=function(){return{zIndex:0,right:2}},i}var v,y,E,O,x,T,C,w,S,j,I=m.a.div.withConfig({componentId:"sc-1umVlK"})(v=v||Object(a.__makeTemplateObject)(["max-width:140px;padding:8px 11px;background-color:#fff;"],[""])),A=m.a.div.withConfig({componentId:"sc-1umVlK-1"})(y=y||Object(a.__makeTemplateObject)(["display:inline-block;width:20px;height:20px;line-height:20px;padding:0;margin:4px;position:relative;"],[""])),k=m.a.img.withConfig({componentId:"sc-1umVlK-2"})(E=E||Object(a.__makeTemplateObject)(["overflow:hidden;border-radius:10px;background-color:#fff;width:100%;height:100%;cursor:pointer;font-size:0;"],[""])),N=m.a.span.withConfig({componentId:"sc-1umVlK-3"})(O=O||Object(a.__makeTemplateObject)(["display:inline-block;height:4px;width:4px;background-color:",";border-radius:4px;border:2px solid #fff;position:absolute;bottom:0px;right:-3px;"],["",""]),function(e){return e.color+""}),P=m.a.div.withConfig({componentId:"sc-1umVlK-4"})(x=x||Object(a.__makeTemplateObject)(["position:absolute;right:0;height:20px;width:20px;line-height:20px;border-radius:20px;display:inline-block;padding:0;overflow:visible;z-index:101;"],[""])),R=Object(f.keyframes)(T=T||Object(a.__makeTemplateObject)(["0%{opacity:1;right:0;}40%{opacity:0.6;right:56px;}60%{opacity:0.8;right:112px;}80%{opacity:0.4;right:196px;}100%{opacity:0;right:224px;}"],[""])),D=m()(P).withConfig({componentId:"sc-1umVlK-5"})(C=C||Object(a.__makeTemplateObject)(["z-index:102;opacity:0;right:224px;cursor:auto;animation:"," 0.5s ease-in;"],["",""]),R),L=m.a.div.withConfig({componentId:"sc-1umVlK-6"})(w=w||Object(a.__makeTemplateObject)(["width:224px;height:20px;margin:15px 8px 15px 0;position:relative;"],[""])),M=m.a.div.withConfig({componentId:"sc-1umVlK-7"})(S=S||Object(a.__makeTemplateObject)(["position:absolute;height:20px;top:50%;transform:translateY(-50%);z-index:104;cursor:pointer;"],[""])),F=m.a.div.withConfig({componentId:"sc-1umVlK-8"})(j=j||Object(a.__makeTemplateObject)(["position:absolute;top:0;left:0;display:flex;align-items:center;justify-content:center;color:#fff;font-size:10px;min-width:28px;height:20px;line-height:10px;border-radius:10px;background:linear-gradient(45deg,#666,#41464b);"],[""]))},function(e,t,n){"use strict";function r(e){var t=e.label,n=e.children,r=e.prefixCls,o=void 0===r?"sm-divider":r,i=e.className;return a.a.createElement("div",{className:o+" "+(i||"")},n||(t?a.a.createElement("span",{className:"divider-label-wrapper"},t):null))}var o=n(0),a=n.n(o),i=n(3),s=n.n(i),c=n(4),l=n.n(c),u=s.a.node,p=s.a.string;r.propTypes={label:p,children:u,prefixCls:p,className:p};var d=l()(r).withConfig({componentId:"sc-1oaplku-0"})(["color:",";display:block;overflow:hidden;.divider-label-wrapper{padding:0 10px;}&::after{content:'';border-top:1px solid ",";display:inline-block;height:0.5em;vertical-align:bottom;width:100%;margin-right:-100%;","}"],function(e){return e.theme.BLACK_50||"#A5A5A5"},function(e){return e.theme.BLACK_10||"#E5E5E5"},function(e){return e.label&&Object(c.css)(["margin-left:0.6em;"])});t.a=d},function(e,t,n){"use strict";var r,o=n(38),v=n.n(o),i=n(13),a=n.n(i),s=n(15),c=n.n(s),l=n(12),u=n.n(l),p=n(14),d=n.n(p),f=n(0),y=n.n(f),m=n(3),h=n.n(m),b=n(11),g=n.n(b),_=n(24),E=n.n(_),O=n(48),x=n.n(O),T=n(64),C=n(92),w=n(110),S=n(53),j=(r=f.Component,d()(I,r),I.prototype.shouldComponentUpdate=function(e){return e.hiddenClassName||e.visible},I.prototype.render=function(){var e=this.props,t=e.hiddenClassName,n=e.visible,r=v()(e,["hiddenClassName","visible"]);return t||1<y.a.Children.count(r.children)?(!n&&t&&(r.className+=" "+t),y.a.createElement("div",r)):y.a.Children.only(r.children)},I);function I(){return a()(this,I),u()(this,r.apply(this,arguments))}j.propTypes={children:h.a.any,className:h.a.string,visible:h.a.bool,hiddenClassName:h.a.string};var A,k=j,N=(A=f.Component,d()(P,A),P.prototype.render=function(){var e=this.props,t=e.className;return e.visible||(t+=" "+e.hiddenClassName),y.a.createElement("div",{className:t,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,style:e.style},y.a.createElement(k,{className:e.prefixCls+"-content",visible:e.visible},e.children))},P);function P(){return a()(this,P),u()(this,A.apply(this,arguments))}N.propTypes={hiddenClassName:h.a.string,className:h.a.string,prefixCls:h.a.string,onMouseEnter:h.a.func,onMouseLeave:h.a.func,children:h.a.any};var R=N;function D(e,t){this[e]=t}var L,M=(L=f.Component,d()(F,L),F.prototype.componentDidMount=function(){this.rootNode=this.getPopupDomNode()},F.prototype.getPopupDomNode=function(){return g.a.findDOMNode(this.popupInstance)},F.prototype.getMaskTransitionName=function(){var e=this.props,t=e.maskTransitionName,n=e.maskAnimation;return!t&&n&&(t=e.prefixCls+"-"+n),t},F.prototype.getTransitionName=function(){var e=this.props,t=e.transitionName;return!t&&e.animation&&(t=e.prefixCls+"-"+e.animation),t},F.prototype.getClassName=function(e){return this.props.prefixCls+" "+this.props.className+" "+e},F.prototype.getPopupElement=function(){var e=this.savePopupRef,t=this.props,n=t.align,r=t.style,o=t.visible,i=t.prefixCls,a=t.destroyPopupOnHide,s=this.getClassName(this.currentAlignClassName||t.getClassNameFromAlign(n)),c=i+"-hidden";o||(this.currentAlignClassName=null);var l=E()({},r,this.getZIndexStyle()),u={className:s,prefixCls:i,ref:e,onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave,style:l};return a?y.a.createElement(S.default,{component:"",exclusive:!0,transitionAppear:!0,transitionName:this.getTransitionName()},o?y.a.createElement(w.a,{target:this.getTarget,key:"popup",ref:this.saveAlignRef,monitorWindowResize:!0,align:n,onAlign:this.onAlign},y.a.createElement(R,E()({visible:!0},u),t.children)):null):y.a.createElement(S.default,{component:"",exclusive:!0,transitionAppear:!0,transitionName:this.getTransitionName(),showProp:"xVisible"},y.a.createElement(w.a,{target:this.getTarget,key:"popup",ref:this.saveAlignRef,monitorWindowResize:!0,xVisible:o,childrenProps:{visible:"xVisible"},disabled:!o,align:n,onAlign:this.onAlign},y.a.createElement(R,E()({hiddenClassName:c},u),t.children)))},F.prototype.getZIndexStyle=function(){var e={},t=this.props;return void 0!==t.zIndex&&(e.zIndex=t.zIndex),e},F.prototype.getMaskElement=function(){var e=this.props,t=void 0;if(e.mask){var n=this.getMaskTransitionName();t=y.a.createElement(k,{style:this.getZIndexStyle(),key:"mask",className:e.prefixCls+"-mask",hiddenClassName:e.prefixCls+"-mask-hidden",visible:e.visible}),n&&(t=y.a.createElement(S.default,{key:"mask",showProp:"visible",transitionAppear:!0,component:"",transitionName:n},t))}return t},F.prototype.render=function(){return y.a.createElement("div",null,this.getMaskElement(),this.getPopupElement())},F);function F(e){a()(this,F);var t=u()(this,L.call(this,e));return U.call(t),t.savePopupRef=D.bind(t,"popupInstance"),t.saveAlignRef=D.bind(t,"alignInstance"),t}M.propTypes={visible:h.a.bool,style:h.a.object,getClassNameFromAlign:h.a.func,onAlign:h.a.func,getRootDomNode:h.a.func,onMouseEnter:h.a.func,align:h.a.any,destroyPopupOnHide:h.a.bool,className:h.a.string,prefixCls:h.a.string,onMouseLeave:h.a.func};var U=function(){var o=this;this.onAlign=function(e,t){var n=o.props,r=n.getClassNameFromAlign(t);o.currentAlignClassName!==r&&(o.currentAlignClassName=r,e.className=o.getClassName(r)),n.onAlign(e,t)},this.getTarget=function(){return o.props.getRootDomNode()}},B=M,z=n(173),V=n(496);function G(){}function H(){return""}function W(){return window.document}var Y=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"],K=!!b.createPortal,$=[];K||$.push(Object(z.a)({autoMount:!1,isVisible:function(e){return e.state.popupVisible},isForceRender:function(e){return e.props.forceRender},getContainer:function(e){return e.getContainer()}}));var q=x()({displayName:"Trigger",propTypes:{children:h.a.any,action:h.a.oneOfType([h.a.string,h.a.arrayOf(h.a.string)]),showAction:h.a.any,hideAction:h.a.any,getPopupClassNameFromAlign:h.a.any,onPopupVisibleChange:h.a.func,afterPopupVisibleChange:h.a.func,popup:h.a.oneOfType([h.a.node,h.a.func]).isRequired,popupStyle:h.a.object,prefixCls:h.a.string,popupClassName:h.a.string,popupPlacement:h.a.string,builtinPlacements:h.a.object,popupTransitionName:h.a.oneOfType([h.a.string,h.a.object]),popupAnimation:h.a.any,mouseEnterDelay:h.a.number,mouseLeaveDelay:h.a.number,zIndex:h.a.number,focusDelay:h.a.number,blurDelay:h.a.number,getPopupContainer:h.a.func,getDocument:h.a.func,forceRender:h.a.bool,destroyPopupOnHide:h.a.bool,mask:h.a.bool,maskClosable:h.a.bool,onPopupAlign:h.a.func,popupAlign:h.a.object,popupVisible:h.a.bool,maskTransitionName:h.a.oneOfType([h.a.string,h.a.object]),maskAnimation:h.a.string},mixins:$,getDefaultProps:function(){return{prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:H,getDocument:W,onPopupVisibleChange:G,afterPopupVisibleChange:G,onPopupAlign:G,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[]}},getInitialState:function(){var e=this.props,t=void 0;return t="popupVisible"in e?!!e.popupVisible:!!e.defaultPopupVisible,{popupVisible:this.prevPopupVisible=t}},componentWillMount:function(){var n=this;Y.forEach(function(t){n["fire"+t]=function(e){n.fireEvents(t,e)}})},componentDidMount:function(){this.componentDidUpdate({},{popupVisible:this.state.popupVisible})},componentWillReceiveProps:function(e){var t=e.popupVisible;void 0!==t&&this.setState({popupVisible:t})},componentDidUpdate:function(e,t){var n=this.props,r=this.state;if(K||this.renderComponent(null,function(){t.popupVisible!==r.popupVisible&&n.afterPopupVisibleChange(r.popupVisible)}),this.prevPopupVisible=t.popupVisible,r.popupVisible){var o=void 0;return this.clickOutsideHandler||!this.isClickToHide()&&!this.isContextMenuToShow()||(o=n.getDocument(),this.clickOutsideHandler=Object(C.a)(o,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(o=o||n.getDocument(),this.touchOutsideHandler=Object(C.a)(o,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(o=o||n.getDocument(),this.contextMenuOutsideHandler1=Object(C.a)(o,"scroll",this.onContextMenuClose)),void(!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=Object(C.a)(window,"blur",this.onContextMenuClose)))}this.clearOutsideHandler()},componentWillUnmount:function(){this.clearDelayTimer(),this.clearOutsideHandler()},onMouseEnter:function(e){this.fireEvents("onMouseEnter",e),this.delaySetPopupVisible(!0,this.props.mouseEnterDelay)},onMouseLeave:function(e){this.fireEvents("onMouseLeave",e),this.delaySetPopupVisible(!1,this.props.mouseLeaveDelay)},onPopupMouseEnter:function(){this.clearDelayTimer()},onPopupMouseLeave:function(e){e.relatedTarget&&!e.relatedTarget.setTimeout&&this._component&&this._component.getPopupDomNode&&Object(T.a)(this._component.getPopupDomNode(),e.relatedTarget)||this.delaySetPopupVisible(!1,this.props.mouseLeaveDelay)},onFocus:function(e){this.fireEvents("onFocus",e),this.clearDelayTimer(),this.isFocusToShow()&&(this.focusTime=Date.now(),this.delaySetPopupVisible(!0,this.props.focusDelay))},onMouseDown:function(e){this.fireEvents("onMouseDown",e),this.preClickTime=Date.now()},onTouchStart:function(e){this.fireEvents("onTouchStart",e),this.preTouchTime=Date.now()},onBlur:function(e){this.fireEvents("onBlur",e),this.clearDelayTimer(),this.isBlurToHide()&&this.delaySetPopupVisible(!1,this.props.blurDelay)},onContextMenu:function(e){e.preventDefault(),this.fireEvents("onContextMenu",e),this.setPopupVisible(!0)},onContextMenuClose:function(){this.isContextMenuToShow()&&this.close()},onClick:function(e){if(this.fireEvents("onClick",e),this.focusTime){var t=void 0;if(this.preClickTime&&this.preTouchTime?t=Math.min(this.preClickTime,this.preTouchTime):this.preClickTime?t=this.preClickTime:this.preTouchTime&&(t=this.preTouchTime),Math.abs(t-this.focusTime)<20)return;this.focusTime=0}this.preClickTime=0,this.preTouchTime=0,e.preventDefault();var n=!this.state.popupVisible;(this.isClickToHide()&&!n||n&&this.isClickToShow())&&this.setPopupVisible(!this.state.popupVisible)},onDocumentClick:function(e){if(!this.props.mask||this.props.maskClosable){var t=e.target,n=Object(b.findDOMNode)(this),r=this.getPopupDomNode();Object(T.a)(n,t)||Object(T.a)(r,t)||this.close()}},handlePortalUpdate:function(){this.prevPopupVisible!==this.state.popupVisible&&this.props.afterPopupVisibleChange(this.state.popupVisible)},getPopupDomNode:function(){return this._component&&this._component.getPopupDomNode?this._component.getPopupDomNode():null},getRootDomNode:function(){return Object(b.findDOMNode)(this)},getPopupClassNameFromAlign:function(e){var t=[],n=this.props,r=n.popupPlacement,o=n.builtinPlacements,i=n.prefixCls;return r&&o&&t.push(function(e,t,n){var r,o,i=n.points;for(var a in e)if(e.hasOwnProperty(a)&&(r=e[a].points,o=i,r[0]===o[0]&&r[1]===o[1]))return t+"-placement-"+a;return""}(o,i,e)),n.getPopupClassNameFromAlign&&t.push(n.getPopupClassNameFromAlign(e)),t.join(" ")},getPopupAlign:function(){var e=this.props,t=e.popupPlacement,n=e.popupAlign,r=e.builtinPlacements;return t&&r?function(e,t,n){var r=e[t]||{};return E()({},r,n)}(r,t,n):n},getComponent:function(){var e=this.props,t=this.state,n={};return this.isMouseEnterToShow()&&(n.onMouseEnter=this.onPopupMouseEnter),this.isMouseLeaveToHide()&&(n.onMouseLeave=this.onPopupMouseLeave),y.a.createElement(B,E()({prefixCls:e.prefixCls,destroyPopupOnHide:e.destroyPopupOnHide,visible:t.popupVisible,className:e.popupClassName,action:e.action,align:this.getPopupAlign(),onAlign:e.onPopupAlign,animation:e.popupAnimation,getClassNameFromAlign:this.getPopupClassNameFromAlign},n,{getRootDomNode:this.getRootDomNode,style:e.popupStyle,mask:e.mask,zIndex:e.zIndex,transitionName:e.popupTransitionName,maskAnimation:e.maskAnimation,maskTransitionName:e.maskTransitionName,ref:this.savePopup}),"function"==typeof e.popup?e.popup():e.popup)},getContainer:function(){var e=this.props,t=document.createElement("div");return t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.width="100%",(e.getPopupContainer?e.getPopupContainer(Object(b.findDOMNode)(this)):e.getDocument().body).appendChild(t),t},setPopupVisible:function(e){this.clearDelayTimer(),this.state.popupVisible!==e&&("popupVisible"in this.props||this.setState({popupVisible:e}),this.props.onPopupVisibleChange(e))},delaySetPopupVisible:function(e,t){var n=this,r=1e3*t;this.clearDelayTimer(),r?this.delayTimer=setTimeout(function(){n.setPopupVisible(e),n.clearDelayTimer()},r):this.setPopupVisible(e)},clearDelayTimer:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)},clearOutsideHandler:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)},createTwoChains:function(e){var t=this.props.children.props,n=this.props;return t[e]&&n[e]?this["fire"+e]:t[e]||n[e]},isClickToShow:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")},isContextMenuToShow:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("contextMenu")||-1!==n.indexOf("contextMenu")},isClickToHide:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")},isMouseEnterToShow:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseEnter")},isMouseLeaveToHide:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseLeave")},isFocusToShow:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("focus")},isBlurToHide:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("blur")},forcePopupAlign:function(){this.state.popupVisible&&this._component&&this._component.alignInstance&&this._component.alignInstance.forceAlign()},fireEvents:function(e,t){var n=this.props.children.props[e];n&&n(t);var r=this.props[e];r&&r(t)},close:function(){this.setPopupVisible(!1)},savePopup:function(e){K&&(this._component=e)},render:function(){var e=this.state.popupVisible,t=this.props,n=t.children,r=y.a.Children.only(n),o={key:"trigger"};this.isContextMenuToShow()?o.onContextMenu=this.onContextMenu:o.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(o.onClick=this.onClick,o.onMouseDown=this.onMouseDown,o.onTouchStart=this.onTouchStart):(o.onClick=this.createTwoChains("onClick"),o.onMouseDown=this.createTwoChains("onMouseDown"),o.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?o.onMouseEnter=this.onMouseEnter:o.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?o.onMouseLeave=this.onMouseLeave:o.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(o.onFocus=this.onFocus,o.onBlur=this.onBlur):(o.onFocus=this.createTwoChains("onFocus"),o.onBlur=this.createTwoChains("onBlur"));var i=y.a.cloneElement(r,o);if(!K)return i;var a=void 0;return(e||this._component||t.forceRender)&&(a=y.a.createElement(V.a,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),[i,a]}}),X={adjustX:1,adjustY:1},Q=[0,0];var J=n(58),Z=n.n(J),ee=n(4),te=n(107),ne=n(63),re=Z()(["\n  .",".sm-dropdown {\n    ","\n\n    .sm-dropdown-menu {\n      box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.15);\n    }\n  }\n\n  .",".sm-dropdown-tip {\n    &::before {\n      content: '';\n      position: absolute;\n      z-index: -1;\n      display: block;\n      width: 10px;\n      height: 10px;\n      background-color: #fff;\n      transform: rotate(45deg);\n      box-shadow: 0 0 6px 0 rgba(0, 0, 0, 0.15);\n    }\n\n    &::after {\n      content: '';\n      display: block;\n      position: absolute;\n      border-color: transparent;\n      border-width: 6px;\n      border-style: solid;\n    }\n\n    &.sm-dropdown-placement-bottomLeft {\n      &::before {\n        left: 20px;\n        top: -4px;\n      }\n\n      &::after {\n        left: 19px;\n        top: -12px;\n        border-bottom-color: #fff;\n      }\n    }\n\n    &.sm-dropdown-placement-bottomRight {\n      &::before {\n        right: 20px;\n        top: -4px;\n      }\n\n      &::after {\n        right: 19px;\n        top: -12px;\n        border-bottom-color: #fff;\n      }\n    }\n\n    &.sm-dropdown-placement-bottomCenter {\n      &::before {\n        left: 50%;\n        top: -4px;\n        margin-left: -6px;\n      }\n\n      &::after {\n        left: 50%;\n        top: -12px;\n        margin-left: -6px;\n        border-bottom-color: #fff;\n      }\n    }\n\n    &.sm-dropdown-placement-topLeft {\n      &::before {\n        left: 20px;\n        bottom: -4px;\n      }\n\n      &::after {\n        left: 19px;\n        bottom: -12px;\n        border-top-color: #fff;\n      }\n    }\n\n    &.sm-dropdown-placement-topRight {\n      &::before {\n        right: 20px;\n        bottom: -4px;\n      }\n\n      &::after {\n        right: 19px;\n        bottom: -12px;\n        border-top-color: #fff;\n      }\n    }\n\n    &.sm-dropdown-placement-topCenter {\n      &::before {\n        left: 50%;\n        bottom: -4px;\n        margin-left: -6px;\n      }\n\n      &::after {\n        left: 50%;\n        bottom: -12px;\n        margin-left: -6px;\n        border-top-color: #fff;\n      }\n    }\n  }\n\n  .",".sm-dropdown-hidden {\n    display: none;\n  }\n\n  .",".sm-dropdown-mask {\n    z-index: ",";\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n  }\n\n  .",".sm-dropdown-mask-hidden {\n    display: none;\n  }\n"],["\n  .",".sm-dropdown {\n    ","\n\n    .sm-dropdown-menu {\n      box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.15);\n    }\n  }\n\n  .",".sm-dropdown-tip {\n    &::before {\n      content: '';\n      position: absolute;\n      z-index: -1;\n      display: block;\n      width: 10px;\n      height: 10px;\n      background-color: #fff;\n      transform: rotate(45deg);\n      box-shadow: 0 0 6px 0 rgba(0, 0, 0, 0.15);\n    }\n\n    &::after {\n      content: '';\n      display: block;\n      position: absolute;\n      border-color: transparent;\n      border-width: 6px;\n      border-style: solid;\n    }\n\n    &.sm-dropdown-placement-bottomLeft {\n      &::before {\n        left: 20px;\n        top: -4px;\n      }\n\n      &::after {\n        left: 19px;\n        top: -12px;\n        border-bottom-color: #fff;\n      }\n    }\n\n    &.sm-dropdown-placement-bottomRight {\n      &::before {\n        right: 20px;\n        top: -4px;\n      }\n\n      &::after {\n        right: 19px;\n        top: -12px;\n        border-bottom-color: #fff;\n      }\n    }\n\n    &.sm-dropdown-placement-bottomCenter {\n      &::before {\n        left: 50%;\n        top: -4px;\n        margin-left: -6px;\n      }\n\n      &::after {\n        left: 50%;\n        top: -12px;\n        margin-left: -6px;\n        border-bottom-color: #fff;\n      }\n    }\n\n    &.sm-dropdown-placement-topLeft {\n      &::before {\n        left: 20px;\n        bottom: -4px;\n      }\n\n      &::after {\n        left: 19px;\n        bottom: -12px;\n        border-top-color: #fff;\n      }\n    }\n\n    &.sm-dropdown-placement-topRight {\n      &::before {\n        right: 20px;\n        bottom: -4px;\n      }\n\n      &::after {\n        right: 19px;\n        bottom: -12px;\n        border-top-color: #fff;\n      }\n    }\n\n    &.sm-dropdown-placement-topCenter {\n      &::before {\n        left: 50%;\n        bottom: -4px;\n        margin-left: -6px;\n      }\n\n      &::after {\n        left: 50%;\n        bottom: -12px;\n        margin-left: -6px;\n        border-top-color: #fff;\n      }\n    }\n  }\n\n  .",".sm-dropdown-hidden {\n    display: none;\n  }\n\n  .",".sm-dropdown-mask {\n    z-index: ",";\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n  }\n\n  .",".sm-dropdown-mask-hidden {\n    display: none;\n  }\n"]),oe="\n  position: absolute;\n  left: -9999px;\n  top: -9999px;\n  display: block;\n  z-index: "+ne.a+";\n",ie="randomClass-"+Object(te.a)(oe);Object(ee.injectGlobal)(re,ie,oe,ie,ie,ie,ne.a,ie);var ae,se=ie,ce=(ae=f.Component,d()(le,ae),c()(le,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible,n=void 0===t?void 0:t;void 0!==n&&this.setState({visible:n})}},{key:"getMenuElement",value:function(){var e=this.props,t=e.overlay,n={prefixCls:e.prefixCls+"-menu",onClick:this.onClick};return"string"==typeof t.type&&delete n.prefixCls,y.a.cloneElement(t,n)}},{key:"getPopupDomNode",value:function(){return this.trigger.getPopupDomNode()}},{key:"calcTipsDropdownPosition",value:function(i){var e=this.props,t=e.tipPositionX,a=e.tipHeight,s=t+a;Object.keys(i).forEach(function(e){var t=i[e],n=t.offset,r=t.points,o=n[1]/Math.abs(n[1]);n[1]=n[1]+o*a,r[1]=r[1].replace(/.$/g,"c"),0<e.indexOf("Left")?n[0]=-s:0<e.indexOf("Right")&&(n[0]=s)})}},{key:"render",value:function(){var e=this.props,t=e.prefixCls,n=e.children,r=e.showTip,o=e.tipDelay,i=e.transitionName,a=e.animation,s=e.mouseLeaveDelay,c=e.align,l=e.placement,u=e.getPopupContainer,p=e.className,d=e.overlayStyle,f=e.getPlacements,m=e.trigger,h=e.disabled,b=v()(e,["prefixCls","children","showTip","tipDelay","transitionName","animation","mouseLeaveDelay","align","placement","getPopupContainer","className","overlayStyle","getPlacements","trigger","disabled"]),g=(p||"")+" "+se+" "+(r?t+"-tip":""),_=f&&f()||{topLeft:{points:["bl","tl"],offset:[0,-5],overflow:X,targetOffset:Q},topCenter:{points:["bc","tc"],offset:[0,-5],overflow:X,targetOffset:Q},topRight:{points:["br","tr"],offset:[0,-5],overflow:X,targetOffset:Q},bottomLeft:{points:["tl","bl"],offset:[0,5],overflow:X,targetOffset:Q},bottomCenter:{points:["tc","bc"],offset:[0,5],overflow:X,targetOffset:Q},bottomRight:{points:["tr","br"],offset:[0,5],overflow:X,targetOffset:Q}};return r&&this.calcTipsDropdownPosition(_),y.a.createElement(q,Object.assign({},b,{prefixCls:t,ref:this.saveTrigger,popupClassName:g,popupStyle:d,builtinPlacements:_,action:h?[]:m,popupPlacement:l,popupAlign:c,popupTransitionName:i,popupAnimation:a,popupVisible:this.state.visible,afterPopupVisibleChange:this.afterVisibleChange,popup:this.getMenuElement(),onPopupVisibleChange:this.onVisibleChange,getPopupContainer:u,mouseLeaveDelay:r?s+o:s}),n)}}]),le);function le(e){a()(this,le);var t=u()(this,(le.__proto__||Object.getPrototypeOf(le)).call(this,e));return ue.call(t),t.state="visible"in e?{visible:e.visible,closeMenu:e.closeMenu}:{visible:e.defaultVisible,closeMenu:!0},t}ce.propTypes={minOverlayWidthMatchTrigger:h.a.bool,onVisibleChange:h.a.func,onOverlayClick:h.a.func,prefixCls:h.a.string,children:h.a.any,transitionName:h.a.string,className:h.a.string,animation:h.a.any,align:h.a.object,overlayStyle:h.a.object,placement:h.a.string,overlay:h.a.node.isRequired,trigger:h.a.array,showAction:h.a.array,hideAction:h.a.array,getPopupContainer:h.a.func,visible:h.a.bool,defaultVisible:h.a.bool,showTip:h.a.bool,getPlacements:h.a.func,disabled:h.a.bool,mouseEnterDelay:h.a.number,mouseLeaveDelay:h.a.number,tipHeight:h.a.number,tipPositionX:h.a.number,tipDelay:h.a.number,closeMenu:h.a.bool},ce.defaultProps={prefixCls:"sm-dropdown",className:"",minOverlayWidthMatchTrigger:!0,trigger:["click"],showAction:[],hideAction:[],overlayStyle:{},defaultVisible:!1,onVisibleChange:function(){},placement:"bottomLeft",mask:!1,mouseEnterDelay:.15,mouseLeaveDelay:.1,tipHeight:6,tipPositionX:19,tipDelay:.2};var ue=function(){var r=this;this.onClick=function(e){var t=r.props,n=t.overlay.props;"visible"in t||!r.state.closeMenu||r.setState({visible:!1}),t.onOverlayClick&&t.onOverlayClick(e),n.onClick&&n.onClick(e)},this.onVisibleChange=function(e){var t=r.props;"visible"in t||r.setState({visible:e}),t.onVisibleChange(e)},this.afterVisibleChange=function(e){if(e&&r.props.minOverlayWidthMatchTrigger){var t=r.getPopupDomNode(),n=g.a.findDOMNode(r);n.offsetWidth>t.offsetWidth&&(t.style.width=n.offsetWidth+"px",r.trigger&&r.trigger._component&&r.trigger._component.alignInstance&&r.trigger._component.alignInstance.forceAlign())}},this.saveTrigger=function(e){r.trigger=e}};t.a=ce},function(e,t,n){"use strict";var r=n(13),o=n.n(r),i=n(15),a=n.n(i),s=n(12),c=n.n(s),l=n(14),u=n.n(l),p=n(0),m=n.n(p),d=n(3),f=n.n(d),h=n(38),b=n.n(h),g=n(4),_=n.n(g),v=n(9);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),O(this,x(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(t,m.a.Component),function(e,t,n){t&&E(e.prototype,t),n&&E(e,n)}(t,[{key:"render",value:function(){return m.a.createElement("svg",C({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},this.props),m.a.createElement("path",{fill:"#ccc",d:"M18.263 16l3.399-3.399a1.607 1.607 0 0 0-.005-2.258c-.607-.607-1.636-.627-2.258-.005L16 13.737l-3.399-3.399a1.607 1.607 0 0 0-2.258.005c-.607.607-.627 1.636-.005 2.258L13.737 16l-3.399 3.399a1.607 1.607 0 0 0 .005 2.258c.607.607 1.636.627 2.258.005L16 18.263l3.399 3.399c.611.611 1.633.62 2.258-.005.607-.607.627-1.636.005-2.258L18.263 16zM16 32C7.163 32 0 24.837 0 16S7.163 0 16 0s16 7.163 16 16-7.163 16-16 16z"}))}}]),t}();function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e){e.show;var t=b()(e,["show"]);return m.a.createElement(w,t)}var P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),I(this,A(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,m.a.Component),function(e,t,n){t&&j(e.prototype,t),n&&j(e,n)}(t,[{key:"render",value:function(){return m.a.createElement("svg",P({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},this.props),m.a.createElement("path",{fill:"#888",d:"M24.294 25.854l-2.502-2.502a13.187 13.187 0 0 1-8.55 3.13C5.929 26.482.001 20.554.001 13.241S5.929 0 13.242 0s13.241 5.928 13.241 13.241c0 3.259-1.178 6.243-3.13 8.55l2.502 2.502a2.196 2.196 0 0 1 2.132.572l3.124 3.124a2.202 2.202 0 0 1-.001 3.12 2.2 2.2 0 0 1-3.12.001l-3.124-3.124a2.202 2.202 0 0 1-.572-2.132zm-11.053-1.578c6.094 0 11.034-4.94 11.034-11.034S19.335 2.208 13.241 2.208 2.207 7.148 2.207 13.242s4.94 11.034 11.034 11.034z"}))}}]),t}(),D=_.a.div.withConfig({componentId:"sc-1x9i2ly-0"})(["box-sizing:border-box;vertical-align:bottom;display:inline-block;position:relative;",";"],function(e){return e.row&&Object(g.css)(["position:relative;padding-left:100px;"])}),L=_.a.input.withConfig({componentId:"sc-1x9i2ly-1"})(["box-sizing:border-box;flex:auto;max-width:100%;padding:0;padding-left:",";padding-right:",";line-height:20px;font-size:12px;border:none;outline:none;background-color:transparent;&::placeholder{color:",";}&[disabled]{color:",";-webkit-text-fill-color:",";cursor:not-allowed;&:hover{border-color:",";}&:focus{border-color:",";}&::placeholder{color:",";}}"],function(e){return e.prefix?"0":"16px"},function(e){return e.affix?"0":"16px"},v.i.BLACK_50,v.i.BLACK_30,v.i.BLACK_30,v.i.BLACK_10,v.i.BLACK_10,v.i.BLACK_30),M=_.a.div.withConfig({componentId:"sc-1x9i2ly-2"})(["box-sizing:border-box;display:flex;width:100%;min-height:34px;border-radius:2px;border:1px solid ",";box-shadow:inset 0 1px 3px 0 ",";background:#fff;transition:border-color 0.3s;&:hover{border-color:",";}"," &[disabled]{color:",";background-color:",";box-shadow:none;cursor:not-allowed;}"],v.i.BLACK_10,v.i.BLACK_10,v.i.BLACK_30,function(e){return e.isFocused&&Object(g.css)(["border-color:",";&:hover{border-color:",";}"],v.i.BLACK_50,v.i.BLACK_50)},v.i.BLACK_30,v.i.BLACK_5),F=_.a.textarea.withConfig({componentId:"sc-1x9i2ly-3"})(["box-sizing:border-box;width:100%;padding:10px 16px;min-height:160px;border-radius:2px;border:1px solid ",";box-shadow:inset 0 1px 3px 0 ",";background:#fff;font-size:12px;line-height:20px;outline:none;transition:border-color 0.3s;&:hover{border-color:",";}&:focus{border-color:",";}&::placeholder{color:",";}&[disabled]{color:",";background:",";box-shadow:none;cursor:not-allowed;&::placeholder{color:",";}}"],v.i.BLACK_10,v.i.BLACK_10,v.i.BLACK_30,v.i.BLACK_50,v.i.BLACK_50,v.i.BLACK_30,v.i.BLACK_5,v.i.BLACK_30),U=_.a.div.withConfig({componentId:"sc-1x9i2ly-4"})(["display:inline-block;position:relative;color:",";font-size:12px;line-height:20px;margin-bottom:7px;",";"],v.i.BLACK_50,function(e){return e.row&&Object(g.css)(["position:absolute;top:7px;left:0;width:70px;text-align:right;"])}),B=_.a.span.withConfig({componentId:"sc-1x9i2ly-5"})(["position:absolute;right:-10px;color:",";"],v.i.RED_100);N.propTypes={show:f.a.bool};var z,V=_()(N).withConfig({componentId:"sc-1x9i2ly-6"})(["width:32px;height:32px;visibility:",";transform:scale(0.375);cursor:pointer;path{transition:fill 0.1s ease-out;}&:hover{path{fill:#a5a5a5;}}"],function(e){return e.show?"visible":"hidden"}),G=_()(R).withConfig({componentId:"sc-1x9i2ly-7"})(["width:32px;height:32px;transform:scale(0.375);"]),H=n(174),W=n.n(H),Y=(z=p.Component,u()(K,z),a()(K,[{key:"componentWillReceiveProps",value:function(e){e.value!==this.props.value&&this.changeCleanBtn(e),this.isValueInProps(e)&&this.isCleanBtnChanged()&&this.setState({showCleanBtn:this.showCleanBtn})}},{key:"changeCleanBtn",value:function(e){var t=e.cleanBtn,n=e.value;this.showCleanBtn=t&&!!n.length}},{key:"isCleanBtnChanged",value:function(){return this.showCleanBtn!==this.state.showCleanBtn}},{key:"isValueInProps",value:function(e){return void 0!==e.value}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"renderSearchIcon",value:function(){return m.a.createElement(G,null)}},{key:"renderCleanBtn",value:function(){var e=this.state.showCleanBtn;return m.a.createElement(V,{show:e,onClick:this.handleClean})}},{key:"render",value:function(){var e=this.props,t=e.prefixCls,n=e.row,r=e.className;return m.a.createElement(D,{row:n,className:t+" "+r},this.renderLabel(),this.renderInput())}}]),K);function K(e){o()(this,K);var f=c()(this,(K.__proto__||Object.getPrototypeOf(K)).call(this,e));return f.handleChange=function(e){var t=f.props.onChange;f.changeCleanBtn(Object.assign({},f.props,{value:f.input.value})),"function"==typeof t&&t(f.input.value,e),f.isCleanBtnChanged()&&!f.isValueInProps(f.props)&&f.setState({showCleanBtn:f.showCleanBtn})},f.handleFocus=function(e){f.setState({isFocused:!0});var t=f.props.onFocus;"function"==typeof t&&t(e)},f.handleBlur=function(e){f.setState({isFocused:!1});var t=f.props.onBlur;"function"==typeof t&&t(e)},f.handleClean=function(e){f.input.value="",f.handleChange(e),f.input.focus()},f.renderLabel=function(){var e=f.props,t=e.label,n=e.required,r=e.row,o=t;return"string"==typeof t&&(o=m.a.createElement(U,{row:r},t,n&&m.a.createElement(B,null,"*"))),o},f.renderInput=function(){var e=f.props,t=e.searchIcon,n=e.cleanBtn,r=e.disabled,o=e.prefixCls,i=e.type,a=e.prefix,s=e.affix,c=W()(f.props,["prefixCls","label","onChange","onFocus","onBlur","row","prefix","affix","cleanBtn","className","searchIcon"]),l=f.state.isFocused,u=a,p=s;t&&(u=f.renderSearchIcon()),n&&(p=f.renderCleanBtn());var d=Object.assign({innerRef:function(e){f.input=e},onChange:f.handleChange,onFocus:f.handleFocus,onBlur:f.handleBlur},c);return"textarea"===i?m.a.createElement(F,d):m.a.createElement(M,{className:o+"-wrapper",disabled:r,isFocused:l},u,m.a.createElement(L,Object.assign({},d,{prefix:u,affix:p})),p)},f.state={showCleanBtn:!1,isFocused:!1},f}Y.propTypes={className:f.a.string,prefixCls:f.a.string,type:f.a.oneOf(["textarea","text","password","number","range"]),label:f.a.node,value:f.a.string,disabled:f.a.bool,onChange:f.a.func,onFocus:f.a.func,onBlur:f.a.func,row:f.a.bool,prefix:f.a.oneOfType([f.a.string,f.a.element]),affix:f.a.oneOfType([f.a.string,f.a.element]),required:f.a.bool,cleanBtn:f.a.bool,searchIcon:f.a.bool},Y.defaultProps={prefixCls:"sm-input",placeholder:""};t.a=Y},function(e,t,n){"use strict";var r=n(13),o=n.n(r),i=n(15),a=n.n(i),s=n(12),c=n.n(s),l=n(14),u=n.n(l),p=n(0),d=n.n(p),f=n(3),m=n.n(f),h=n(4),b=n.n(h),g=n(9),_=n(35),v=b.a.div.withConfig({componentId:"sc-1jmce6r-0"})(["float:left;color:",";border-bottom:2px solid transparent;cursor:pointer;transition:color 0.3s ease-out,border-color 0.3s ease-out;margin-right:36px;padding:"," 0;"," "," &:hover{color:",";}&:last-of-type{margin-right:0;}",";"],g.i.BLACK_50,function(e){return e.padding||"12px"},Object(_.a)("h3"),function(e){return"small"===e.size&&Object(h.css)(["margin-right:20px;padding:"," 0;",";"],function(e){return e.padding||"8px"},Object(_.a)("h4"))},g.i.BLACK_80,function(e){return e.isActive&&Object(h.css)(["color:",";border-bottom-color:",";&:hover{color:",";}"],g.i.BLACK_110,g.i.BLACK_110,g.i.BLACK_110)});function y(e){var t=e.prefixCls,n=e.activeKey,r=e.targetKey,o=e.children,i=e.onClick,a=e.size,s=e.verticalPadding,c=e.activeNavTabCls,l=n===r;return d.a.createElement(v,{className:t+"-navtab "+(l?c:""),size:a,verticalPadding:s,isActive:l,onClick:i},o)}y.propTypes={prefixCls:m.a.string,children:m.a.node,activeKey:m.a.string,targetKey:m.a.string,size:m.a.string,verticalPadding:m.a.string,onClick:m.a.func,activeNavTabCls:m.a.string};var E,O=b.a.div.withConfig({componentId:"sc-1yrkqlu-0"})(["&::after{content:'';display:table;clear:both;}"]),x=(E=p.Component,u()(T,E),a()(T,[{key:"componentWillReceiveProps",value:function(e){e.activeKey!==this.props.activeKey&&this.setState({activeKey:this.getActiveKey(e)})}},{key:"getActiveKey",value:function(e){var t=e.defaultActiveKey,n=e.activeKey,r=e.children;return n||t||r[0].key}},{key:"handleNavTabClick",value:function(e,t){var n=this;this.state.activeKey!==t&&this.setState({activeKey:t},function(){n.props.onChange(n.state.activeKey)})}},{key:"renderNavTabs",value:function(){var o=this,e=this.props,i=e.prefixCls,t=e.children,a=e.size,s=e.verticalPadding,c=e.activeNavTabCls,l=this.state.activeKey,n=(Array.isArray(t)?t:[t]).filter(function(e){return e&&e.type.__SM_TAB_PANE__}).map(function(e){var t=e.props,n=e.key,r=t.tab;return d.a.createElement(y,{prefixCls:i,size:a,verticalPadding:s,activeKey:l,key:n,targetKey:n,onClick:function(e){return o.handleNavTabClick(e,n)},activeNavTabCls:c},r)});return d.a.createElement(O,{className:i+"-navtabs"},n)}},{key:"renderTabContent",value:function(){var t=this.state.activeKey,e=this.props.children;return(Array.isArray(e)?e:[e]).filter(function(e){return e&&e.type.__SM_TAB_PANE__}).map(function(e){return d.a.cloneElement(e,{active:t===e.key})})}},{key:"render",value:function(){var e=this.props,t=e.prefixCls,n=e.className;return d.a.createElement("div",{className:n+" "+t+"-container"},this.renderNavTabs(),d.a.createElement("div",{className:t+"-content"},this.renderTabContent()))}}]),T);function T(e){o()(this,T);var t=c()(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,e));return t.state={tabs:[],contents:[],activeKey:t.getActiveKey(e)},t}x.propTypes={prefixCls:m.a.string,className:m.a.string,children:m.a.node,activeKey:m.a.string,defaultActiveKey:m.a.string,onChange:m.a.func,size:m.a.string,verticalPadding:m.a.string,activeNavTabCls:m.a.string},x.defaultProps={className:"",prefixCls:"sm-tab",size:"default",onChange:function(){},activeNavTabCls:""};t.a=x},,,function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"formatDate",function(){return u}),n.d(r,"isSame",function(){return p}),n.d(r,"getDistanceBetweenDays",function(){return d});var o={};n.r(o),n.d(o,"truncateString",function(){return h}),n.d(o,"reverse",function(){return b}),n.d(o,"middleTruncateString",function(){return g}),n.d(o,"partiallyVisibleEmail",function(){return _}),n.d(o,"partiallyVisibleMobile",function(){return v});var i={};n.r(i),n.d(i,"isSameUser",function(){return E}),n.d(i,"getAccountTypeStr",function(){return O}),n.d(i,"getTeamRoleStr",function(){return x}),n.d(i,"isEnterprise",function(){return T}),n.d(i,"isNewRegisteredUser",function(){return C}),n.d(i,"isDept",function(){return w}),n.d(i,"isNewDing",function(){return S}),n.d(i,"openPayment",function(){return A});var a=n(1),s=n.n(a),c=n(43),l=n.n(c),u=function(e,t,n){void 0===t&&(t=l()()),void 0===n&&(n=6e5);var r=l()(e);if(r.isAfter(t))return r.diff(t,"millisecond")<=n?s()("刚刚"):r.format(s()("M月D日 H:mm"));var o=l()(t).subtract(1,"day");return t.diff(r,"second")<=60?s()("刚刚"):t.isSame(r,"day")?r.format(s()("今天 H:mm")):o.isSame(r,"day")?r.format(s()("昨天 H:mm")):t.diff(r,"month",!0)<=2?r.format(s()("M月D日 H:mm")):t.isSame(r,"year")?r.format(s()("M月D日")):r.format(s()("YYYY年M月D日"))},p=function(e,t){return l()(e).isSame(t)},d=function(e,t){var n=t?l()(t):l()(),r=l()(e);return Math.abs(n.diff(r,"day"))},f=n(36),m=/[^\x00-\xff]/gi,h=function(e,t,n){if(void 0===n&&(n="..."),!e||t<=0)return"";if(t<e.replace(m,"aa").length)for(var r=0,o=0;o<t;o++){if(e[o].match(m)?r+=2:r+=1,r===t)return e.substr(0,o+1)+n;if(t<r)return e.substr(0,o)+n}return e},b=function(e){return e?e.split("").reverse().join(""):e},g=function(e,t,n,r){void 0===e&&(e=""),void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r="...");var o=t+n;return e.length+(e.match(m)||[]).length<=o?e:""+h(e,t,r)+b(h(b(e),n,""))},_=function(e,t){if(void 0===t&&(t="*"),e){var n=e.replace(m,"aa"),r=e.split("@"),o=n.split("@")[0],i=r[1];return(o=o.length<3?t.repeat(o.length):o.slice(0,-3)+t.repeat(3))+"@"+i}},v=function(e){return e.replace(/^(\+86)?(\d{3})(\d{4})(\d{4})$/,"$2****$4")},y=n(62),E=function(e,t){return!(!e||!t||String(e).trim()!==String(t).trim())},O=function(e,t){if(t){if(t.get("dingtalkCorp"))return s()("企业钉钉版");if(t.get("weworkCorp"))return s()("企业微信版")}switch(e.getIn?e.getIn(["membership","accountType"]):e.membership.accountType){case"enterprise_standard":return s()("企业版");case"personal_free":return s()("个人免费版");case"personal_premium":return s()("个人高级版");default:return s()("企业版")}},x=function(e){switch(e.get("teamRole")){case"creator":return s()("创建者");case"admin":return s()("管理者");case"member":return s()("成员");default:return""}},T=function(e){var t=e.getIn?e.getIn(["membership","accountType"]):e.membership.accountType;return t&&0<=t.indexOf("enterprise")},C=function(e,t){if(void 0===t&&(t="2018-09-18"),!e||!e.createdAt)return!1;var n=new Date(t).getTime(),r=new Date(e.createdAt).getTime();return l()(r).isAfter(l()(n))},w=function(e){return e&&2===e.type};function S(e){return!!(e&&e.membership&&e.membership.isNewDing)}var j="https://h5.dingtalk.com/appcenter/index-pc.html?source=appstore_button&corpId="+sessionStorage.getItem("DINGTALK_CORPID")+"#/detail/FW_GOODS-1000289003",I="https://h5.dingtalk.com/appcenter/detail.html?showmenu=false&dd_share=false&goodsCode=FW_GOODS-1000289003";function A(e,t,n){!t||!0!==t&&!S(t)?n?window.open(e):location.href=e:"undefined"!=typeof DingTalkPC?DingTalkPC.biz.util.openModal({url:j,title:s()("石墨，就是协同办公"),onSuccess:y.c,onFail:y.c}):location.href=I}var k=n(39),N=n(54),P=n(100),R=n(37);n.d(t,"a",function(){return r}),n.d(t,"c",function(){return f}),n.d(t,"e",function(){return o}),n.d(t,"g",function(){return i}),n.d(t,"h",function(){return k}),n.d(t,"d",function(){return N}),n.d(t,"f",function(){return P}),n.d(t,"b",function(){return R})},,,,function(e,t,n){"use strict";var r=n(2),o=n(4),i=n.n(o),a=n(0),s=n.n(a);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,p(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,s.a.Component),function(e,t,n){t&&l(e.prototype,t),n&&l(e,n)}(t,[{key:"render",value:function(){return s.a.createElement("svg",f({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 13 20"},this.props),s.a.createElement("path",{fill:"#555",d:"M6.5 12L9 8H4z"}))}}]),t}(),h=n(19);n.d(t,"e",function(){return T}),n.d(t,"g",function(){return C}),n.d(t,"a",function(){return w}),n.d(t,"d",function(){return S}),n.d(t,"b",function(){return j}),n.d(t,"c",function(){return I}),n.d(t,"h",function(){return A}),n.d(t,"f",function(){return k});var b,g,_,v,y,E,O,x,T=i()(m).withConfig({componentId:"sc-1TAvLS"})(b=b||Object(r.__makeTemplateObject)(["display:block;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);"],[""])),C=i()(h.a).withConfig({componentId:"sc-1TAvLS-1"})(g=g||Object(r.__makeTemplateObject)(["width:26px;min-width:26px;height:28px;margin:11px 0;padding:0;position:relative;"],[""])),w=i.a.div.withConfig({componentId:"sc-1TAvLS-2"})(_=_||Object(r.__makeTemplateObject)(["-webkit-font-smoothing:antialiased;background:#fff;transform:translate(-25px,0);overflow:hidden;"],[""])),S=i.a.div.withConfig({componentId:"sc-1TAvLS-3"})(v=v||Object(r.__makeTemplateObject)(["width:220px;font-size:12px;position:relative;overflow:hidden;"],[""])),j=i.a.div.withConfig({componentId:"sc-1TAvLS-4"})(y=y||Object(r.__makeTemplateObject)(["box-sizing:border-box;min-height:163px;max-height:463px;overflow-x:hidden;overflow-y:auto;padding-bottom:15px;width:240px;padding-right:20px;margin-right:-20px;padding:0 45px 0 25px;margin-top:10px;"],[""])),I=i.a.div.withConfig({componentId:"sc-1TAvLS-5"})(E=E||Object(r.__makeTemplateObject)(["color:#a5a5a5;line-height:14px;margin-bottom:8px;"],[""])),A=i.a.div.withConfig({componentId:"sc-1TAvLS-6"})(O=O||Object(r.__makeTemplateObject)(["position:relative;box-sizing:border-box;height:50px;padding-top:12px;border-bottom:1px solid #e5e5e5;overflow:hidden;margin:0 16px;.sm-input{height:100%;.sm-input-wrapper{height:100%;border:0;outline:none;box-shadow:none;box-sizing:border-box;width:100%;svg{padding-top:4px;transform:scale(0.6);color:#333;}}}input{border:0;outline:none;box-shadow:none;box-sizing:border-box;width:100%;}"],[""])),k=i.a.div.withConfig({componentId:"sc-1TAvLS-7"})(x=x||Object(r.__makeTemplateObject)(["margin:0 -25px 20px;width:220px;"],[""]))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONSTANTS={OUTSIDER_CANNOT_ADD_USER:"OUTSIDER_CANNOT_ADD_USER",DISABLED_CANNOT_ADD_USER:"DISABLED_CANNOT_ADD_USER",EXPIRED_CANNOT_ADD_USER:"EXPIRED_CANNOT_ADD_USER",NOT_ON_SEAT_CANNOT_ADD_USER:"NOT_ON_SEAT_CANNOT_ADD_USER",NO_ACCESS_ADD_OUTSIDER:"NO_ACCESS_ADD_OUTSIDER",NO_ACCESS_ADD_USER:"NO_ACCESS_ADD_USER",PERSONAL_VERSION_CANNOT_ADD_USER:"PERSONAL_VERSION_CANNOT_ADD_USER",ONLY_ONE_COLLABORATOR_CANNOT_TRANSFER:"ONLY_ONE_COLLABORATOR_CANNOT_TRANSFER",NO_ACCESS_TRANSFER:"NO_ACCESS_TRANSFER",NO_ACCESS_EDIT:"NO_ACCESS_EDIT",NO_ACCESS_MODIFY:"NO_ACCESS_MODIFY",OUTSIDER_CANNOT_MODIFY_ROLE:"OUTSIDER_CANNOT_MODIFY_ROLE",TOO_MANY_COLLABORATORS:"TOO_MANY_COLLABORATORS",EXPIRED_CANNOT_MODIFY_ROLE:"EXPIRED_CANNOT_MODIFY_ROLE",ADDED_DEPT_CANNOT_MODIFY_ROLE_IN_ADDING_MODE:"ADDED_DEPT_CANNOT_MODIFY_ROLE_IN_ADDING_MODE",FILE_CANNOT_MODIFI_SPACE_COLLAB_ROLE:"FILE_CANNOT_MODIFI_SPACE_COLLAB_ROLE",FAILURE_PERSONAL_FREE:"FAILURE_PERSONAL_FREE",FAILURE_READ_ONLY:"FAILURE_READ_ONLY",FAILURE_TRIAL_EXPIRED:"FAILURE_TRIAL_EXPIRED",FAILURE_NOT_ON_SEAT:"FAILURE_NOT_ON_SEAT",FAILURE_ENTERPRISE_EXPIRED_CREATOR_OR_ADMIN:"FAILURE_ENTERPRISE_EXPIRED_CREATOR_OR_ADMIN",FAILURE_ENTERPRISE_EXPIRED_MEMBER:"FAILURE_ENTERPRISE_EXPIRED_MEMBER",NO_ACCESS_DELETE:"NO_ACCESS_DELETE",DELETE_FILE_OR_EXIT_SHARE:"DELETE_FILE_OR_EXIT_SHARE",ONLY_DELETE_FILE:"ONLY_DELETE_FILE",ONLY_EXIT_SHARE:"ONLY_EXIT_SHARE",NO_ACCESS_MOVE_FOLDER:"NO_ACCESS_MOVE_FOLDER",NO_ACCESS_MOVE_FILE:"NO_ACCESS_MOVE_FILE",NO_ACCESS_CREATE_OR_UPLOAD_FILE:"NO_ACCESS_CREATE_OR_UPLOAD_FILE",FAILURE_ENTERPRISE_DINGTALK:"FAILURE_ENTERPRISE_DINGTALK"},t.default=t.CONSTANTS},function(e,t,n){"use strict";var r,o=n(13),s=n.n(o),i=n(15),a=n.n(i),c=n(12),l=n.n(c),u=n(14),p=n.n(u),d=n(0),f=n.n(d),m=n(103),h=(r=d.Component,p()(b,r),a()(b,[{key:"render",value:function(){var t=this;return f.a.createElement(m.b,Object.assign({},this.props,{innerRef:function(e){t.menuItem=e}}))}}]),b);function b(){var e,t,n,r;s()(this,b);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return(t=n=l()(this,(e=b.__proto__||Object.getPrototypeOf(b)).call.apply(e,[this].concat(i)))).onKeyDown=function(e){n.menuItem.onKeyDown(e)},r=t,l()(n,r)}t.a=h},,,,,,function(e,t,n){"use strict";var r=Object.freeze({FILE_TYPE_FOLDER:1,FILE_TYPE_DOC:0,FILE_TYPE_EXCEL:-1,FILE_TYPE_GUIDANCE_WEB:-2,FILE_TYPE_GUIDANCE_PHONE:-3,GUIDE_TYPE_WEB_DESKTOP_OPEN_DOC:0,GUIDE_TYPE_WEB_DESKTOP_SHARE_DOC:1,GUIDE_TYPE_WEB_DOC_SHOW_MORE:2,GUIDE_TYPE_WEB_DOC_OPEN_SHARE:3,GUIDE_TYPE_WEB_DOC_SHARE_USERS:4,GUIDE_TYPE_WEB_DOC_CHANGE_PERMISSION:5,GUIDE_TYPE_WEB_SPREAD_SHEET_SPLASH:6,GUIDE_TYPE_WEB_CREATE_TEAM:7,GUIDE_TYPE_WEB_FIRST_TIME_ENTER_TEAM:8,GUIDE_TYPE_WEB_UPGRADE_PRO:9,GUIDE_TYPE_WEB_FIRST_TIME_IMPORT_FILE:10,GUIDE_TYPE_DINGTALK_FIRST_SHOW_DESKTOP:11,GUIDE_TYPE_DINGTALK_FIRST_OPEN_FILE:12,GUIDE_TYPE_WEB_TEAM_FIRST_INVITATION:13,GUIDE_TYPE_WEB_FIRST_TIME_TEAM_SPLASH:14,GUIDE_TYPE_WEB_DINGDING_HEADER_ADS:15,GUIDE_TYPE_WEB_FEATURE_TIP_LIST_MODE:16,GUIDE_TYPE_WEB_TECENT_APPSTORE_HEADER_ADS:17,GUIDE_TYPE_WEB_DOUBLE_12_ACTIVITY:18,GUIDE_TYPE_WEB_YEAR_STORY_CLOSED:19,GUIDE_TYPE_WEB_NEW_SHEET_GUIDE:20,GUIDE_TYPE_WEB_NEW_SHEET_BORDER:21,GUIDE_TYPE_WEB_NEW_SHEET_RULE:22,GUIDE_TYPE_WEB_NEW_SHEET_LINK:23,GUIDE_TYPE_WEB_ENTERPRISE_PRICE_OFF_ACTIVITY:23,GUIDE_TYPE_WEB_ACCOUNT_CLASSIFICATION_NOTICE:24,GUIDE_TYPE_WEB_SHIMO_ANNIVERSARY:25,GUIDE_TYPE_WEB_TOUSE_IN_PC:26,GUIDE_TYPE_WEB_INVITE_BAR:27,GUIDE_TYPE_WEB_NEW_DOC_SHOW:28,GUIDE_TYPE_WEB_IPAD_BAR:29,GUIDE_TYPE_WEB_NEW_DASHBOARD:30,GUIDE_TYPE_WEB_WECHAT_ENTERPRISE_INTRO_VIEW:31,GUIDE_TYPE_WEB_WECHAT_ENTERPRISE_INTRO_COMPLETE:32,GUIDE_TYPE_WEB_NEW_SHEET_VALIDATOR:33,GUIDE_TYPE_WEB_WECHAT_ENTERPRISE_CREATOR_TRIAL:34,GUIDE_TYPE_WEB_WECHAT_ENTERPRISE_TRIAL_WILL_EXPIRE:35,GUIDE_TYPE_WEB_WECHAT_ENTERPRISE_STANDARD_WILL_EXPIRE:36,GUIDE_TYPE_WEB_WECHAT_ENTERPRISE_TRIAL_EXPIRED:37,GUIDE_TYPE_WEB_WECHAT_ENTERPRISE_STANDARD_EXPIRED:38,GUIDE_DOC_FEATURE_ID:44,GUIDE_TYPE_WEB_SHEET_FORM:42,GUIDE_TYPE_WEB_SHEET_CHART:43,GUIDE_TYPE_WEB_DESKTOP_CREATE_FILE_BY_TEMPLATE:45,GUIDE_TYPE_WEB_DESKTOP_CUSTOM_TEMPLATE:46,GUIDE_TYPE_WEB_FIRST_VISIT_LIZARD:47,GUIDE_TYPE_WEB_DOC_SAVE_TEMPLATE:50,GUIDE_TYPE_WEB_SHEET_SAVE_TEMPLATE:51,GUIDE_TYPE_WEB_WELCOME_DOC:53,GUIDE_TYPE_WEB_FIRST_OPEN_COLLABORATOR_DIALOG:54,GUIDE_TYPE_WEB_FIRST_OPEN_SHARED_DIALOG:55,GUIDE_TYPE_WEB_DESKTOP_FIRST_CREATE_SLIDE:56,GUIDE_TYPE_WEB_DESKTOP_FIRST_CLICK_CREATE_SLIDE:57,GUIDE_TYPE_WEB_DOC_TRANSLATION:58,GUIDE_TYPE_WEB_SHEET_ADVANCED_SORT:59,GUIDE_TYPE_WEB_SHEET_ADVANCED_SORT_OPEN:60,GUIDE_TYPE_WEB_DOC_INSERT_MEDIA_AND_LOCATION:61,GUIDE_TYPE_WEB_DOC_PLAY_AUDIO_ATTACHMENT:62,GUIDE_TYPE_WEB_SHEET_QUESTIONNAIRE:63,GUIDE_TYPE_WEB_SHEET_NEW_TEMPLATE:64,GUIDE_TYPE_WEB_DOC_INSERT_DATE_MENTION:65,GUIDE_TYPE_WEB_DOC__DATE_MENTION_HELP:66,GUIDE_TYPE_WEB_SHEET_OPTIONAL_PASTE:67,GUIDE_TYPE_WEB_SHEET_CUSTOM_FORMAT_TOOLBAR:68,GUIDE_TYPE_WEB_SHEET_CUSTOM_FORMAT_DROPDOWNMENU:69,GUIDE_TYPE_WEB_SHEET_CUSTOM_FORMAT_CONTEXTMENU:70,GUIDE_TYPE_WEB_FIRST_VISIT_V2UI:71,GUIDE_TYPE_WEB_FIRST_VISIT_V2SPACE:72,GUIDE_TYPE_WEB_FIRST_VISIT_MINDMAP:73,GUIDE_TYPE_WEB_SHEET_SWITCH_TOOLBAR:74,GUIDE_TYPE_WEB_SHEET_FORMULA_VALIDATION:75,GUIDE_TYPE_WEB_FIRST_VISIT_FORM:76,GUIDE_TYPE_WEB_FIRST_VISIT_FILE_PREVIEW:77,GUIDE_TYPE_WEB_FIRST_VISIT_PREVIEW:78,LINK_CATEGORY_INVITE:0,LINK_CATEGORY_REGISTER:1,LINK_CATEGORY_FINDPASSWORD:2,LINK_CATEGORY_VERIFYEMAIL:3,LINK_CATEGORY_INVITE_LINK:4,LINK_CATEGORY_TEAM_INVITE:5,COMMENT_TARGET_TYPE_FILE:1,USER_STATUS_INVITED:-1,USER_STATUS_REGISTERED:0,USER_STATUS_VERIFIED:1,USER_ACTIVITY_LOGIN_SUCCESS:1,USER_ACTIVITY_LOGIN_FAIL:2,USER_ACTIVITY_USER_NOT_FOUND:3,USER_ACTIVITY_REGISTER_SUCCESS:4,USER_ACTIVITY_REGISTER_FAIL:5,USER_ACTIVITY_LOGOUT:6,USER_ACTIVITY_EMAIL_VERIFY:7,USER_ACTIVITY_REQUEST_VERIFICATION_CODE:8,USER_ACTIVITY_VERIFY_VERIFICATION_CODE:9,USER_ACTIVITY_VERIFY_PASSWORD:10,USER_ACTIVITY_IAP:11,USER_ACTIVITY_IAP_WRONG1:21003,USER_ACTIVITY_IAP_WRONG2:21010,NOTIFICATION_TARGET_TYPE_FILE:1,NOTIFICATION_TARGET_TYPE_COMMENT:2,NOTIFICATION_TARGET_TYPE_EXTERNALLINK:3,NOTIFICATION_TARGET_TYPE_TEAM:4,NOTIFICATION_TYPE_COMMENT:0,NOTIFICATION_TYPE_MENTION:1,NOTIFICATION_TYPE_INVITATION:2,NOTIFICATION_TYPE_TEAM:3,NOTIFICATION_TYPE_TEAM_INVITATION:4,NOTIFICATION_TYPE_TEAM_NEW_MEMBER:5,NOTIFICATION_TYPE_SHARE_DESTROYED:6,NOTIFICATION_TYPE_TODO:7,NOTIFICATION_TYPE_LIKE:8,NOTIFICATION_TYPE_TODO_MODIFY:9,NOTIFICATION_TYPE_SYSTEM_DEFAULT:20,MAIL_STATUS_NONEED:-1,MAIL_STATUS_PENDING:0,MAIL_STATUS_FINISH:1,MAIL_STATUS_ERROR:2,MAIL_EDM_USER_1:0,MAIL_EDM_USER_2:1,MAIL_EDM_USER_3:2,MAIL_EDM_USER_4:3,HISTORY_TYPE_ACTION:1,HISTORY_TYPE_CHANGESET:2,HISTORY_TYPE_COMMENT:3,HISTORY_TYPE_LINE:4,BUG_STATUS_NORMAL:0,BUG_STATUS_CONFIRMED:1,BUG_STATUS_FIXED:2,MEMBERSHIP_TARGET_TYPE_USER:1,MEMBERSHIP_TARGET_TYPE_TEAM:2,MEMBERSHIP_CATEGORY_USER_PREMIUM:1,MEMBERSHIP_CATEGORY_TEAM_STANDARD:2,MEMBERSHIP_CATEGORY_TEAM_PREMIUM:4,TEAM_TRIAL_DURATION:14,TYPE_WECHAT_INVITE_REWARD:1,TYPE_CASH_BACK_REWARD:2,TYPE_U_CAN_U_BIBI:3,TYPE_WECHAT_BIND_REWARD:4,oldGuideTypes:{}});Object.keys(r).forEach(function(e){0===e.indexOf("GUIDE_TYPE_")&&(r.oldGuideTypes[e.replace("GUIDE_","")]=r[e])}),e.exports=r},,function(e,t,n){"use strict";function r(o,i){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(s[i])return s[i];function n(){delete s[i]}var r=o.apply(void 0,Object(a.__spread)(e));return(s[i]=r).then(n,n),r}}var a=n(2),s={};r.clear=function(){s={}},t.a=r},,function(e,t,n){"use strict";var r=n(183);t.a=r.a},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/doc_240_flat@2x.22951bd0.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/sheet_240_flat@2x.473ebf86.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/slide_240_flat@2x.8bf2283c.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/form_160_flat@2x.f0a0c3a7.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/board_160_flat@2x.1b221a97.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/doc_160_flat@2x.098efd4b.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/sheet_160_flat@2x.95882c05.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/slide_160_flat@2x.56fa46f1.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_image_160.5388c329.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_pdf_160.fe306eb5.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_music_160.1a3952a3.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_zip_160.605a01f6.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_video_160.0d5e9705.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_wps_160.f7a579a9.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_default_160.46b26831.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/doc_32@2x.3b71ac0f.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/sheet_32@2x.6a4595fa.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/slide_32@2x.c5dc1467.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/doc_60@2x.8f925cc7.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/sheet_60@2x.3e519e58.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/slide_60@2x.e14e81e4.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_image_52.11a08418.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_pdf_52.82dacda1.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_music_52.719c23e6.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_zip_52.976c40ac.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_video_52.089311f8.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_wps_52.82d9c2e8.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_default_52.f24270f6.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/doc_40_plain@2x.3d9ca89e.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/sheet_40_plain@2x.90842475.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/slide_40_plain@2x.3b6bb212.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/doc_40@2x.efa97b5f.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/sheet_40@2x.fd89dc15.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/slide_40@2x.445e311c.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/doc_30@2x.2b0b9e1f.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/doc_160_gray@2x.0381954c.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/sheet_160_gray@2x.1dae7441.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/slide_160_gray@2x.e6235fe7.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/doc_52_gray@2x.3af9808b.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/sheet_52_gray@2x.76355608.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/slide_52_gray@2x.9f32a1b7.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/doc_52_shortcut@2x.2230a81c.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/sheet_52_shortcut@2x.94544e64.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/slide_52_shortcut@2x.bf160859.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/doc_160_shortcut@2x.e02a0045.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/sheet_160_shortcut@2x.4afbd82c.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/slide_160_shortcut@2x.d8e396ce.png"},,,,,,,,function(e,t,n){"use strict";function r(e){var t=e.text,n=e.prefix,r=e.className,o=e.snow;return i.a.createElement(b,{className:n+" "+r},o?i.a.createElement("img",{src:m.a,width:"30px",height:"30px"}):i.a.createElement("span",{className:"loading"}),t)}var o=n(0),i=n.n(o),a=n(3),s=n.n(a),c=n(4),l=n.n(c),u=n(9),p=n(495),d=n.n(p),f=n(494),m=n.n(f);r.propTypes={prefix:s.a.string,className:s.a.string,text:s.a.string,snow:s.a.bool},r.defaultProps={prefix:"sm-loading",className:"",snow:!1};var h=Object(c.keyframes)(["0%{transform:rotate(0);}50%{transform:rotate(180deg);}100%{transform:rotate(360deg);}"]),b=l.a.div.withConfig({componentId:"sc-144k21m-0"})(["display:flex;flex-direction:column;align-items:center;color:",";.loading{display:inline-block;width:20px;height:20px;background:url(",") no-repeat;background-size:20px 20px;margin-bottom:10px;animation:"," 0.8s infinite linear;}"],u.d,d.a,h),g=r;t.a=g},,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(567);t.isValidLocaleResource=function(n){return!!n&&(!Array.isArray(n)&&("object"==typeof n&&Object.keys(n).every(function(e){var t=n[e];return null==t||"string"==typeof t||"object"==typeof t})))},t.sourceTextToKey=function(n){switch(n.type){case"string":var e=n.id,t=n.text;return e?t+"#"+e:t;case"interpolated":var r=n.textParts.length;return 1===r?n.textParts[0]:2===r?n.textParts[0]+"%s"+n.textParts[1]:n.textParts.map(function(e,t){return t===n.textParts.length-1?e:e+"%"+(t+1)}).join("");default:return o.assertNever(n)}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/folder_40@2x.b2b9a5cd.png"},,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return r});var o;function r(){if(void 0!==o)return o;var e=navigator.userAgent,t=e.indexOf("MSIE ");if(0<t)return o=parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(0<e.indexOf("Trident/")){var n=e.indexOf("rv:");return o=parseInt(e.substring(n+3,e.indexOf(".",n)),10)}var r=e.indexOf("Edge/");return 0<r&&(o=parseInt(e.substring(r+5,e.indexOf(".",r)),10))}},function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=t(2).__importDefault(t(221)),c=t(125),l=t(156),u=t(163);a.isOutsider=function(e){return!!e.isOutsider},a.isEditor=function(e){return"editable"===e.permission},a.isOnlyReaderOrCommenter=function(e,t){return t&&t.permissions&&!t.isSpace?!t.permissions.editable&&(t.permissions.commentable||t.permissions.readable):!!e.permission&&("readonly"===e.permission||"commentable"===e.permission)},a.isBelongToTheSameEnterprise=function(e,t){return!!e.team&&!!t.teamId&&e.team===t.teamId},a.isAllowAddOutsider=function(e){return e.permissions.outsiderAddable},a.isDepartmentCollaborator=function(e){var t;return 2===(null===(t=e)||void 0===t?void 0:t.type)},a.checkWechatAddButton=function(e){var t,n=e.me,r=e.file;return a.isOnlyReaderOrCommenter(n,r)?{disabled:!0,reason:s.default.NO_ACCESS_EDIT}:a.isOutsider(n)?{disabled:!0,reason:s.default.OUTSIDER_CANNOT_ADD_USER}:u.isEnterpriseFile(r)&&c.isEnterprise(n)&&!a.isAllowAddOutsider(r)?{disabled:!0,reason:s.default.NO_ACCESS_ADD_OUTSIDER}:15<=r.collaboratorCount?c.isPersonalFree(n)?{disabled:!0,reason:s.default.NO_ACCESS_ADD_USER}:c.isEnterprise(n)&&c.isExpired(n)?{disabled:!0,reason:s.default.EXPIRED_CANNOT_ADD_USER}:c.isEnterprise(n)&&l.isNotOnSeat(n)?{disabled:!0,reason:s.default.NOT_ON_SEAT_CANNOT_ADD_USER}:{disabled:!1}:{disabled:!(null==(t=u.isFileCollaboratorManageable(r))||t)}},a.isFileAdmin=function(e){return!(!e.role||"owner"===e.role||!e.owner)},a.isInheritFromSpace=function(e,t){return u.isSpaceFile(e)&&t.hasOwnProperty("sharedBy")&&!t.sharedBy},a.checkFooterAddButton=function(e){var t,n=e.me,r=e.file;return a.isOnlyReaderOrCommenter(n,r)?{disabled:!0,reason:s.default.NO_ACCESS_EDIT}:a.isOutsider(n)?{disabled:!0,reason:s.default.OUTSIDER_CANNOT_ADD_USER}:r&&15<=r.collaboratorCount?c.isEnterpriseDingding(n)?{disabled:!1}:c.isPersonalFree(n)?{disabled:!0,reason:s.default.NO_ACCESS_ADD_USER}:c.isEnterprise(n)&&c.isExpired(n)?{disabled:!0,reason:s.default.EXPIRED_CANNOT_ADD_USER}:c.isEnterprise(n)&&l.isNotOnSeat(n)?{disabled:!0,reason:s.default.NOT_ON_SEAT_CANNOT_ADD_USER}:{disabled:!1}:{disabled:!(null==(t=u.isFileCollaboratorManageable(r))||t)}},a.checkAddButton=function(e){var t=e.me,n=e.file,r=e.user;return a.checkBatchAddButton({me:t,file:n,user:r,addedCollaboratorCount:0})},a.checkBatchAddButton=function(e){var t=e.me,n=e.file,r=e.user,o=e.addedCollaboratorCount,i=void 0===o?0:o;return u.isEnterpriseFile(n)&&a.isOutsider(t)?{disabled:!0,reason:s.default.OUTSIDER_CANNOT_ADD_USER}:a.isOnlyReaderOrCommenter(t,n)?{disabled:!0,reason:s.default.NO_ACCESS_EDIT}:a.isAllowAddOutsider(n)||r.isDepartment||!a.isOutsider(r)?0<=n.collaboratorCount&&15<=n.collaboratorCount+i&&i<20?c.isPersonalFree(t)?{disabled:!0,reason:s.default.NO_ACCESS_ADD_USER}:c.isEnterprise(t)&&c.isExpired(t)?{disabled:!0,reason:s.default.EXPIRED_CANNOT_ADD_USER}:c.isEnterprise(t)&&l.isNotOnSeat(t)?{disabled:!0,reason:s.default.NOT_ON_SEAT_CANNOT_ADD_USER}:{disabled:!1}:20<=i?{disabled:!0,reason:s.default.TOO_MANY_COLLABORATORS}:{disabled:!1}:{disabled:!0,reason:s.default.NO_ACCESS_ADD_OUTSIDER}},a.checkEditButton=function(e){var t=e.me,n=e.file,r=e.userId,o=e._user;return a.isOnlyReaderOrCommenter(t,n)?t.id===r&&(a.isBelongToTheSameEnterprise(t,n)&&(l.isCreator(t)||l.isAdmin(t))||!u.isEnterpriseFile(n)&&t.owner)?{disabled:!1}:{disabled:!0,reason:s.default.NO_ACCESS_MODIFY}:a.isOutsider(t)?{disabled:!0,reason:s.default.OUTSIDER_CANNOT_MODIFY_ROLE}:a.isDepartmentCollaborator(o)&&o.disabled?{disabled:!0,reason:s.default.ADDED_DEPT_CANNOT_MODIFY_ROLE_IN_ADDING_MODE}:a.isDepartmentCollaborator(o)&&!n.isSpace?{disabled:!0,reason:s.default.FILE_CANNOT_MODIFI_SPACE_COLLAB_ROLE}:{disabled:!1}},a.checkCommentableButtonAndReadableButton=function(e){var t=e.me,n=e.file;return c.isEnterprise(t)&&c.isExpired(t)?{disabled:!0,reason:s.default.EXPIRED_CANNOT_MODIFY_ROLE}:c.isPersonal(t)?{disabled:!0,reason:s.default.PERSONAL_VERSION_CANNOT_ADD_USER}:a.isOutsider(t)?{disabled:!0,reason:s.default.OUTSIDER_CANNOT_MODIFY_ROLE}:a.isOnlyReaderOrCommenter(t,n)?a.isBelongToTheSameEnterprise(t,n)&&(l.isCreator(t)||l.isAdmin(t))?{disabled:!1}:{disabled:!0,reason:s.default.NO_ACCESS_MODIFY}:{disabled:!1}},a.checkTransferButton=function(e){var t=e.me,n=e.file;return 0<=n.collaboratorCount&&n.collaboratorCount<=1?{disabled:!0,reason:s.default.ONLY_ONE_COLLABORATOR_CANNOT_TRANSFER}:"owner"===t.role||a.isBelongToTheSameEnterprise(t,n)&&(l.isCreator(t)||l.isAdmin(t))?{disabled:!1}:{disabled:!0,reason:s.default.NO_ACCESS_TRANSFER}},a.checkRemoveFileAdmin=function(e){var t=e.me,n=e.file;return t.owner||a.isBelongToTheSameEnterprise(t,n)&&(l.isCreator(t)||l.isAdmin(t))?{disabled:!1}:a.isFileAdmin(t)?{disabled:!1}:{disabled:!0,reason:s.default.NO_ACCESS_DELETE}},a.checkTeamMemberListVisible=function(e){var t=e.me;return c.isPersonal(t)?{disabled:!0,reason:s.default.PERSONAL_VERSION_CANNOT_ADD_USER}:{disabled:!1}}},,,,function(e,t,n){"use strict";var r,o=n(13),i=n.n(o),a=n(15),s=n.n(a),c=n(12),l=n.n(c),u=n(14),p=n.n(u),d=n(0),f=n.n(d),m=n(4),h=n.n(m),b=n(3),g=n.n(b),_=(r=d.Component,p()(v,r),s()(v,[{key:"componentWillReceiveProps",value:function(e){!this.state.hasLoaded&&e.active&&this.setState({hasLoaded:!0})}},{key:"render",value:function(){var e=this.props,t=e.prefixCls,n=e.className,r=e.children,o=e.active;return f.a.createElement(y,{active:o,className:t+"-tab-pane "+n},this.state.hasLoaded?r:null)}}]),v);function v(e){i()(this,v);var t=l()(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,e));return t.state={hasLoaded:e.active||e.forceRender},t}_.propTypes={prefixCls:g.a.string,className:g.a.string,children:g.a.node,active:g.a.bool,forceRender:g.a.bool,tab:g.a.string},_.defaultProps={prefixCls:"sm-tab",className:"",forceRender:!1},_.__SM_TAB_PANE__=!0;var y=h.a.div.withConfig({componentId:"g8xujq-0"})(["display:",";"],function(e){return e.active?"block":"none"});t.a=_},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(0),o=n.n(r);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,c(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,o.a.Component),function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(t,[{key:"render",value:function(){this.SVG_COMPONENT_ID=this.SVG_COMPONENT_ID||0;var e="a3027d7fa16730b26b1cece2431725670_"+this.SVG_COMPONENT_ID++;return o.a.createElement("svg",u({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28"},this.props),o.a.createElement("linearGradient",{id:e,gradientUnits:"userSpaceOnUse",x1:"-262.286",y1:"417.896",x2:"-262.286",y2:"416.896",gradientTransform:"matrix(14 0 0 -23.9489 3686 10012.129)"},o.a.createElement("stop",{offset:"0",stopColor:"#5e92d6"}),o.a.createElement("stop",{offset:"1",stopColor:"#7eb1f4"})),o.a.createElement("path",{d:"M21 27.9V4H7v23.5l6.8-6.8 7.2 7.2z",fill:"url(#".concat(e,")")}))}}]),t}()},,function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n(2);function r(r,o,i){return Object(a.__awaiter)(this,void 0,void 0,function(){var t,n;return Object(a.__generator)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,5]),[4,r({})];case 1:return[2,e.sent()];case 2:if(!(t=e.sent()))throw new Error("request failed");if(429!==t.status)throw new Error(t);return[4,i()];case 3:return[4,function(e,r){return new Promise(function(t,n){window.initGeetest({gt:"d04a3db478746251a44120fae8b6237c",challenge:e,offline:!1,new_captcha:!1,product:"popup",https:!0},function(e){e.appendTo(r),e.onReady(function(){e.show(),e.dom&&e.dom.firstChild&&(e.dom.firstChild.style.display="none")}),e.onSuccess(function(){e.getValidate()?t(e.getValidate()):n(new Error("Geetest Captcha Error"))}),e.onError(function(){n(new Error("Geetest Captcha Error"))})})})}(e.sent().challenge,o)];case 4:return n=e.sent(),[2,r(n)];case 5:return[2]}})})}},function(e,t,n){"use strict";var r,o=n(13),i=n.n(o),a=n(15),s=n.n(a),c=n(12),l=n.n(c),u=n(14),p=n.n(u),d=n(1),f=n.n(d),m=n(0),h=n.n(m),b=n(3),g=n.n(b),_=n(282),v=n.n(_),y=n(10),E=(r=m.Component,p()(O,r),s()(O,[{key:"componentDidMount",value:function(){this.initClipboard()}},{key:"componentWillUnmount",value:function(){this.clipboard&&this.clipboard.destroy()}},{key:"initClipboard",value:function(){var e=this,t=this.props,n=t.onSuccess,r=t.onError;this.clipboard=new v.a(this.content,{text:function(){return e.props.text}}),this.clipboard.on("success",function(e){n?n(e):y.a.success(f()("复制成功！"))}),this.clipboard.on("error",function(e){r?r(e):v.a.isSupported()?y.a.error(f()("复制失败！")):y.a.error(f()("您的浏览器不支持此功能，请手动复制，或使用最新的 Chrome 浏览器。"))})}},{key:"render",value:function(){var t=this,e=this.props,n=e.children,r=e.className,o=e.prefixCls+" "+r;return h.a.createElement("span",{className:o,ref:function(e){t.content=e}},n)}}]),O);function O(){return i()(this,O),l()(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}E.propTypes={prefixCls:g.a.string,className:g.a.string,text:g.a.string.isRequired,onSuccess:g.a.func,onError:g.a.func,children:g.a.node.isRequired},E.defaultProps={prefixCls:"sm-clipboard-text",className:"",onSuccess:null,onError:null},t.a=E},function(e,t,n){"use strict";e.exports=function(n,r){return function(){for(var e=new Array(arguments.length),t=0;t<e.length;t++)e[t]=arguments[t];return n.apply(r,e)}}},function(e,t,n){"use strict";var a=n(47);function s(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var r;if(n)r=n(t);else if(a.isURLSearchParams(t))r=t.toString();else{var o=[];a.forEach(t,function(e,t){null!=e&&(a.isArray(e)?t+="[]":e=[e],a.forEach(e,function(e){a.isDate(e)?e=e.toISOString():a.isObject(e)&&(e=JSON.stringify(e)),o.push(s(t)+"="+s(e))}))}),r=o.join("&")}if(r){var i=e.indexOf("#");-1!==i&&(e=e.slice(0,i)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(s,e,c){"use strict";(function(e){var n=c(47),r=c(788),t={"Content-Type":"application/x-www-form-urlencoded"};function o(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var i,a={adapter:(void 0!==e&&"[object process]"===Object.prototype.toString.call(e)?i=c(359):"undefined"!=typeof XMLHttpRequest&&(i=c(359)),i),transformRequest:[function(e,t){return r(t,"Accept"),r(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(o(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)?(o(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return 200<=e&&e<300}};a.headers={common:{Accept:"application/json, text/plain, */*"}},n.forEach(["delete","get","head"],function(e){a.headers[e]={}}),n.forEach(["post","put","patch"],function(e){a.headers[e]=n.merge(t)}),s.exports=a}).call(this,c(78))},function(e,t,u){"use strict";var p=u(47),d=u(789),f=u(356),m=u(791),h=u(792),b=u(360);e.exports=function(l){return new Promise(function(n,r){var o=l.data,i=l.headers;p.isFormData(o)&&delete i["Content-Type"];var a=new XMLHttpRequest;if(l.auth){var e=l.auth.username||"",t=l.auth.password||"";i.Authorization="Basic "+btoa(e+":"+t)}if(a.open(l.method.toUpperCase(),f(l.url,l.params,l.paramsSerializer),!0),a.timeout=l.timeout,a.onreadystatechange=function(){if(a&&4===a.readyState&&(0!==a.status||a.responseURL&&0===a.responseURL.indexOf("file:"))){var e="getAllResponseHeaders"in a?m(a.getAllResponseHeaders()):null,t={data:l.responseType&&"text"!==l.responseType?a.response:a.responseText,status:a.status,statusText:a.statusText,headers:e,config:l,request:a};d(n,r,t),a=null}},a.onabort=function(){a&&(r(b("Request aborted",l,"ECONNABORTED",a)),a=null)},a.onerror=function(){r(b("Network Error",l,null,a)),a=null},a.ontimeout=function(){r(b("timeout of "+l.timeout+"ms exceeded",l,"ECONNABORTED",a)),a=null},p.isStandardBrowserEnv()){var s=u(793),c=(l.withCredentials||h(l.url))&&l.xsrfCookieName?s.read(l.xsrfCookieName):void 0;c&&(i[l.xsrfHeaderName]=c)}if("setRequestHeader"in a&&p.forEach(i,function(e,t){void 0===o&&"content-type"===t.toLowerCase()?delete i[t]:a.setRequestHeader(t,e)}),l.withCredentials&&(a.withCredentials=!0),l.responseType)try{a.responseType=l.responseType}catch(e){if("json"!==l.responseType)throw e}"function"==typeof l.onDownloadProgress&&a.addEventListener("progress",l.onDownloadProgress),"function"==typeof l.onUploadProgress&&a.upload&&a.upload.addEventListener("progress",l.onUploadProgress),l.cancelToken&&l.cancelToken.promise.then(function(e){a&&(a.abort(),r(e),a=null)}),void 0===o&&(o=null),a.send(o)})}},function(e,t,n){"use strict";var a=n(790);e.exports=function(e,t,n,r,o){var i=new Error(e);return a(i,t,n,r,o)}},function(e,t,n){"use strict";var o=n(47);e.exports=function(t,n){n=n||{};var r={};return o.forEach(["url","method","params","data"],function(e){void 0!==n[e]&&(r[e]=n[e])}),o.forEach(["headers","auth","proxy"],function(e){o.isObject(n[e])?r[e]=o.deepMerge(t[e],n[e]):void 0!==n[e]?r[e]=n[e]:o.isObject(t[e])?r[e]=o.deepMerge(t[e]):void 0!==t[e]&&(r[e]=t[e])}),o.forEach(["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"],function(e){void 0!==n[e]?r[e]=n[e]:void 0!==t[e]&&(r[e]=t[e])}),r}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},,,,,,function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var o=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},function(e,t){for(var o=[],n=0;n<256;++n)o[n]=(n+256).toString(16).substr(1);e.exports=function(e,t){var n=t||0,r=o;return r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]}},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),(r=t.Status||(t.Status={})).OFFLINE="offline",r.OFFLINE_SAVING="offlineSaving",r.OFFLINE_SAVED="offlineSaved",r.OFFLINE_SAVE_FAILED="offlineSaveFailed",r.ONLINE="online",r.ONLINE_SAVING="onlineSaving",r.ONLINE_SAVED="onlineSaved",r.ONLINE_SAVE_FAILED="onlineSaveFailed",r.SERVER_CHANGE_APPLIED="serverChangeApplied"},function(e,t,n){"use strict";var r=n(181);t.a=r.a},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n(2);function r(r){var o=null;return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(o)return o;var n=r.apply(void 0,Object(i.__spread)(e));return n instanceof Promise&&(o=n).then(function(){return o=null}).catch(function(){return o=null}),n}}},function(e,t,n){"use strict";var r=n(38),p=n.n(r),o=n(13),i=n.n(o),a=n(15),s=n.n(a),c=n(12),l=n.n(c),u=n(14),d=n.n(u),f=n(1),m=n.n(f),h=n(0),b=n.n(h),g=n(3),_=n.n(g),v=n(4),y=n.n(v),E=n(27),O=n(19),x=n(35),T=n(58),C=n.n(T)()(["\n  .sm-popconfirm.sm-tooltip {\n    /** top */\n    &.sm-tooltip-placement-top,\n    &.sm-tooltip-placement-topLeft,\n    &.sm-tooltip-placement-topRight {\n      padding-bottom: ","px;\n      .sm-tooltip-arrow {\n        bottom: ","px;\n        border-width: ","px ","px 0;\n\n        &::after {\n          left: -","px;\n          top: -","px;\n        }\n      }\n    }\n\n    /** bottom */\n    &.sm-tooltip-placement-bottom,\n    &.sm-tooltip-placement-bottomLeft,\n    &.sm-tooltip-placement-bottomRight {\n      padding-top: ","px;\n      .sm-tooltip-arrow {\n        top: ","px;\n        border-width: 0 ","px ","px;\n\n        &::after {\n          left: -","px;\n          top: ","px;\n        }\n      }\n    }\n\n    /** left */\n    &.sm-tooltip-placement-left,\n    &.sm-tooltip-placement-leftTop,\n    &.sm-tooltip-placement-leftBottom {\n      padding-right: ","px;\n      .sm-tooltip-arrow {\n        right: ","px;\n        border-width: ","px 0 ","px ","px;\n\n        &::after {\n          left: -","px;\n          top: -","px;\n        }\n      }\n    }\n\n    /** right */\n    &.sm-tooltip-placement-right,\n    &.sm-tooltip-placement-rightTop,\n    &.sm-tooltip-placement-rightBottom {\n      padding-left: ","px;\n      .sm-tooltip-arrow {\n        left: ","px;\n        border-width: ","px ","px ","px 0;\n\n        &::after {\n          left: ","px;\n          top: -","px;\n        }\n      }\n    }\n\n    /** arrow */\n    &.sm-tooltip-placement-top .sm-tooltip-arrow,\n    &.sm-tooltip-placement-bottom .sm-tooltip-arrow {\n      margin-left: -","px;\n    }\n\n    &.sm-tooltip-placement-topLeft .sm-tooltip-arrow,\n    &.sm-tooltip-placement-bottomLeft .sm-tooltip-arrow {\n      left: ","px;\n    }\n\n    &.sm-tooltip-placement-topRight .sm-tooltip-arrow,\n    &.sm-tooltip-placement-bottomRight .sm-tooltip-arrow {\n      right: ","px;\n    }\n\n    &.sm-tooltip-placement-left .sm-tooltip-arrow,\n    &.sm-tooltip-placement-right .sm-tooltip-arrow {\n      margin-top: -","px;\n    }\n\n    &.sm-tooltip-placement-leftTop .sm-tooltip-arrow,\n    &.sm-tooltip-placement-rightTop .sm-tooltip-arrow {\n      top: ","px;\n    }\n\n    &.sm-tooltip-placement-leftBottom .sm-tooltip-arrow,\n    &.sm-tooltip-placement-rightBottom .sm-tooltip-arrow {\n      bottom: ","px;\n    }\n  }\n"],["\n  .sm-popconfirm.sm-tooltip {\n    /** top */\n    &.sm-tooltip-placement-top,\n    &.sm-tooltip-placement-topLeft,\n    &.sm-tooltip-placement-topRight {\n      padding-bottom: ","px;\n      .sm-tooltip-arrow {\n        bottom: ","px;\n        border-width: ","px ","px 0;\n\n        &::after {\n          left: -","px;\n          top: -","px;\n        }\n      }\n    }\n\n    /** bottom */\n    &.sm-tooltip-placement-bottom,\n    &.sm-tooltip-placement-bottomLeft,\n    &.sm-tooltip-placement-bottomRight {\n      padding-top: ","px;\n      .sm-tooltip-arrow {\n        top: ","px;\n        border-width: 0 ","px ","px;\n\n        &::after {\n          left: -","px;\n          top: ","px;\n        }\n      }\n    }\n\n    /** left */\n    &.sm-tooltip-placement-left,\n    &.sm-tooltip-placement-leftTop,\n    &.sm-tooltip-placement-leftBottom {\n      padding-right: ","px;\n      .sm-tooltip-arrow {\n        right: ","px;\n        border-width: ","px 0 ","px ","px;\n\n        &::after {\n          left: -","px;\n          top: -","px;\n        }\n      }\n    }\n\n    /** right */\n    &.sm-tooltip-placement-right,\n    &.sm-tooltip-placement-rightTop,\n    &.sm-tooltip-placement-rightBottom {\n      padding-left: ","px;\n      .sm-tooltip-arrow {\n        left: ","px;\n        border-width: ","px ","px ","px 0;\n\n        &::after {\n          left: ","px;\n          top: -","px;\n        }\n      }\n    }\n\n    /** arrow */\n    &.sm-tooltip-placement-top .sm-tooltip-arrow,\n    &.sm-tooltip-placement-bottom .sm-tooltip-arrow {\n      margin-left: -","px;\n    }\n\n    &.sm-tooltip-placement-topLeft .sm-tooltip-arrow,\n    &.sm-tooltip-placement-bottomLeft .sm-tooltip-arrow {\n      left: ","px;\n    }\n\n    &.sm-tooltip-placement-topRight .sm-tooltip-arrow,\n    &.sm-tooltip-placement-bottomRight .sm-tooltip-arrow {\n      right: ","px;\n    }\n\n    &.sm-tooltip-placement-left .sm-tooltip-arrow,\n    &.sm-tooltip-placement-right .sm-tooltip-arrow {\n      margin-top: -","px;\n    }\n\n    &.sm-tooltip-placement-leftTop .sm-tooltip-arrow,\n    &.sm-tooltip-placement-rightTop .sm-tooltip-arrow {\n      top: ","px;\n    }\n\n    &.sm-tooltip-placement-leftBottom .sm-tooltip-arrow,\n    &.sm-tooltip-placement-rightBottom .sm-tooltip-arrow {\n      bottom: ","px;\n    }\n  }\n"]),w=parseInt(12/Math.sqrt(2));Object(v.injectGlobal)(C,11,5,6,6,w/2,6+w/2,11,5,6,6,w/2,6-w/2,11,5,6,6,6,6+w/2,w/2,11,5,6,6,6,6-w/2,w/2,6,24,24,6,12,12);var S,j=(S=h.Component,d()(I,S),s()(I,[{key:"componentWillReceiveProps",value:function(e){"visible"in e&&this.setState({visible:e.visible})}},{key:"setVisible",value:function(e){var t=this.props;"visible"in t||this.setState({visible:e});var n=t.onVisibleChange;n&&n(e)}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.content,r=e.getContainer,o=e.okText,i=e.okType,a=e.cancelText,s=e.cancelBtnStyle,c=e.withButton,l=p()(e,["title","content","getContainer","okText","okType","cancelText","cancelBtnStyle","withButton"]),u=b.a.createElement(A,null,b.a.createElement(k,null,t||m()("是否确定？")),b.a.createElement(N,null,n),c&&b.a.createElement(P,null,b.a.createElement(R,{onClick:this.onConfirm,type:i,size:"s"},o||m()("确定")),b.a.createElement(O.a,{onClick:this.onCancel,type:"outline",size:"s",style:s},a||m()("取消"))));return b.a.createElement(E.a,Object.assign({},l,{onVisibleChange:this.onVisibleChange,visible:this.state.visible,overlay:u,getTooltipContainer:r,theme:"white"}))}}]),I);function I(e){i()(this,I);var n=l()(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,e));return n.onConfirm=function(e){n.setVisible(!1);var t=n.props.onConfirm;t&&t.call(n,e)},n.onCancel=function(e){n.setVisible(!1);var t=n.props.onCancel;t&&t.call(n,e)},n.onVisibleChange=function(e){n.setVisible(e)},n.state={visible:e.visible},n}j.propTypes={prefixCls:_.a.string,placement:_.a.string,trigger:_.a.string,okType:_.a.string,visible:_.a.bool,cancelText:_.a.string,okText:_.a.string,onConfirm:_.a.func,onCancel:_.a.func,title:_.a.string,content:_.a.node,overlayClassName:_.a.string,onVisibleChange:_.a.func,overlayStyle:_.a.object,builtinPlacements:_.a.object,getContainer:_.a.func,arrowPointAtCenter:_.a.bool,autoAdjustOverflow:_.a.oneOf([_.a.bool,_.a.object]),cancelBtnStyle:_.a.object,withButton:_.a.bool},j.defaultProps={prefixCls:"sm-popconfirm sm-tooltip",placement:"bottomRight",trigger:"click",okType:"black",content:"",arrowPointAtCenter:!1,arrowWidth:6,withButton:!0};var A=y.a.div.withConfig({componentId:"sc-1i0tbcp-0"})(["margin:-6px -10px;width:230px;text-align:left;"]),k=y.a.h3.withConfig({componentId:"sc-1i0tbcp-1"})(["",";line-height:20px;color:#333;margin:15px 0 0;padding:0 20px 10px;border-bottom:1px solid #e8e8e8;word-break:break-all;"],Object(x.a)("h3")),N=y.a.div.withConfig({componentId:"sc-1i0tbcp-2"})(["font-size:12px;line-height:21px;color:#666;margin:12px 20px 20px;"]),P=y.a.div.withConfig({componentId:"sc-1i0tbcp-3"})(["margin:-5px 0px 20px;display:flex;flex-direction:row;align-items:center;justify-content:center;"]),R=y()(O.a).withConfig({componentId:"sc-1i0tbcp-4"})(["margin-right:10px;"]),D=j;t.a=D},function(e,t,n){"use strict";function r(e){var t=e.prefixCls,n=e.className,r=e.size,o=e.url,i=e.isWechat,a=e.wechatTicket,s=e.isMiniprogram,c=e.guid;if(i&&!a)throw new Error("Wechat qrcode MUST HAVE wechatTicket as a prop of component QRCode!");if(s&&!c)throw new Error("miniprogram qrcode MUST HAVE guid as a prop of component QRCode!");var l=encodeURIComponent("pages/editor/editor"),u=encodeURIComponent("guid="+c),p=i?"https://mp.weixin.qq.com/cgi-bin/showqrcode?ticket="+a:s?"/lizard-api/wechat/action/miniprogram_qrcode?type=unlimited&isHyaline=true&scene="+u+"&page="+l:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:300;return"/qrcode?size="+(300<e?e:300)+"&margin=0&url="+(1<arguments.length&&void 0!==arguments[1]?arguments[1]:"")}(r,o);return d.a.createElement(f,{className:t+" "+(n||""),size:r,isWechat:i,isMiniprogram:s},d.a.createElement("img",{src:p}))}var o=n(0),d=n.n(o),i=n(3),a=n.n(i),s=n(4),f=n.n(s).a.div.withConfig({componentId:"hppxim-0"})(["width:",";height:",";> img{width:",";height:",";}"],function(e){return e.size},function(e){return e.size},function(e){return e.size},function(e){return e.size});r.propTypes={prefixCls:a.a.string,className:a.a.string,size:a.a.string,url:a.a.string.isRequired,isWechat:a.a.bool,wechatTicket:a.a.string,isMiniprogram:a.a.bool,guid:a.a.string},r.defaultProps={prefixCls:"sm-qrcode",size:"100px",isWechat:!1,isMiniprogram:!1,guid:""};var c=r;t.a=c},function(t,e,n){"use strict";(function(e){function n(e){var t,n,r,o,i,a,s,c,l,u,p,d,f,m,h,b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},g=[],_=0,v=void 0,y=void 0;if(isNaN(e))throw new TypeError("Invalid number");return n=!0===b.bits,p=!0===b.unix,t=b.base||2,u=void 0!==b.round?b.round:p?1:2,a=void 0!==b.locale?b.locale:"",s=b.localeOptions||{},d=void 0!==b.separator?b.separator:"",f=void 0!==b.spacer?b.spacer:p?"":" ",h=b.symbols||{},m=2===t&&b.standard||"jedec",l=b.output||"string",o=!0===b.fullform,i=b.fullforms instanceof Array?b.fullforms:[],v=void 0!==b.exponent?b.exponent:-1,r=2<t?1e3:1024,(c=(y=Number(e))<0)&&(y=-y),(-1===v||isNaN(v))&&(v=Math.floor(Math.log(y)/Math.log(r)))<0&&(v=0),8<v&&(v=8),"exponent"===l?v:(0===y?(g[0]=0,g[1]=p?"":O[m][n?"bits":"bytes"][v]):(_=y/(2===t?Math.pow(2,10*v):Math.pow(1e3,v)),n&&r<=(_*=8)&&v<8&&(_/=r,v++),g[0]=Number(_.toFixed(0<v?u:0)),g[0]===r&&v<8&&void 0===b.exponent&&(g[0]=1,v++),g[1]=10===t&&1===v?n?"kb":"kB":O[m][n?"bits":"bytes"][v],p&&(g[1]="jedec"===m?g[1].charAt(0):0<v?g[1].replace(/B$/,""):g[1],E.test(g[1])&&(g[0]=Math.floor(g[0]),g[1]=""))),c&&(g[0]=-g[0]),g[1]=h[g[1]]||g[1],!0===a?g[0]=g[0].toLocaleString():0<a.length?g[0]=g[0].toLocaleString(a,s):0<d.length&&(g[0]=g[0].toString().replace(".",d)),"array"===l?g:(o&&(g[1]=i[v]?i[v]:x[m][v]+(n?"bit":"byte")+(1===g[0]?"":"s")),"object"===l?{value:g[0],symbol:g[1]}:g.join(f)))}var E,O,x;E=/^(b|B)$/,O={iec:{bits:["b","Kib","Mib","Gib","Tib","Pib","Eib","Zib","Yib"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["b","Kb","Mb","Gb","Tb","Pb","Eb","Zb","Yb"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},x={iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]},n.partial=function(t){return function(e){return n(e,t)}},t.exports=n}).call(this,n(67))},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/space_private.d162e7d1.svg"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/space_public.e7b7a593.svg"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/space_private_gray.1aa6457d.svg"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/space_public_gray.383e2187.svg"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/folder_240_flat@2x.9fb3ae2c.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/docx_240_flat@2x.bdec1035.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/mindmap_240_flat@2x.f3f3d16d.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_image_240.8892171c.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_pdf_240.771b8329.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_music_240.27eda41e.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_zip_240.f51c667f.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_video_240.72dc3321.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_wps_240.95c880b9.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_default_240.d419f4f0.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/folder_160_flat@2x.7bb63cba.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/docx_160_flat@2x.90894c67.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/mindmap_160_flat@2x.feb13db0.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/folder_32@2x.990a26f4.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/docx_32@2x.cd7dd72a.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/form_32@2x.3429fcfb.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/board_32@2x.a917165c.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_image_32@2x.1b1fbdf5.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_pdf_32@2x.b01e4aa5.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_music_32@2x.0b3c9d9e.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_zip_32@2x.eee05ed8.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_video_32@2x.6c1557df.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_wps_32@2x.1f5d5c07.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_default_32@2x.7a832588.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/folder_60@2x.745b208e.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/docx_60@2x.61b48672.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/form_60@2x.3e55d464.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/board_60@2x.5b02a4ef.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_image_60.ea6c7bcd.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_pdf_60.a91ac29e.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_music_60.a2197b99.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_zip_60.da982bfe.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_video_60.8b4bbcce.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_wps_60.ea12e520.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_default_60.a2b4895f.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/docx_52@2x.049db12f.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/board_52@2x.71d6e87e.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/folder_40_plain@2x.7217ed08.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/docx_40_plain@2x.68027af0.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/mindmap_40_plain@2x.4a3cac24.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/form_40_plain@2x.4faf35cb.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/board_40_plain@2x.3e9de644.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_image_40_plain@2x.644c6bae.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_pdf_40_plain@2x.c71533f7.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_music_40_plain@2x.8fb7f1a2.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_zip_40_plain@2x.9d68b6bd.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_video_40_plain@2x.0d002ba3.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_wps_40_plain@2x.c8d96fa5.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_default_40_plain@2x.116ba17d.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/docx_40@2x.68027af0.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/mindmap_40@2x.1c02e65d.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/form_40@2x.5469d2b7.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/board_40@2x.fab05042.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_image_40@2x.d85a9e99.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_pdf_40@2x.e2aa36ad.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_music_40@2x.06199758.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_zip_40@2x.ca5cc119.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_video_40@2x.6a186dfb.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_wps_40@2x.cb931bc4.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_default_40@2x.9f908b1c.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/docx_30@2x.d88ed484.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/board_30@2x.67e4cead.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_image_30@2x.39a40b6d.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_pdf_30@2x.cca50cc8.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_music_30@2x.fa2ca3b6.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_zip_30@2x.9ad5551d.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_video_30@2x.85eff587.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_wps_30@2x.e58b47cc.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_default_30@2x.1d21f7f4.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/folder_160_gray@2x.6b1388af.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/docx_160_gray@2x.73fc3d6f.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/mindmap_160_gray@2x.879cf380.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/form_160_gray@2x.520ab979.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/board_160_gray@2x.8969f298.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_image_gray_160.e54a49f0.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_pdf_gray_160.43d691d3.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_music_gray_160.db49c3d6.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_zip_gray_160.f643d4b7.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_video_gray_160.daaeab12.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_wps_gray_160.caf185e4.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_default_gray_160.55d041c5.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/folder_52_gray@2x.07d61356.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/docx_52_gray@2x.984914b2.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/mindmap_52_gray@2x.16959e71.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/form_52_gray@2x.255912e3.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/board_52_gray@2x.35000856.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_image_gray_52.5f71c1bb.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_pdf_gray_52.d8e6e998.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_music_gray_52.24b5335a.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_zip_gray_52.b0e195d8.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_video_gray_52.c92e583c.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_wps_gray_52.8b45dcb1.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/cloud_default_gray_52.b79dc0fc.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/folder_52_shortcut@2x.5fe08730.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/docx_52_shortcut@2x.50b7ff3a.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/mindmap_52_shortcut@2x.0cea7e67.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/form_52_shortcut@2x.b85116ee.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/board_52_shortcut@2x.a659cb21.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/folder_160_shortcut@2x.f658f59c.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/docx_160_shortcut@2x.92f94912.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/mindmap_160_shortcut@2x.7c04fcd0.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/form_160_shortcut@2x.3679355c.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/board_160_shortcut@2x.a5a441a8.png"},,,,function(e,t,n){"use strict";function s(e,t){return e?e+t:""}function c(e,t){switch(t){case"upper":return e&&e.toUpperCase();case"lower":return e&&e.toLowerCase();default:return e}}t.initActionTypes=function e(t,n,r,o,i){for(var a in void 0===r&&(r="/"),void 0===o&&(o="initial"),void 0===i&&(i=""),t)t.hasOwnProperty(a)&&("string"==typeof t[a]?t[a]?t[a]=c(s(n,r)+t[a],o):t[a]=c(s(n,r)+s(i,r)+a,o):e(t[a],n,r,o,s(i,r)+a));return t}},function(e){e.exports=JSON.parse('{"a":"1.18.2"}')},,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={adjustX:1,adjustY:1},o=[0,0],i=t.placements={left:{points:["cr","cl"],overflow:r,offset:[-4,0],targetOffset:o},right:{points:["cl","cr"],overflow:r,offset:[4,0],targetOffset:o},top:{points:["bc","tc"],overflow:r,offset:[0,-4],targetOffset:o},bottom:{points:["tc","bc"],overflow:r,offset:[0,4],targetOffset:o},topLeft:{points:["bl","tl"],overflow:r,offset:[0,-4],targetOffset:o},leftTop:{points:["tr","tl"],overflow:r,offset:[-4,0],targetOffset:o},topRight:{points:["br","tr"],overflow:r,offset:[0,-4],targetOffset:o},rightTop:{points:["tl","tr"],overflow:r,offset:[4,0],targetOffset:o},bottomRight:{points:["tr","br"],overflow:r,offset:[0,4],targetOffset:o},rightBottom:{points:["bl","br"],overflow:r,offset:[4,0],targetOffset:o},bottomLeft:{points:["tl","bl"],overflow:r,offset:[0,4],targetOffset:o},leftBottom:{points:["br","bl"],overflow:r,offset:[-4,0],targetOffset:o}};t.default=i},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/snow_loading.8a5aa7e0.gif"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/spinner@2x.f63535ac.png"},,function(e,t,n){"use strict";function r(e,t){if(t){var n=[];for(var r in t)n.push(r+"="+t[r]);0<n.length&&(e+="?"+n.join("&"))}var o=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");o.onreadystatechange=function(){if(4===o.readyState)return o.responseText},o.open("GET",e,!0),o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.send()}var o,i="https://statistics.shimo.im",a=(o=window.navigator.userAgent.toLowerCase(),window.ActiveXObject||/firefox|Safari|Chrome/i.test(o)?0:/shimo-iphone-app/g.test(o)?1:/shimo-android-app/g.test(o)?2:/micromessenger/g.test(o)?3:/(ipad|iphone|ipod)/g.test(o)?4:/(android)/g.test(o)?5:/dingtalk/i.test(o)?6:7);e.exports=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(1!==String(e).length||4!==String(t).length)throw new Error("params is error, please check the parmas");if(window.cow&&cow.domain){if("shimo.im"!==cow.domain&&"shimo.run"!==cow.domain)return!1}else if("shimo.im"!==location.hostname&&"staging.shimo.run"!==location.hostname)return!1;if(!n.userId){if(!window.cow||!window.cow.currentUser)throw new Error("params is error, userId is required");n.userId=cow.currentUser.id}return n.fileId||window.cow&&window.cow.currentFile&&(n.fileId=cow.currentFile.guid),r("timing"===n.type?i+"/timing":i+"/increment",{name:""+e+a+t,uid:n.userId,fileId:n.fileId,value:n.value||1})}},function(e,t,n){var r=n(746),o=["init"];e.exports=function(){var e=new Worker("/worker/static/lizard-service-file-header/xmind.import.worker-e976a2cfc0e22615455a.worker.js",{name:"worker/static/lizard-service-file-header/xmind.import.worker-[hash].worker.js"});return r(e,o),e}},,function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/template_40@2x.5d2c5056.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/slogan.url.en.f054768b.svg"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/slogan.url.jp.053da519.svg"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/slogan.url.d5796c39.svg"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/notice.url.en.b9ad75ea.svg"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/notice.url.jp.900507cd.svg"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/notice.url.76cdf496.svg"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/how_to.en.b7c2dba5.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/how_to.jp.d7c025d5.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/how_to.82af491d.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/word.0a734ecb.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/sheet.5ab1ed8d.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/word_pro.edee0038.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/upload_40@2x.1ce77c70.png"},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s,a=n(102),c=i(n(763)),l=i(n(764)),u=(s=a.EventEmitter,o(p,s),p.prototype.userColor=function(e){return this._colorPalette.userColor(e)},p.prototype.setColorPalette=function(e){this._colorPalette.setColorPalette(e)},p.prototype.quit=function(){this._socket.off("message",this._onMessage),this._sendClientStatus("quit")},p.prototype.start=function(){this._socket.on("message",this._onMessage),this._sendClientStatus("enter")},p.prototype.sendUserSelectMessage=function(e){var t=function(t,n){var r={};return Object.keys(t).forEach(function(e){r[e]=t[e]}),Object.keys(n).forEach(function(e){r[e]=n[e]}),r}(e,{type:"SELECT"}),n={type:"COLLABROOM",padId:this._fileGuid,fileGuid:this._fileGuid,data:t};this._socket.emit("message",n)},p.prototype._addCollaborators=function(e){var n=this,r=[];e.forEach(function(t){t.id!==n._currentUserId&&-1===d(n._collaborators,function(e){return e.id===t.id})&&(t.color=n.userColor(t.id),n._collaborators.push(t),r.push(t))}),0<r.length&&this.emit(p.Events.UserEnter,{collaborators:this._collaborators,enterUsers:r})},p.prototype._removeCollaborators=function(e){var n=this,r=[];e.forEach(function(t){if(t.id!==n._currentUserId){var e=d(n._collaborators,function(e){return e.id===t.id});-1<e&&(r.push(t),n._collaborators.splice(e,1))}}),0<r.length&&this.emit(p.Events.UserLeave,{collaborators:this._collaborators,leaveUsers:r})},p.prototype._defaultSendClientStatus=function(e){var t={component:"pad",type:"enter"===e?"CLIENT_READY":"CLIENT_QUIT",padId:this._fileGuid,fileGuid:this._fileGuid,reconnect:!0,sessionID:c.default.get("sessionID"),token:c.default.get("token"),protocolVersion:2};this._socket.emit("message",t)},p.prototype._handleCollabRoomMessage=function(e){var t=function(e,t){return e&&e.data&&e.data.userInfo&&""+e.data.userInfo.id!=""+t?e.data:void 0}(e,""+this._currentUserId);null!=t&&"SELECT"===t.type?this.emit(p.Events.UserSelect,t):this.emit(p.Events.Message,e)},p.ColorPalette=l.default,p.Events={UserEnter:"UserEnter",UserLeave:"UserLeave",UserSelect:"UserSelect",Message:"Message"},p);function p(e){var t=e.ws,n=e.fileGuid,r=e.currentUserId,o=e.colorPalette,i=e.sendClientStatus,a=s.call(this)||this;return a._collaborators=[],a.getCollaborators=function(){return a._collaborators},a._onMessage=function(e){if(e)if("CONNECTED"===e.type)a._sendClientStatus("enter");else if("COLLABROOM"===e.type){var t=e.data;if(!function(e){return e&&"string"==typeof e.type}(t))return void a.emit(p.Events.Message,e);switch(t.type){case"RECONNECT_READY":a._collaborators.length=0,a._colorPalette.reset(),a._addCollaborators(t.clients);break;case"USER_ENTER":a._addCollaborators([t.userInfo]);break;case"USER_LEAVE":a._removeCollaborators([t.userInfo]);break;default:a._handleCollabRoomMessage(e)}}},a._socket=t,a._currentUserId=r,a._fileGuid=n,a._sendClientStatus=i||a._defaultSendClientStatus,a._colorPalette=new l.default(a._currentUserId,o),a}function d(e,t){for(var n=0,r=e.length;n<r;n++){if(t(e[n]))return n}return-1}t.default=u},,,function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/apple.url.609d30f8.svg"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/android.url.f6582925.svg"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/times.url.dd270f43.svg"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/download_app_qrcode@2x.0c690b34.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/download_wechat_qrcode@2x.eabfd556.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/shimo-enterprise-pro.37e7fcec.png"},,function(e,t,n){e.exports=n(782)},,,,function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/lock.7703bd26.gif"},function(e,t,n){"use strict";n.d(t,"a",function(){return g});var r,o,i=n(2),a=n(0),s=n.n(a),c=n(1),l=n.n(c),u=n(832),p=n(828),d=n(43),f=n.n(d),m=n(36),h=n(4),b=n.n(h).a.div.withConfig({componentId:"sc-2f4f6-"})(o=o||Object(i.__makeTemplateObject)(["font-size:14px;color:#666;line-height:26px;.creator{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}"],[""])),g=(r=s.a.PureComponent,Object(i.__extends)(_,r),_.prototype.componentDidMount=function(){var e=this.props,t=e.file,n=e.dispatch;t.creator||n(Object(u.h)(t.guid))},_.prototype.render=function(){var e=this.props.file,t=e.creator?e.creator.get("name"):"",n=e.creator?e.creator.get("email"):"",r=t+" "+(n?"("+n+")":""),o=Object(m.typeToText)(e.type);return s.a.createElement(b,null,s.a.createElement("div",{className:"creator"},o,l()("创建者："),s.a.createElement("span",{title:r},r)),s.a.createElement("div",null,o,l()("创建时间："),f()(e.createdAt).format("YYYY.MM.DD HH:mm"),"(GMT+08:00)"),this.props.children,s.a.createElement("div",null,l()("阅读次数："),e.views," ",l()("次")))},_=Object(i.__decorate)([Object(p.a)(void 0)],_));function _(){return null!==r&&r.apply(this,arguments)||this}},function(e,t,n){"use strict";n.d(t,"a",function(){return g});var r,o,i,a=n(2),s=n(1),c=n.n(s),l=n(0),u=n.n(l),p=n(19),d=n(4),f=n.n(d),m=n(90),h=n(187).c.typeToText,b=f()(m.a).withConfig({componentId:"sc-Isli7"})(o=o||Object(a.__makeTemplateObject)([".sm-modal-footer button{min-width:70px !important;}font-size:14px;color:#666;line-height:26px;.creator{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}"],[""])),g=(r=u.a.PureComponent,Object(a.__extends)(_,r),_.prototype.render=function(){var e=this.props,t=e.file,n=e.visible,r=e.onClose,o=h(t.type);return u.a.createElement(b,{title:c()(i=i||Object(a.__makeTemplateObject)(["","信息"],["","信息"]),o),width:420,visible:n,closable:!0,maskClosable:!0,onCancel:r,footer:u.a.createElement(p.a,{onClick:r,type:"black"},c()("确定"))},this.props.children)},_);function _(){return null!==r&&r.apply(this,arguments)||this}},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/none@2x.fa38291c.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/folder_52_shared@2x.7fdfa289.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/doc_30_bordered@2x.878e27d9.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/folder-disable@2x.12e1cd7d.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-file-header/assets/folder-blue@2x.564c7232.png"},function(e,t,i){"use strict";function a(e){var t=e.file,n=e.destroy,r="/login?redirect_url="+encodeURIComponent(window.location.href);return O.a.createElement(W,null,O.a.createElement(Y,null,"「"+t.name+"」"),O.a.createElement(K,null,g()(l=l||Object(E.__makeTemplateObject)([""," 人正在协作编辑此",""],[""," 人正在协作编辑此",""]),t.collaboratorCount,H(t.type))),O.a.createElement($,{type:"black",block:!0,href:r},g()("登录并参与协作")),O.a.createElement(q,{onClick:function(){return n()}},g()("匿名编辑")))}var n,r,o,s,c,l,E=i(2),u=i(1),g=i.n(u),d=i(0),O=i.n(d),x=i(52),p=i(832),f=i(7),m=i(16),h=i(31),b=i.n(h),_=i(42),v=i(18),y=i(111),T=i(6),C=i(8),w=i(22),S=Object(T.d)(),j=(Object(T.c)(f.a.ACCEPT_TEAM_INVITATION,function(o){return function(e){var t=e.dispatch,n=e.next,r=(0,e.getState)().me;return t(Object(C.post)("users/me/action/join_team_by_invitation",{body:{teamId:o}})).then(function(){n({userId:r.id,teamId:o})})}}),Object(T.c)(f.a.JOIN_TEAM_BY_INVITE_GUID,function(e){var o=e.inviteGuid;return function(e){var t=e.dispatch,n=e.next,r=(0,e.getState)().me;return t(Object(C.post)("users/me/action/join_team_by_invite_guid",{body:{inviteGuid:o}})).then(function(e){return n({teamId:e.id,id:r.id})})}}),Object(T.c)(f.a.GET_TEAM_MEMBERS,function(s,c){return void 0===s&&(s={}),function(e){var t=e.dispatch,n=e.next,r=(0,e.getState)().teamMembers,o=r?t(Object(w.c)(r.toJS(),[v.c])):Promise.reject(new Error("Members has not been synced"));S.resetPage();var i=Object(E.__assign)({pagination:!0,perPage:S.pageSize()},s),a=Object.keys(i).map(function(e){var t=i[e];return null==t&&(t=""),"&"+encodeURIComponent(e)+"="+encodeURIComponent(t)}).join("").slice(1);return Object(T.j)({local:o,remote:t(Object(C.get)("teams/mine/members?"+a,{schema:[v.c]})).then(n).catch(function(e){c&&c(e),n(null)})})}}),Object(T.c)(f.a.ADD_TEAM_MEMBERS,function(){return function(e){var t=e.dispatch,n=e.next;return t(Object(C.get)("teams/mine/members?pagination=true&page="+S.page()+"&perPage="+S.pageSize(),{schema:[v.c]})).then(function(e){return 0===e.length||e.length<S.pageSize()?(n(e),!1):(S.addPage(),n(e),!0)})}}),Object(T.c)(f.a.SEARCH_TEAM_MEMBERS,function(t,n){return function(e){return(0,e.dispatch)(Object(C.post)("search/team_members?page=0&pageSize=100",{body:{keyword:n}})).then(function(e){return Object(E.__assign)(Object(E.__assign)({},e),{id:t})})}}),Object(T.c)(f.a.GET_MY_TEAM,function(){return function(e){var t,u=e.dispatch,n=e.next,p=e.getState,r=p().teams,d=Object(y.a)(p());r&&d&&d.team&&r.filter(function(e){return!!(e&&e.size&&e.first())&&(m.Set.isSet(e)?e.first():e.first().get("id"))===d.team}).size&&(t=u(Object(w.c)(r,v.b)));var o=Promise.all([u(Object(C.get)("teams/mine/permissions")),u(Object(C.get)("teams/mine"))]).then(function(e){var t=Object(E.__read)(e,2),n=t[0],r=t[1],o=d&&d.team,i=p().teams,a=i&&i.getIn(["data",o,"settings"])&&i.getIn(["data",o,"settings"]).toJS()||{},s=Object(_.wormalize)(b()({},{settings:Object(E.__assign)(Object(E.__assign)({},a),n)},r),v.b),c=s.result,l=s.entities;return u(Object(w.c)(c,v.b,l)).then(function(){return u(Object(w.b)(l)),c})}).then(n).catch(function(){n(null)});return Object(T.j)({local:t,remote:o})}}),Object(T.c)(f.a.GET_MY_TEAM_ORDERS,function(){return function(e){return(0,e.dispatch)(Object(C.get)("charges?type=team"))}}),Object(T.c)(f.a.SET_ANONYMOUS_TEAM,function(){return function(e){(0,e.next)(void 0)}}),Object(T.c)(f.a.GET_TEAM_SETTINGS_BY_URL,function(a){return function(e){var t=e.getState,n=e.dispatch,r=e.next,o=Object(y.a)(t()),i=o&&o.team;return n(Object(C.get)("team_settings/"+a)).then(function(e){return r({teamId:i,url:a,setting:e.status})})}})),I=(Object(T.c)(f.a.UPDATE_TEAM_INFO,function(a){return function(e){var t=e.getState,n=e.dispatch,r=e.next,o=Object(y.a)(t()),i=o&&o.team;return n(Object(C.patch)("teams/mine",{body:a})).then(function(){r(Object(E.__assign)(Object(E.__assign)({},a),{teamId:i}))})}}),Object(T.c)(f.a.CREATE_TEAM,function(t){return function(e){return(0,e.dispatch)(Object(C.post)("v2/teams",{body:t}))}})),A=(Object(T.c)(f.a.GET_ALPHA_FEATURES,function(s){return function(e){var t=e.getState,n=e.dispatch,r=e.next,o=t().alphaFeatures;if(!!s&&s.isAjax)return n(Object(C.get)("alpha_features")).then(function(e){return r(e),e});var i="object"==typeof o?n(Object(w.a)(o)):void 0,a=n(Object(C.get)("alpha_features")).then(function(e){return r(e)});return Object(T.j)({local:i,remote:a})}}),Object(T.c)(f.a.GET_ALPHA_FEATURES_BY_URL,function(s){return function(e){var t=e.getState,n=e.dispatch,r=e.next,o=t().alphaFeatures,i="object"==typeof o?n(Object(w.a)(o)):void 0,a=n(Object(C.get)("alpha_features/"+s)).then(function(e){return r({url:s,alphaFeature:e})});return Object(T.j)({local:i,remote:a})}})),k=i(854),N=i(851),P=i(543),R=i(828),D=i(23),L=i.n(D),M=i(10),F=i(25),U=i(19),B=i(32),z=i(4),V=i.n(z),G=i(187),H=G.c.typeToText,W=V.a.div.withConfig({componentId:"sc-1K8TTD"})(n=n||Object(E.__makeTemplateObject)(["margin:60px auto;text-align:center;"],[""])),Y=V.a.h3.withConfig({componentId:"sc-1K8TTD-1"})(r=r||Object(E.__makeTemplateObject)(["font-weight:400;font-size:16px;color:#41464b;"],[""])),K=V.a.div.withConfig({componentId:"sc-1K8TTD-2"})(o=o||Object(E.__makeTemplateObject)(["font-size:14px;color:#666;margin-top:20px;"],[""])),$=V()(U.a).withConfig({componentId:"sc-1K8TTD-3"})(s=s||Object(E.__makeTemplateObject)(["margin:16px auto;width:296px;height:44px;line-height:44px;"],[""])),q=V.a.div.withConfig({componentId:"sc-1K8TTD-4"})(c=c||Object(E.__makeTemplateObject)(["cursor:pointer;font-size:14px;color:#666;"],[""])),X={zIndex:999,position:"fixed",top:0,right:0,left:0,bottom:0,backgroundColor:"rgba(245, 245, 245, 0.92)",height:"100%"};var Q,J,Z,ee,te=i(17);(ee=Z=Z||{}).PCDesktopRightBoard="pc-desktop-right-board",ee.PCDesktopLeftPanelBottom="pc-desktop-left-panel-bottom",ee.PCDesktopLeftStreamOne="pc-desktop-left-stream-one",ee.PCDesktopLeftStreamTwo="pc-desktop-left-stream-two",ee.PCDesktopShortcut="pc-desktop-shortcut",ee.PCDesktopBanner="pc-desktop-banner",ee.PCReadonlyDocBottom="pc-readonly-doc-bottom",ee.PCReadonlyDocBottom2="pc-readonly-doc-bottom-2",ee.PCRightBottomCard="pc-right-bottom-card",ee.PCDesktopRightStream="pc-desktop-right-stream",ee.MobileReadonlyDocBottom="mobile-readonly-doc-bottom",ee.MobileReadonlyDocBottomTextLink="mobile-readonly-doc-bottom-text-link",ee.MobileReadonlyDocBottomCard="mobile-readonly-doc-bottom-card",ee.MobileReadonlyDocTopBanner="mobile-readonly-doc-top-banner",ee.AppStartupPage="app-startup-page",ee.MobileReadonlyDocFloatingIcon="mobile-readonly-doc-floating-icon",ee.MobileReadonlyDocFloatingIcon2="mobile-readonly-doc-floating-icon-2",ee.MobileReadonlyDocFloatingBottom="mobile-readonly-doc-floating-bottom",ee.MobileReadonlyDocStreamOne="mobile-readonly-doc-stream-one",ee.MobileReadonlyDocStreamTwo="mobile-readonly-doc-stream-two",ee.MobileReadonlyDocStreamThree="mobile-readonly-doc-stream-three",ee.MobileReadonlyDocStreamFour="mobile-readonly-doc-stream-four";var ne,re,oe,ie,ae=((Q={})[Z.PCDesktopRightBoard]={ratio:.825},Q[Z.PCDesktopLeftPanelBottom]={ratio:106/159},Q[Z.PCDesktopLeftStreamOne]={ratio:184/294},Q[Z.PCDesktopLeftStreamTwo]={ratio:184/294},Q[Z.PCReadonlyDocBottom]={ratio:350/1632},Q[Z.PCReadonlyDocBottom2]={ratio:350/1632},Q[Z.PCDesktopShortcut]={ratio:0},Q[Z.PCDesktopBanner]={ratio:0},Q[Z.PCRightBottomCard]={ratio:0},Q[Z.PCDesktopRightStream]={ratio:160/360},Q[Z.MobileReadonlyDocBottom]={ratio:330/700},Q[Z.MobileReadonlyDocBottomCard]={ratio:0},Q[Z.MobileReadonlyDocBottomTextLink]={ratio:0},Q[Z.MobileReadonlyDocTopBanner]={ratio:0},Q[Z.AppStartupPage]={ratio:750/1134},Q[Z.MobileReadonlyDocFloatingIcon]={ratio:1},Q[Z.MobileReadonlyDocFloatingIcon2]={ratio:1},Q[Z.MobileReadonlyDocFloatingBottom]={ratio:.2},Q[Z.MobileReadonlyDocStreamOne]={ratio:1},Q[Z.MobileReadonlyDocStreamTwo]={ratio:1},Q[Z.MobileReadonlyDocStreamThree]={ratio:1},Q[Z.MobileReadonlyDocStreamFour]={ratio:1},Q);(re=ne=ne||{}).Default="DEFAULT",re.Baidu="BAIDU_UNION",(ie=oe=oe||{}).ALL="ALL",ie.ANONYMOUS="ANONYMOUS",ie.LOGGED_IN="LOGGED_IN";var se,ce,le,ue,pe,de,fe,me,he,be="1108736835",ge="1108866184",_e=((J={})[Z.MobileReadonlyDocBottomCard]={count:1},J[Z.MobileReadonlyDocBottom]={count:1},J[Z.MobileReadonlyDocStreamOne]={count:1},J[Z.MobileReadonlyDocStreamTwo]={count:1},J[Z.MobileReadonlyDocStreamThree]={count:1},J[Z.MobileReadonlyDocStreamFour]={count:1},J),ve=V.a.div.withConfig({componentId:"sc-PWUlb"})(se=se||Object(E.__makeTemplateObject)(["position:relative;background:linear-gradient(180deg,#fdfdfd,#fff);z-index:110;height:50px;box-shadow:0 2px 3px 0 rgba(100,100,100,0.15);user-select:none;min-width:","px;overflow:hidden;border-bottom:1px solid #fff;&::after{clear:both;content:'';display:table;}"],["",""]),1280),ye=V.a.div.withConfig({componentId:"sc-PWUlb-1"})(ce=ce||Object(E.__makeTemplateObject)(["position:relative;float:left;padding-left:0;> a,> div,> button{display:inline-block;vertical-align:middle;}"],[""])),Ee=V.a.div.withConfig({componentId:"sc-PWUlb-2"})(le=le||Object(E.__makeTemplateObject)(["position:absolute;float:left;left:50%;top:50%;font-size:12px;min-width:108px;height:100%;margin:0 10px;transform:translate(-50%,-50%);transform-origin:50% 50%;-webkit-font-smoothing:antialiased;>:first-child{margin:0;}"],[""])),Oe=V.a.div.withConfig({componentId:"sc-PWUlb-3"})(ue=ue||Object(E.__makeTemplateObject)(["position:relative;float:right;> a,> div,> button,> span{float:left;vertical-align:middle;margin-right:10px;}"],[""])),xe=V.a.div.withConfig({componentId:"sc-PWUlb-4"})(pe=pe||Object(E.__makeTemplateObject)(["margin-top:15px;margin-right:18px;"],[""])),Te=V.a.div.withConfig({componentId:"sc-PWUlb-5"})(de=de||Object(E.__makeTemplateObject)(["height:50px;line-height:50px;display:flex;"],[""])),Ce=V.a.div.withConfig({componentId:"sc-PWUlb-6"})(fe=fe||Object(E.__makeTemplateObject)(["z-index:5;position:absolute;bottom:0;right:20px;"],[""])),we=V.a.div.withConfig({componentId:"sc-PWUlb-7"})(me=me||Object(E.__makeTemplateObject)(["margin-left:20px;"],[""])),Se=i(40),je=(Object(T.c)(f.a.GET_FLASH_MESSAGES,function(s){return function(e){var t,n=e.getState,r=e.dispatch,o=e.next,i=n().flashMessages;if(i){var a=!0;s.forEach(function(e){var t=e.name;a&=!!i.get(t)}),t=a&&r(Object(w.a)(i.toJS()))}return Object(T.j)({local:t,remote:r(Object(C.post)("flash_messages/find_or_create",{body:{filter:s}})).then(o)})}}),Object(T.c)(f.a.SET_FLASH_MESSAGE_READ,function(i){return function(e){var t=e.getState,n=e.dispatch,r=e.next,o=t().flashMessages.get(i).id;n(Object(C.patch)("flash_messages/"+o,{body:{isRead:!0}})).then(function(){return r(i)})}}),Object(T.c)(f.a.GET_BLUE_TIP,function(){return function(e){var t=e.dispatch,n=e.next;t(Object(C.get)("users/announcement?announcementType=blue_tip")).then(n)}})),Ie=Object(T.c)(f.a.CLOSE_BLUE_TIP,function(r){return function(e){var t=e.dispatch,n=e.next;t(Object(C.destroy)("users/announcement/"+r)).then(n)}});Object(T.c)(f.a.GET_BULLETIN,function(){return function(e){var t=e.dispatch,n=e.next;t(Object(C.get)("users/announcement?announcementType=bulletin")).then(n)}}),Object(T.c)(f.a.CLOSE_BULLETIN,function(r){return function(e){var t=e.dispatch,n=e.next;t(Object(C.destroy)("users/announcement/"+r)).then(n)}});(he||(he={})).Link="Link";var Ae,ke=(Ae=O.a.PureComponent,Object(E.__extends)(Ne,Ae),Ne.prototype.componentDidMount=function(){this.props.dispatch(je())},Ne.prototype.render=function(){var e=this.props.flashMessages;return this.props.children({id:e.get("id"),content:e.get("content"),link:e.get("link"),type:he.Link,onClick:this.handleClose})},Ne=Object(E.__decorate)([Object(R.a)(function(e){return{flashMessages:e.blueTips}})],Ne));function Ne(){var t=null!==Ae&&Ae.apply(this,arguments)||this;return t.handleClose=function(){var e=t.props.flashMessages;t.props.dispatch(Ie(e.get("id")))},t}function Pe(e){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function De(e,t){return!t||"object"!==Pe(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Le(e){return(Le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Me(e,t){return(Me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Fe,Ue,Be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ze=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),De(this,Le(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Me(e,t)}(t,O.a.Component),function(e,t,n){t&&Re(e.prototype,t),n&&Re(e,n)}(t,[{key:"render",value:function(){return O.a.createElement("svg",Be({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},this.props),O.a.createElement("path",{d:"M15.8 14.4l4.2-4.2 1.4 1.4-4 4.2 4.2 4.2-1.4 1.4-4.4-4-4.2 4.2-1.4-1.4 4.2-4.2-4.2-4.4 1.4-1.4 4.2 4.2zM16 32C7.2 32 0 24.8 0 16S7.2 0 16 0s16 7.2 16 16-7.2 16-16 16zm0-2c7.8 0 14-6.2 14-14S23.8 2 16 2 2 8.2 2 16s6.2 14 14 14z"}))}}]),t}(),Ve=i(108),Ge=V()(function(e){return e.url.match(/^https?:/)?O.a.createElement("a",{href:e.url,target:e.target,className:e.className},e.children):O.a.createElement(Ve.Link,{to:e.url,target:e.target,className:e.className,replace:!0},e.children)}).withConfig({componentId:"sc-2-7zod"})(Fe=Fe||Object(E.__makeTemplateObject)(["text-decoration:none;color:inherit;"],[""])),He=(Ue=O.a.PureComponent,Object(E.__extends)(We,Ue),We.prototype.render=function(){var e=this.props.closeable;return O.a.createElement(Xe,{closeable:e},O.a.createElement(Qe,{onClick:this.handleClick},this.renderContent()),O.a.createElement(Je,{onClick:this.handleCloseClick}))},We.prototype.renderContent=function(){var e=this.props,t=e.type,n=e.link;switch(t){case he.Link:return O.a.createElement(Ge,{url:n,target:"blank"},this.props.children);default:return null}},We);function We(){var e=null!==Ue&&Ue.apply(this,arguments)||this;return e.handleClick=function(){e.props.onClick&&e.props.onClick()},e.handleCloseClick=function(){e.props.onClose&&e.props.onClose()},e}var Ye,Ke,$e,qe,Xe=V.a.div.withConfig({componentId:"sc-1uwE5k"})(Ke=Ke||Object(E.__makeTemplateObject)(["margin-right:30px;line-height:50px;",""],["",""]),function(e){return e.closeable?Object(z.css)(Ye=Ye||Object(E.__makeTemplateObject)(["&:hover > svg{opacity:1;display:inline-block;}"],[""])):""}),Qe=V.a.span.withConfig({componentId:"sc-1uwE5k-1"})($e=$e||Object(E.__makeTemplateObject)(["color:#6da2d7;font-size:13px;text-decoration:none;vertical-align:middle;cursor:pointer;&:hover{text-decoration:underline;}"],[""])),Je=V()(ze).withConfig({componentId:"sc-1uwE5k-2"})(qe=qe||Object(E.__makeTemplateObject)(["opacity:0;width:12px;height:12px;margin-left:10px;cursor:pointer;vertical-align:middle;display:none;> path{fill:#6da2d7;}"],[""])),Ze=i(160),et=i.n(Ze),tt=i(71),nt=i(540),rt=(ot.prototype.put=function(t,e){var n=this;return this.cache[t]||(this.cache[t]=Promise.resolve(e()).then(function(e){switch(n.mode){case"serial":return delete n.cache[t],e;default:return n.cache[t]=Promise.resolve(e),e}},function(e){switch(n.mode){case"once":return n.cache[t]=Promise.reject(e),n.cache[t];default:return delete n.cache[t],Promise.reject(e)}})),this.cache[t]},ot);function ot(e){void 0===e&&(e="once-success"),this.mode=e,this.cache={}}var it={getAd:new nt.a({host:"/kong-api",contentType:"application/x-www-form-urlencoded"}).get("/ads")},at=new rt("once-success");function st(e,t){return void 0===t&&(t={}),(t.position=e)===Z.PCDesktopRightBoard&&(at=new rt("serial")),at.put(Object(tt.a)("/ads",t),function(){return it.getAd(t).then(function(e){if(!e||!e.items||!e.items.length)throw new Error("no ad to display");return e.items})})}var ct,lt,ut=i(91),pt=i.n(ut),dt=i(62);(lt=ct=ct||{}).DomAttr="data-sm-ad",lt.SaTask="lizardActions",lt.SaModule="广告系统",lt.DisplayAction="广告展示",lt.ClickAction="广告点击",lt.ClearAction="去除广告点击",lt.PaymentGuide="引导付费";var ft=function(e,t,n,r){var o=0;try{pt.a.track(ct.SaTask,{moduleName:ct.SaModule,actionName:n,position:t,adId:e.id,adDate:e.date},function(){o!==dt.a&&0<o&&(window.clearTimeout(o),r())})}catch(e){}r&&(o=window.setTimeout(function(){o=dt.a,r()},100))};function mt(e,t,n){e.addEventListener("click",function(e){e.stopPropagation(),ft(t,n,ct.ClearAction,function(){location.href=Object(tt.a)("/pricing#personal",{from:"ad",pos:n,redirect:location.href})})})}var ht=function(e,t,n){var r=e.getElementsByTagName("a")[0];r&&(t.targetUrl||(r.style.cursor="default"),t.targetUrl&&r.addEventListener("click",function(){ft(t,n,ct.ClickAction,function(){n===Z.MobileReadonlyDocFloatingIcon?location.href=t.targetUrl:window.open(t.targetUrl,"_blank")})}))};function bt(e,t,n,r){e.addEventListener("click",function(e){e.stopPropagation(),t.parentNode&&t.parentNode.removeChild(t),ft(n,r,ct.ClearAction)})}var gt,_t,vt=function(e,t,n){e.innerHTML='\n    <div class="sm-ad-container sm-ad-mobile-card sm-ad-text-link pos-'+n+' with-padding-background">\n      <a href="javascript:" class="sm-ad-item pos-'+n+" ad-"+t.id+'">\n        <img class="sm-ad-img" src="'+t.imageUrl+'"/>\n        <img class="sm-ad-img sm-ad-mobile-card__button" src="'+t.btnImage+'"/>\n      </a>\n      '+(t.isShimo?"":'<span class="sm-ad-card__label sm-ad-card__label--top-right">升级至无广告版本</span>')+"\n    </div>\n  "},yt=function(e,t,n){e.innerHTML='\n    <div class="sm-ad-container sm-ad-mobile-top-banner pos-'+n+'">\n      <a href="javascript:" class="sm-ad-item pos-'+n+" ad-"+t.id+'">\n        <img class="sm-ad-img" src="'+t.imageUrl+'"/>\n        <div class="sm-ad-card__close" id="ad-close-'+t.id+'" onclick="event.stopPropagation();this.parentNode.parentNode.parentNode.style.display=\'none\'"></div>\n        '+(t.isShimo?"":'<span class="sm-ad-card__label sm-ad-banner__label--dark sm-ad-card__label--bottom-right">升级至无广告版本</span>')+"\n        "+(t.isShimo?"":'<span class="sm-ad-card__label sm-ad-card__label--top-left">广告</span>')+"\n      </a>\n    </div>\n  "},Et=function(e,t,n){e.innerHTML='\n    <div class="sm-ad-container pos-'+n+' with-padding-background">\n      <a href="javascript:" class="sm-ad-item pos-'+n+" ad-"+t.id+'">\n        <img class="sm-ad-img" src="'+t.imageUrl+'"/>\n      </a>\n      '+(t.isShimo?"":'<span class="sm-ad-card__label sm-ad-card__label--bottom-right">升级至无广告版本</span>')+"\n    </div>\n  "},Ot=function(e,t,n){e.innerHTML='\n    <div class="sm-ad-container sm-ad-text-link sm-ad-mobile-link pos-'+n+'" style="overflow: hidden">\n      <a href="javascript:" class="sm-ad-item ad-'+t.id+'">\n        '+(t.isShimo?"":'<span class="sm-ad-card__label sm-ad-card__label--bordered">广告</span>')+"\n        <p>"+t.text+"</p>\n      </a>\n    </div>\n  "},xt=function(e,t,n){var r=t.template;r&&"mixed"===r?Tt(e,t,n):r&&"pic"===r&&Ct(e,t,n);var o=document.querySelector("#ad-close-"+t.id);o&&bt(o,e,t,n);var i=document.querySelector("#ad-upgrade-"+t.id);i&&function(e,t,n){e.addEventListener("click",function(e){e.stopPropagation(),ft(t,n,ct.PaymentGuide,function(){location.href=Object(tt.a)("/pricing#personal",{from:"ad",pos:n,redirect:location.href})})})}(i,t,n)},Tt=function(e,t,n){var r=t.imageUrl,o=t.text,i=t.price,a=t.brandText,s=t.btnText,c=Math.ceil(e.offsetWidth/66*25);e.innerHTML='\n  <div class="sm-ad-mobile-mixed-container pos-'+n+'">\n    '+(t.isShimo?"":'<span class="sm-ad-mobile-stream-card__label">广告</span>')+"\n    "+(t.isShimo?"":'<span class="sm-ad-mobile-stream-card__upgrade" id="ad-upgrade-'+t.id+'">升级至无广告版本</span>')+'\n    <a class="sm-ad-mobile-mixed-a sm-ad-mobile-stream-a pos-'+n+" ad-"+t.id+'" href="javascript:">\n      <div class="sm-ad-mobile-mixed-image" style="background:url('+r+");background-size: auto 100%;background-repeat:no-repeat;width:"+c+"px;height:"+c+'px">\n      </div>\n      <div class="sm-ad-mobile-mixed-content" style="flex:0 0 calc(100% - '+c+'px)">\n        <span class="sm-ad-mobile-mixed-text">'+o+'</span>\n        <span class="sm-ad-mobile-mixed-price">'+i+'<span class="sm-ad-mobile-mixed-brandText">'+(a?(i?"| ":"")+a:"")+"</span>\n        </span>\n        "+(s?'<span class="sm-ad-mobile-mixed-button">'+s+"</span>":"")+'\n      </div>\n    </a>\n    <div class="sm-ad-card__close" id="ad-close-'+t.id+'"></div>\n  </div>'},Ct=function(e,t,n){var r=t.imageUrl;e.innerHTML='\n  <div class="sm-ad-mobile-pic-container pos-'+n+'">\n    <a class="sm-ad-mobile-stream-a pos-'+n+" ad-"+t.id+'" href="javascript:">\n      <img class="sm-ad-mobile-pic" src="'+r+'" />\n        '+(t.isShimo?"":'<span class="sm-ad-mobile-stream-card__label">广告</span>')+"\n        "+(t.isShimo?"":'<span class="sm-ad-mobile-stream-card__upgrade" id="ad-upgrade-${data.id}">升级至无广告版本</span>')+'\n        <div class="sm-ad-card__close" id="ad-close-'+t.id+'"></div>\n    </a>\n  </div>'},wt=function(e,t,n){var r=n.getElementsByTagName("span")[0];ft(e,t,ct.DisplayAction),ht(n,e,t),e.isShimo||r&&mt(r,e,t)},St=function(e,t,n,r){var o=new Image,i=document.createElement("span"),a=document.createElement("a");mt(i,e,t),ht(a,e,t),a.href="javascript:",a.className="sm-ad-item pos-"+t+" ad-"+e.id,i.className="ad-price",o.onload=function(){n.appendChild(a),a.appendChild(o),a.appendChild(i),(r=document.getElementsByClassName("sm-ad-img")[0]).style.animation="fadeIn 0.5s both",r.style.webkitAnimation="fadeIn 0.5s both",r.ondragstart=function(){return!1}},o.src=e.imageUrl,o.className="sm-ad-img"};var jt,It,At=!1,kt=((gt={})[Z.MobileReadonlyDocBottom]=!1,gt[Z.MobileReadonlyDocBottomCard]=!1,gt[Z.MobileReadonlyDocStreamOne]=!1,gt[Z.MobileReadonlyDocStreamTwo]=!1,gt[Z.MobileReadonlyDocStreamThree]=!1,gt[Z.MobileReadonlyDocStreamFour]=!1,gt),Nt=((_t={})[Z.MobileReadonlyDocBottom]=null,_t[Z.MobileReadonlyDocBottomCard]=null,_t[Z.MobileReadonlyDocStreamOne]=null,_t[Z.MobileReadonlyDocStreamTwo]=null,_t[Z.MobileReadonlyDocStreamThree]=null,_t[Z.MobileReadonlyDocStreamFour]=null,_t),Pt=new Promise(function(e,t){jt=e,It=t});function Rt(r,o,i){o.id=o.id||+new Date+"."+Math.random();var a="sm-ad-"+o.id;!function(){if(!At&&!document.getElementById("tencentAdJs")){At=!0;var n=document,r=n.getElementsByTagName("head")[0],e=n.createElement("script");e.id="tencentAdJs",r&&r.insertBefore(e,r.firstChild),setTimeout(function(){var e=document.getElementById("tencentAdJs");e&&e.remove();var t=n.createElement("script");t.async=!0,t.src="//qzs.qq.com/qzone/biz/res/i.js",t.id="tencentAdJs",r&&r.insertBefore(t,r.firstChild)},3e3)}}();var e=function(e){var t='<span class="sm-ad-card__label sm-ad-card__label--bottom-right upgrade-to-no-ad">升级至无广告版本</span>';return e!==Z.MobileReadonlyDocStreamOne&&e!==Z.MobileReadonlyDocStreamTwo&&e!==Z.MobileReadonlyDocStreamThree&&e!==Z.MobileReadonlyDocStreamFour||(t='<span class="tencent-ad sm-ad-mobile-stream-card__label">广告</span>\n      <span class="tencent-ad sm-ad-mobile-stream-card__upgrade upgrade-to-no-ad">升级至无广告版本</span>'),t}(i);r.innerHTML='\n    <div class="sm-ad-container pos-'+i+' tencent-ad-container">\n      <div class="sm-ad-item pos-'+i+" ad-"+o.id+'" id="'+a+'">\n      </div>\n      '+e+"\n    </div>\n  ";var t=r.querySelector(".upgrade-to-no-ad");t&&mt(t,o,i);var s=window,n=be,c=o.placementId;window.location&&-1<window.location.hostname.indexOf("shimodev.com")&&(n=ge),Nt[i]||kt[i]||(s.TencentGDT=s.TencentGDT||[],s.TencentGDT.push({app_id:n,placement_id:c,type:"native",count:_e[i].count,onComplete:function(e){kt[i]=!1,e&&e.constructor===Array&&e.length?(Nt[i]=e.slice(0),jt()):It()}}),kt[i]=!0),Pt.then(function(){var e=Nt[i];if(e&&e.length){var t=e.pop();s.TencentGDT.NATIVE.renderAd(t,a),o.impressionUrl&&((new Image).src=o.impressionUrl),ft(o,i,ct.DisplayAction);var n=r.querySelector(".sm-ad-item");n&&(n.style.position="static",n.parentNode.style.height="auto",n.addEventListener("click",function(){ft(o,i,ct.ClickAction)},!0))}})}var Dt="AD_WANG_MAI_CLOSED_DATE";var Lt=i(527);function Mt(e,t,n){var r=e+t;return 0===r?0:0<r?r%n:r%n+n}function Ft(e,t,n){var r=e.length,o=Mt(t,0,r),i=Mt(t,n,r),a=document.getElementById("ad-wrapper-"+e[o]),s=document.getElementById("ad-wrapper-"+e[i]);if(a&&s)return a.style.display="none",s.style.display="block",i}var Ut="AD_PC_DESKTOP_RIGHT_STREAM_CLOSED_DATE",Bt="__SM_ADS_CAROUSAL_INTERVAL__",zt=function(t,e,i){var a=Object(Lt.uniqBy)(e,"id");if(i===Z.PCDesktopRightStream){var n=+(localStorage&&localStorage.getItem(Ut)||0);if(!(864e5<Date.now()-n))return}var o=[],s=0,r=setInterval(function(){var e=Ft(o,s,1);void 0!==e&&(s=e)},8e3),c=window,l=c[Bt]=c[Bt]||{};l[i]&&clearInterval(l[i]),l[i]=r;var u=ae[i],p=a.reduce(function(e,t,n){var r='\n      <div id="ad-wrapper-'+t.id+'" style="display: '+(n===s?"block":"none")+';">\n      <a href="javascript:" class="sm-ad-item pos-'+i+" ad-"+t.id+'" id="ad-'+t.id+'">\n        <div class="sm-ad-card__image-wrapper">\n          <img class="sm-ad-card__image" src="'+t.imageUrl+'" ondragstart="return false"/>\n        </div>\n      </a>\n      </div>\n    ';return t.impressionUrl&&((new Image).src=t.impressionUrl),o.push(t.id),e+r},""),d=i===Z.PCDesktopLeftStreamOne?"-stream-one":"-stream-two";t.innerHTML='\n    <div class="sm-ad-card pos-'+i+'" style="overflow: initial">\n      '+p+'\n      <span class="sm-ad-card__close" id="js-ad-lp-card-close'+d+'"></span>\n      '+(a[0]&&a[0].isShimo?"":'<span class="sm-ad-card__label">广告</span>')+"\n      "+(1<o.length?'\n        <span class="sm-ad-carousel__switcher sm-ad-carousel__switcher-left" id="js-ad-prev'+d+'">\n          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><g fill="none" fill-rule="evenodd" opacity=".901" transform="matrix(-1 0 0 1 20 0)"><circle cx="9.75" cy="9.75" r="9.75" fill="#000"/><path fill="#FFF" d="M8.16 14.078a.548.548 0 0 0 .384.159c.137 0 .28-.055.383-.16L13 10.004a.54.54 0 0 0 0-.768L8.927 5.16a.539.539 0 0 0-.767 0 .54.54 0 0 0 0 .768l3.688 3.691L8.16 13.31a.55.55 0 0 0 0 .768z"/></g></svg>\n        </span>\n        <span class="sm-ad-carousel__switcher sm-ad-carousel__switcher-right" id ="js-ad-next'+d+'">\n          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><g fill="none" fill-rule="evenodd" opacity=".901" transform="matrix(-1 0 0 1 20 0)"><circle cx="9.75" cy="9.75" r="9.75" fill="#000"/><path fill="#FFF" d="M8.16 14.078a.548.548 0 0 0 .384.159c.137 0 .28-.055.383-.16L13 10.004a.54.54 0 0 0 0-.768L8.927 5.16a.539.539 0 0 0-.767 0 .54.54 0 0 0 0 .768l3.688 3.691L8.16 13.31a.55.55 0 0 0 0 .768z"/></g></svg>\n        </span>\n        ':"")+"\n      "+(a[0]&&a[0].isShimo?"":'<span class="sm-ad-card__label sm-ad-card__label--dark" id="js-ad-price${idSuffix}">升级至无广告版本</span>')+"\n    </div>\n  ";var f=t.getElementsByTagName("div")[0];f&&(f.style.paddingTop=100*u.ratio+"%"),o.forEach(function(e,t){var n=document.getElementById("ad-wrapper-"+e),r=document.getElementById("js-ad-price"+d),o=a[t];ht(n,o,i),r&&mt(r,o,i)});var m=document.getElementById("js-ad-lp-card-close"+d),h=document.getElementById("js-ad-prev"+d),b=document.getElementById("js-ad-next"+d);m.addEventListener("click",function(e){e.stopPropagation(),i===Z.PCDesktopRightStream&&localStorage&&localStorage.setItem(Ut,Date.now()+""),ft(a[s],i,ct.ClearAction),clearInterval(r),t.remove()}),h&&b&&(h.addEventListener("click",function(e){e.stopPropagation();var t=Ft(o,s,-1);void 0!==t&&(s=t)}),b.addEventListener("click",function(e){e.stopPropagation();var t=Ft(o,s,1);void 0!==t&&(s=t)}))};function Vt(e){e.classList.remove("sm-ad-bottom-card__wrapper--animation"),e.offsetWidth,e.style.animation="cardEaseIn 1s ease-out reverse",e.style.webkitAnimation="cardEaseIn 1s ease-out reverse";var t=setTimeout(function(){e.remove(),clearTimeout(t)},1e3)}var Gt=function(e,t,n){var r="js-"+t.id+"-close";e.innerHTML='\n    <div id="ad-wrapper-'+t.id+'" style="position: relative;">\n      <a href="javascript:" class="sm-ad-item sm-ad-bottom-card__wrapper sm-ad-bottom-card__wrapper--animation pos-'+n+'" id="ad-'+t.id+'">\n        <div class="sm-ad-bottom-card" style="background-image: url('+t.imageUrl+');">\n          '+(t.isShimo?"":'<span class="sm-ad-card__label sm-ad-card__label--dark" style="z-index: 6;">升级至无广告版本</span>')+"\n          "+(t.isShimo?"":'<span class="sm-ad-card__label">广告</span>')+'\n          <span class="sm-ad-card__close" id="'+r+'"></span>\n          '+(t.text?'\n              <div class="sm-ad-bottom-card__apron">\n              <div class="sm-ad-bottom-card__text">\n                <p>'+t.text+"</p>\n              </div>\n            </div>\n            ":"")+"\n        </div>\n      </a>\n    </div>\n  ";var o=document.getElementById(r),i=document.getElementById("ad-"+t.id);if(o){o.addEventListener("click",function(e){e.stopPropagation(),i&&Vt(i)});if(!localStorage.getItem("sm-ad-test-flag"))var a=setTimeout(function(){e&&(i&&Vt(i),clearTimeout(a))},8e3)}};var Ht,Wt,Yt=function(t,e,n){t.innerHTML='\n    <div class="sm-ad-container pos-'+n+' sm-ad-banner" id="sm-ad-'+e.id+'">\n      <a href="javascript:">\n        <img class="sm-ad-banner__image" src="'+e.imageUrl+'">\n      </a>\n      '+(e.isShimo?"":'<span class="sm-ad-card__label sm-ad-card__label--dark">升级至无广告版本</span>')+"\n      "+(e.isShimo?"":'<span class="sm-ad-card__label">广告</span>')+'\n      <span class="sm-ad-card__close" id="ad-close-'+e.id+'"></span>\n    </div>\n  ';var r=document.getElementById("ad-close-"+e.id);r&&r.addEventListener("click",function(e){e.stopPropagation(),t.remove()})};function Kt(e,t,n){var r=ae[n];switch(n){case Z.PCDesktopRightBoard:!function(e,t,n,r,o){if(e.getElementsByClassName("sm-ad-img")[0]&&r&&t.imageUrl){for(;r.firstChild;)r.removeChild(r.firstChild);St(t,n,r,o)}else e.innerHTML='\n      <div class="sm-ad-container pos-'+n+'" style="overflow: initial">\n        <a href="javascript:" class="sm-ad-item pos-'+n+" ad-"+t.id+'">\n          <img class="sm-ad-img" src="'+t.imageUrl+'" ondragstart="return false"/>\n          '+(t.isShimo?"":'<span class="ad-price"></span>')+"\n        </a>\n      </div>\n    ",r=document.getElementsByClassName("sm-ad-container")[0]}(e,t,n,Ht,Wt);break;case Z.PCDesktopShortcut:!function(t,e,n){var r=document.getElementById("right-sidebar-shortcuts"),o=document.getElementById("shortcut-drop-ghost");r&&(r.style.top="-20px"),o&&(o.style.height="1px",o.style.top="50px"),t.innerHTML='\n    <div class="sm-ad-container pos-'+n+' sm-ad-text-link sm-ad-shortcut" style="overflow: hidden">\n      <a href="javascript:" class="sm-ad-item ad-'+e.id+'">\n        '+(e.isShimo?"":'<span class="sm-ad-card__label sm-ad-card__label--dark">广告</span>')+"\n        <p>"+e.text+'</p>\n        <span class="sm-ad-card__close" id="ad-close-'+e.id+'"></span>\n      </a>\n    </div>\n  ';var i=document.getElementById("ad-close-"+e.id);i&&i.addEventListener("click",function(e){e.stopPropagation(),t.remove(),r&&(r.style.top="-50px"),o&&(o.style.height="17px",o.style.top="13px")})}(e,t,n);break;case Z.PCDesktopBanner:Yt(e,t,n);break;case Z.MobileReadonlyDocBottomTextLink:Ot(e,t,n);break;case Z.MobileReadonlyDocBottomCard:vt(e,t,n);break;case Z.MobileReadonlyDocTopBanner:yt(e,t,n);break;case Z.MobileReadonlyDocBottom:Et(e,t,n);break;case Z.MobileReadonlyDocStreamOne:case Z.MobileReadonlyDocStreamTwo:case Z.MobileReadonlyDocStreamThree:case Z.MobileReadonlyDocStreamFour:xt(e,t,n);break;case Z.PCRightBottomCard:var o=document.getElementById("root");o&&!o.getAttribute("data-sm-ad-rb-card")&&(Gt(e,t,n),o.setAttribute("data-sm-ad-rb-card","1"));break;default:e.innerHTML='\n        <div class="sm-ad-container pos-'+n+'">\n          <a href="javascript:" class="sm-ad-item pos-'+n+" ad-"+t.id+'">\n            <img class="sm-ad-img" src="'+t.imageUrl+'"/>\n            '+(t.isShimo?"":'<span class="ad-price"></span>')+'\n          </a>\n          <div class="sm-ad-mask">\n            <button class="sm-ad-ever-close">永久去广告</button>\n            <button class="sm-ad-temporal-close">暂时关闭</button>\n          </div>\n        </div>\n      '}var i=e.getElementsByTagName("span")[0];t.clientConfig["allow-close"]&&i&&(i.className="ad-close"),e.getElementsByTagName("div")[0].style.paddingTop=100*r.ratio+"%",t.impressionUrl&&((new Image).src=t.impressionUrl),n!==Z.MobileReadonlyDocFloatingIcon&&n!==Z.MobileReadonlyDocFloatingIcon2?n!==Z.MobileReadonlyDocFloatingBottom?wt(t,n,e):function(e,t){var n=t.getElementsByTagName("span")[0],r=document.getElementsByClassName("notlogin-mobile-footer-container")[0]||document.getElementsByClassName("mobile-footer")[0],o=document.getElementsByClassName("invokeAppBtn")[0],i=t.getElementsByClassName("sm-ad-mask")[0],a=t.getElementsByClassName("sm-ad-ever-close")[0],s=t.getElementsByClassName("sm-ad-temporal-close")[0],c=Z.MobileReadonlyDocFloatingBottom;o&&(o.style.bottom="12vh"),r&&(r.style.paddingBottom="150px"),ft(e,c,ct.DisplayAction),ht(t,e,c),e.isShimo||(n&&n.addEventListener("click",function(e){e.stopPropagation(),i.style.display="block"}),a&&ht(a,e,c),s&&s.addEventListener("click",function(e){e.stopPropagation(),t.remove()}))}(t,e):function(e,t){var n=t.getElementsByTagName("span")[0],r=Z.MobileReadonlyDocFloatingIcon;n&&(n.style.borderRadius="100%"),ft(e,r,ct.DisplayAction),ht(t,e,r),e.isShimo||n.addEventListener("click",function(e){e.stopPropagation(),t.remove()})}(t,e)}function $t(e){var o=e.dom,i=e.position,t=e.query,a=void 0===t?{}:t;return Object(E.__awaiter)(this,void 0,void 0,function(){var t,n,r;return Object(E.__generator)(this,function(e){switch(e.label){case 0:if(i!==Z.PCDesktopRightBoard&&o.getAttribute(ct.DomAttr))return[2,st(i,a)];if(!ae[i])throw new Error('unknown position "'+i+'"');i!==Z.PCDesktopRightBoard&&o.setAttribute(ct.DomAttr,"1"),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,st(i,a)];case 2:if(t=e.sent(),o.style.display="block",a&&a.isCarousel)return zt(o,t,i),[2,t];switch((n=t[0]).type){case"TENCENT_UNION":Rt(o,n,i);break;case"BIAN_XIAN_MAO":!function(s,c,l){var e=c.placementId;fetch("https://2b.tandehao.com/adMaterialApi/getAdMaterial?adPositionId="+e).then(function(e){return e.json()}).then(function(e){if(L()(e,"returnValue.imgUrl",null)){var t=e.returnValue,n=t.redirectUrl,r=t.imgUrl;n&&(c.targetUrl=n),s.innerHTML='\n        <div class="sm-ad-container pos-'+l+'">\n          <a href="javascript:" class="sm-ad-item pos-'+l+" ad-"+c.id+'">\n            <img class="sm-ad-img" src="'+r+'"/>\n            '+(c.isShimo?"":'<span class="ad-price"></span>')+'\n          </a>\n          <div class="sm-ad-mask">\n            <button class="sm-ad-ever-close">永久去广告</button>\n            <button class="sm-ad-temporal-close">暂时关闭</button>\n          </div>\n        </div>\n      ',ht(s,c,l);var o=s.getElementsByTagName("span")[0];c.clientConfig["allow-close"]&&o&&(o.className="ad-close",bt(o,s,c,l));var i=s.getElementsByTagName("div")[0],a=ae[l];i.style.paddingTop=100*a.ratio+"%",c.impressionUrl&&((new Image).src=c.impressionUrl),ft(c,l,ct.DisplayAction)}})}(o,n,i);break;case"WANG_MAI":!function(e,t,n){try{if(!localStorage)return;var r=+(localStorage.getItem(Dt)||0);if(!(864e5<Date.now()-r))return;localStorage.setItem(Dt,Date.now()+"")}catch(e){return}t.id=t.id||+new Date+"."+Math.random();var o="sm-ad-"+t.id;e.innerHTML='\n    <div class="sm-ad-container pos-'+n+' wang_mai-ad-container" style="height: 50vw; margin: 15px 0;">\n      <div class="sm-ad-item pos-'+n+" ad-"+t.id+'" id="'+o+'" style="width: 100%; height: 100%; padding: 10px; box-sizing: border-box; background: #eee;">\n      </div>\n      <span class="sm-ad-card__label sm-ad-card__label--bottom-right upgrade-to-no-ad">升级至无广告版本</span>\n    </div>\n  ';var i=e.querySelector(".upgrade-to-no-ad");i&&mt(i,t,n);var a=e.querySelector("#"+o),s=document.createElement("iframe");s.setAttribute("style","border: none; width: 100%; height: 100%;");var c='<script src="'+t.script+'"><\/script><style>body { margin: 0 }</style>';a.appendChild(s);var l=s.contentWindow;l.document.open(),l.document.write(c),l.document.close(),t.impressionUrl&&((new Image).src=t.impressionUrl),ft(t,n,ct.DisplayAction),a.addEventListener("click",function(){ft(t,n,ct.ClickAction)},!0)}(o,n,i);break;default:Kt(o,n,i)}return[2,t];case 3:throw r=e.sent(),o.removeAttribute(ct.DomAttr),r;case 4:return[2]}})})}!function(){if("undefined"!=typeof document&&!document.getElementById("sm-ad-style-container")){var e=document.createElement("style");e.id="sm-ad-style-container",e.innerHTML='\n  .sm-ad-wrapper {\n    display: none;\n  }\n  .sm-ad-container {\n    position: relative;\n    height: 0;\n    overflow: hidden;\n  }\n  .sm-ad-container a {\n    display: block;\n    width: 100%;\n    height: 100%;\n  }\n  @keyframes fadeIn {\n    from {\n      opacity: 0.3;\n    }\n    to {\n      opacity: 1;\n     }\n  }\n\n  @keyframes fadeOut {\n    from {\n      opacity: 1;\n     }\n    to {\n      opacity: 0;\n     }\n  }\n\n  @-webkit-keyframes fadeIn {\n    from {\n      opacity: 0.3;\n    }\n    to {\n      opacity: 1;\n     }\n  }\n\n  @keyframes cardEaseIn {\n    from {\n      opacity: 0.3;\n      top: 50px;\n    }\n    to {\n      opacity: 1;\n      top: 0;\n     }\n  }\n  @-webkit-keyframes cardEaseIn {\n    from {\n      opacity: 0.3;\n      top: 50px;\n    }\n    to {\n      opacity: 1;\n      top: 0;\n     }\n  }\n\n  .sm-ad-item {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    display: block;\n  }\n  .sm-ad-img {\n    display: block;\n    max-width: 100%;\n    min-width: 100%;\n    height: 100%;\n  }\n  .ad-price {\n    cursor: pointer;\n    position: absolute;\n    bottom: 0;\n    right: 0;\n    font-size: 10px;\n    line-height: 1em;\n    padding: 4px 12px;\n    color: white;\n    background-color: rgba(216, 216, 216);\n    background-color: rgba(216, 216, 216, 0.3);\n    border-top-left-radius: 2px;\n  }\n  .ad-close {\n    position: absolute;\n    top: 0;\n    right: 0;\n    z-index: 999;\n    padding: 3px 7px;\n    background-color: rgba(216, 216, 216, 0.3);\n    color: white;\n    font-size: 14px;\n    border-radius: 50%;\n  }\n  .ad-close:before {\n    content: "X";\n  }\n  .ad-price:before {\n    content: "广告";\n  }\n  .sm-ad-item:hover > .ad-price {\n    background-color: rgba(216, 216, 216);\n    background-color: rgba(216, 216, 216, 0.5);\n  }\n  .sm-ad-item:hover > .ad-price:before  {\n    content: "升级至无广告版本";\n  }\n  .sm-ad-mask {\n    display: none;\n    background-color: rgba(44, 48, 51, 0.4);\n    position: absolute;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n  }\n  .sm-ad-mask button {\n    width: 120px;\n    height: 35px;\n    border-radius: 3px;\n    box-shadow: 0px 4px 30px 0px rgba(0,0,0,0.3);\n    color: #ffffff;\n    font-size: 15px;\n    transform: translate(50%, 50%);\n  }\n  .sm-ad-ever-close {\n    background-color: #E1AE6C;\n    margin-right: 8px;\n    border: none;\n  }\n  .sm-ad-temporal-close {\n    border: 1px solid #FFF;\n    background-color: rgba(0,0,0,0.1);\n  }\n\n  .sm-ad-card {\n    width: 100%;\n    background-color: white;\n    position: relative;\n    margin: 10px 0;\n  }\n  .sm-ad-card a {\n    text-decoration: none;\n  }\n  .sm-ad-card .sm-ad-carousel__switcher {\n    display: none;\n  }\n  .sm-ad-card:hover .sm-ad-carousel__switcher {\n    display: block;\n  }\n  .sm-ad-card__close {\n    width: 12px;\n    height: 12px;\n    transform: rotate(45deg);\n    color: #cdcdcd;\n    position: absolute;\n    top: -5px;\n    right: -5px;\n    font-weight: lighter;\n    cursor: pointer;\n  }\n  .sm-ad-card__close:before {\n    content: "+";\n    font-size: 20px\n  }\n  .sm-ad-card__image-wrapper {\n    position: relative;\n    height: 100%;\n  }\n  .sm-ad-card__image {\n    display: block;\n    width: 100%;\n    height: 100%;\n  }\n  .sm-ad-card__label {\n    color: white;\n    width: 45px;\n    height: 22px;\n    text-shadow: 0 2px 6px rgba(0, 0, 0, 0.65);\n    font-size: 14px;\n    transform: scale(0.5);\n    transform-origin: top left;\n    position: absolute;\n    left: 3px;\n    top: 2px;\n    text-align: center;\n  }\n  .sm-ad-card__label--dark {\n    text-shadow: unset;\n    background-color: black;\n    transform-origin: bottom right;\n    right: 0;\n    bottom: 0;\n    left: unset;\n    top: unset;\n    width: 130px;\n    height: 30px;\n    line-height: 30px;\n    color: rgba(255, 255, 255, 0.85);\n    cursor: pointer;\n  }\n  .sm-ad-card__label.sm-ad-card__label--bottom-right,\n  .sm-ad-card__label.sm-ad-card__label--top-right {\n    width: auto;\n    position: absolute;\n    border: solid 1px #41464b;\n    color: #41464b;\n    padding: 4px 12px;\n    font-size: 14px;\n    line-height: 20px;\n    text-shadow: none;\n    bottom: 7px;\n    left: initial;\n    top: initial;\n    right: 10px;\n    transform-origin: bottom right;\n  }\n  .sm-ad-card__label.sm-ad-card__label--top-right {\n    bottom: initial;\n    top: 10px;\n    transform-origin: top right;\n  }\n  .sm-ad-carousel__switcher {\n    width: 12px;\n    height: 12px;\n    position: absolute;\n    top: 46%;\n    cursor: pointer;\n  }\n  .sm-ad-carousel__switcher > svg {\n    width: 100%;\n    height: 100%;\n    vertical-align: top;\n  }\n  .sm-ad-carousel__switcher-right > svg {\n    transform: rotateY(180deg);\n  }\n  .sm-ad-carousel__switcher-left {\n    left: 3px;\n  }\n  .sm-ad-carousel__switcher-right {\n    right: 3px;\n  }\n\n  .sm-ad-text-link a {\n    text-decoration: none;\n  }\n  .sm-ad-text-link p {\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    overflow: hidden;\n  }\n\n  .sm-ad-shortcut {\n    width: 217px;\n    height: 30px;\n    background-color: #efefef;\n    left: -10px;\n    cursor: pointer\n  }\n  .sm-ad-shortcut .sm-ad-card__label {\n    width: 48px;\n    height: 28px;\n    line-height: 28px;\n    right: unset;\n    bottom: unset;\n    top: -5px;\n    left: -17px;\n  }\n  .sm-ad-shortcut p {\n    padding-left: 45px;\n    font-size: 13px;\n    line-height: 1.5;\n    color: #7f7f7f;\n    padding-top: 6px;\n    width: 160px;\n  }\n  .sm-ad-shortcut .sm-ad-card__close {\n    width: 20px;\n    height: 20px;\n    color: #a5a5a5;\n    display: none;\n    top: 4px;\n    right: -1px;\n    font-weight: 200;\n  }\n  .sm-ad-shortcut:hover .sm-ad-card__close {\n    display: block;\n  }\n  .sm-ad-shortcut .sm-ad-card__close:before {\n    font-size: 24px;\n  }\n\n  .sm-ad-mobile-link {\n    width: 100%;\n    height: 16px;\n    margin: 15px 0 20px;\n  }\n  .sm-ad-mobile-link .sm-ad-card__label {\n    width: 60px;\n    left: -30px;\n    font-size: 16px;\n  }\n  .sm-ad-mobile-link p {\n    padding-left: 40px;\n    font-size: 14px;\n    font-weight: 300;\n    line-height: 1;\n    color: #41464b;\n    width: calc(100% - 40px);\n    text-align: left;\n  }\n\n  .sm-ad-mobile-card {\n    height: 48vw;\n    margin: 15px 0;\n  }\n\n  .sm-ad-mobile-top-banner {\n    transition: height 1s ease 0s;\n    height: 88px;\n    width: 100%;\n    margin: 0;\n    position: fixed;\n    z-index: 99;\n  }\n\n  .sm-ad-mobile-top-banner .sm-ad-card__label--bottom-right {\n    bottom: 0;\n    right: 0;\n    background-color: #000000;\n    border: 0;\n    color: white;\n  }\n\n  .sm-ad-mobile-top-banner .sm-ad-card__label--top-left {\n    left: 5px;\n    top: 5px;\n  }\n\n  .sm-ad-mobile-top-banner .sm-ad-card__close {\n    right: 0px;\n    top: 0px;\n  }\n\n  .sm-ad-mobile-card__button {\n    width: 120px !important;\n    height: 36px !important;\n    min-width: auto;\n    position: absolute;\n    bottom: 16px;\n    left: calc(50% - 60px);\n  }\n\n  .sm-ad-mobile-stream-a {\n    text-decoration:none;\n  }\n  .sm-ad-mobile-pic-container .sm-ad-card__close,\n  .sm-ad-mobile-mixed-container .sm-ad-card__close {\n    width: 14px;\n    height: 14px;\n    top: 14px;\n    right: 14px;\n  }\n  .sm-ad-mobile-pic-container .sm-ad-card__close:before,\n  .sm-ad-mobile-mixed-container .sm-ad-card__close:before {\n    font-size: 24px;\n    line-height: 10px;\n  }\n  .sm-ad-mobile-pic-container .sm-ad-mobile-stream-card__label,\n  .sm-ad-mobile-mixed-container .sm-ad-mobile-stream-card__label,\n  .tencent-ad.sm-ad-mobile-stream-card__label {\n    bottom: 0;\n    left: 0;\n  }\n  .sm-ad-mobile-pic-container .sm-ad-mobile-stream-card__upgrade,\n  .sm-ad-mobile-mixed-container .sm-ad-mobile-stream-card__upgrade,\n  .tencent-ad.sm-ad-mobile-stream-card__upgrade {\n    bottom: 0;\n    right: 0;\n  }\n  .sm-ad-mobile-mixed-container .sm-ad-mobile-stream-card__label,\n  .sm-ad-mobile-mixed-container .sm-ad-mobile-stream-card__upgrade {\n    z-index: 1;\n  }\n  .sm-ad-mobile-stream-card__label, .sm-ad-mobile-stream-card__upgrade {\n    position: absolute;\n    color: #41464b;\n    font-size: .7em;\n    padding: 10px;\n    line-height: 10px;\n  }\n  .sm-ad-mobile-stream-card__label {\n    text-align: left;\n  }\n  .sm-ad-mobile-stream-card__upgrade {\n    padding: 3px 6px;\n    margin: 6px 10px;\n    border: 1px solid #41464b;\n    border-radius: 2px;\n  }\n  .sm-ad-mobile-mixed-container {\n    position: relative;\n    left: 0px;\n    padding: 10px 10px 30px 10px !important;\n    background-color: #f8f8f8;\n  }\n  .sm-ad-mobile-mixed-a {\n    position: relative;\n    float: left;\n    display: flex;\n    width: 100%;\n  }\n  .sm-ad-mobile-mixed-image {\n    position: relative;\n    float: left;\n    flex: none;\n  }\n  .sm-ad-mobile-mixed-content {\n    color: #000;\n    line-height: normal;\n    letter-spacing: 1.6px;\n    background-color: rgb(238, 238, 238);\n    display: flex;\n    flex-direction: column;\n  }\n  .sm-ad-mobile-mixed-text {\n    flex: auto;\n    margin: 12px 9.5px 0 14.5px;\n    overflow: hidden;\n    font-size: 1em;\n  }\n  .sm-ad-mobile-mixed-price {\n    flex: auto;\n    margin-left: 14px;\n    letter-spacing: 1.7px;\n    overflow: hidden;\n    width: calc(100% - 28px);\n    font-size: 1em;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n  }\n  .sm-ad-mobile-mixed-brandText {\n    margin-left: 5px;\n    letter-spacing: 1.6px;\n    color: #676b6f;\n  }\n  .sm-ad-mobile-mixed-button {\n    margin: 0 0 10.5px 14px;\n    width: fit-content;\n    max-width: 300px;\n    background-color: #41464b;\n    color: #fff;\n    text-align: center;\n    overflow: hidden;\n    font-size: .86em;\n    padding: .3em 1.2em;\n    display: -webkit-box;\n    -webkit-box-orient: vertical;\n    -webkit-line-clamp: 1;\n  }\n  .sm-ad-mobile-pic-container {\n    position: relative;\n    float: left;\n    width: 100%;\n    padding: 10px 10px 30px 10px !important;\n    background-color: #f8f8f8;\n  }\n  .sm-ad-mobile-pic {\n    width: 100%;\n  }\n\n  .sm-ad-bottom-card__wrapper {\n    position: relative;\n    top: -18px;\n    left: -4px;\n  }\n  .sm-ad-bottom-card__wrapper--animation {\n    animation: cardEaseIn 1s ease-in-out;\n    -webkit-animation: cardEaseIn 1s ease-in-out;\n  }\n  .sm-ad-bottom-card {\n    width: 182px;\n    height: 182px;\n    position: relative;\n    background-size: cover;\n    cursor: pointer;\n  }\n  .sm-ad-bottom-card p {\n    font-size: 11px;\n    color: white;\n  }\n  .sm-ad-bottom-card .sm-ad-card__close {\n    top: -8px;\n    right: -2px;\n    color: white;\n  }\n  .sm-ad-bottom-card .sm-ad-card__close:before {\n    font-size: 30px;\n  }\n  .sm-ad-bottom-card__apron {\n    box-sizing: border-box;\n    width: 100%;\n    height: 44px;\n    background-color: rgba(0, 0, 0, 0.1);\n    padding: 0 15px;\n    position: absolute;\n    left: 0;\n    bottom: 0;\n  }\n  .sm-ad-bottom-card__text {\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    height: 100%;\n    top: -7px;\n    line-height: 1.1;\n  }\n  .sm-ad-bottom-card__text p {\n    margin: 0;\n  }\n\n  .sm-ad-banner {\n    height: 50px;\n    max-width: 712px;\n  }\n  .sm-ad-banner .sm-ad-card__close {\n    color: #ccc;\n    top: -7px;\n  }\n  .sm-ad-banner::-webkit-scrollbar {\n    width: 0;\n    background-color: transparent;\n  }\n  .sm-ad-banner__image {\n    width: 712px;\n    height: 50px;\n    display: block;\n  }\n\n  .sm-ad-container.tencent-ad-container .sm-ad-item,\n  .sm-ad-container.with-padding-background .sm-ad-item {\n    padding: 10px 10px 30px;\n    background: #eee;\n  }\n\n  .sm-ad-container.with-padding-background .sm-ad-item {\n    box-sizing: border-box;\n  }\n\n  .sm-ad-container.with-padding-background.sm-ad-mobile-card .sm-ad-item {\n    padding-bottom: 10px;\n  }\n\n  .sm-ad-mobile-link .sm-ad-card__label--bordered {\n    left: 0;\n    top: 0;\n    width: auto;\n    border: solid 1px #41464b;\n    color: #41464b;\n    padding: 4px 12px;\n    font-size: 14px;\n    line-height: 20px;\n    text-shadow: none;\n  }\n  ',document.head.appendChild(e)}}();var qt,Xt=(qt=O.a.PureComponent,Object(E.__extends)(Qt,qt),Qt.prototype.componentDidMount=function(){this.updateAd()},Qt.prototype.componentDidUpdate=function(e){e.location!==this.props.location&&this.updateAd()},Qt.prototype.render=function(){var e=this.props,t=e.wrapperStyle,n=e.style,r=e.position;return O.a.createElement("div",{style:t},O.a.createElement("div",{key:r,style:n,className:"sm-ad-wrapper pos-"+r,ref:this.adRef}))},Qt);function Qt(e){var t=qt.call(this,e)||this;return t.adRef=O.a.createRef(),t.updateAd=function(){return Object(E.__awaiter)(t,void 0,void 0,function(){var t,n=this;return Object(E.__generator)(this,function(e){switch(e.label){case 0:if(!this.adRef.current)return[2];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,$t({query:this.props.query,position:this.props.position,dom:this.adRef.current})];case 2:return(e.sent()||[]).forEach(function(e){n.props.callback&&n.props.callback(null,e)}),[3,4];case 3:return t=(t=e.sent())||new Error("unknown rejected error"),this.props.callback&&this.props.callback(t,null),[3,4];case 4:return[2]}})})},t.updateAd=et()(t.updateAd,300),t}var Jt=i(28);function Zt(e){e.parentNode&&e.parentNode.removeChild(e)}var en=i(519),tn=i.n(en),nn=Jt.StyleSheet.create({modal:{background:"#fff",width:"320px",height:"502px",left:"0",top:"0",bottom:"0",right:"0",margin:"auto",position:"fixed",zIndex:1e3},mask:{background:"rgba(55, 55, 55, 0.6)",position:"fixed",top:"0",left:"0",width:"100%",height:"100%",zIndex:999},closeIcon:{position:"absolute",cursor:"pointer",width:"12px",height:"12px",backgroundImage:'url("'+tn.a+'")',top:"20px",right:"20px"}}),rn=(on.prototype.open=function(){this.renderModal(),this.renderMask(),this.renderCloseIcon()},on.prototype.close=function(){this.modalEl&&(Zt(this.modalEl),this.modalEl=null),this.maskEl&&(Zt(this.maskEl),this.maskEl=null),this.closeIconEl&&(Zt(this.closeIconEl),this.closeIconEl=null)},on.prototype.setRoot=function(e){this.rootEl=e},on.prototype.renderModal=function(){this.modalEl||(this.modalEl=document.createElement("div"),this.modalEl.className=Object(Jt.css)(nn.modal),this.rootEl.appendChild(this.modalEl))},on.prototype.renderMask=function(){this.maskEl||(this.maskEl=document.createElement("div"),this.maskEl.className=Object(Jt.css)(nn.mask),this.maskEl.addEventListener("click",this.handleClose),this.rootEl.appendChild(this.maskEl))},on.prototype.renderCloseIcon=function(){this.modalEl&&!this.closeIconEl&&(this.closeIconEl=document.createElement("div"),this.closeIconEl.className=Object(Jt.css)(nn.closeIcon),this.closeIconEl.addEventListener("click",this.handleClose),this.modalEl.appendChild(this.closeIconEl))},on);function on(){var e=this;this.modalEl=null,this.maskEl=null,this.closeIconEl=null,this.rootEl=document.body,this.handleClose=function(){e.close()}}var an,sn,cn=i(102),ln=i.n(cn),un=i(190),pn=i.n(un),dn=Jt.StyleSheet.create({tab:{height:"85px",padding:"49px 20px 0",margin:"0 40px",boxSizing:"border-box",display:"flex",borderBottom:"1px solid #e5e5e5"},tabItem:{flex:"1",textAlign:"center",width:"80px",position:"relative",bottom:"-1px",color:"#a5a5a5",fontSize:"18px",fontWeight:"normal",cursor:"pointer",margin:"0 10px"},tabItemActive:{borderBottom:"2px solid #333",fontWeight:600,color:"#333"},tabPlaceholder:{height:"85px",padding:"49px 20px 0",margin:"0 40px",boxSizing:"border-box",textAlign:"center",display:"block"}});(sn=an=an||{}).App="App",sn.Wechat="Wechat";var fn,mn="EVENT_CHANGE",hn=(fn=ln.a,Object(E.__extends)(bn,fn),bn.prototype.render=function(){var n=this;return this.el||(this.el=document.createElement("div"),this.el.className=Object(Jt.css)(dn.tab),this.tabList.forEach(function(e){var t=n.renderTabItem(e);n.tabItemEls.push(t),n.el.appendChild(t)}),this.el.children[this.activeIndex].className=this.activeTabClassName,this.bind()),this.el},bn.prototype.destroy=function(){this.el&&(Zt(this.el),this.el=null)},bn.prototype.bind=function(){var t=this;this.tabItemEls.forEach(function(e){e.addEventListener("mouseenter",t.handleHover)})},bn.prototype.selectIndex=function(e){(-1<e||e!==this.activeIndex)&&(this.tabItemEls[this.activeIndex].className=this.normalTabClassName,this.tabItemEls[e].className=this.activeTabClassName,this.activeIndex=e,this.emit(mn,{id:this.tabList[e].id}))},bn.prototype.renderTabItem=function(e){var t=document.createElement("div");return t.className=this.normalTabClassName,t.innerHTML=e.name,t},bn);function bn(t){var n=fn.call(this)||this;return n.el=null,n.tabItemEls=[],n.tabList=[{id:an.App,name:"App"},{id:an.Wechat,name:g()("小程序")}],n.handleHover=function(t){var e=pn()(n.tabItemEls,function(e){return e.contains(t.target)});n.selectIndex(e)},n.normalTabClassName=Object(Jt.css)(dn.tabItem),n.activeTabClassName=Object(Jt.css)(dn.tabItem,dn.tabItemActive),n.activeIndex=t.DEFAULT_TAB?pn()(n.tabList,function(e){return e.id===t.DEFAULT_TAB}):0,n}var gn=i(518),_n=i.n(gn),vn=i(517),yn=i.n(vn),En=Jt.StyleSheet.create({appContent:{},appQrCode:{margin:"40px auto",width:"190px",height:"190px"},appQrCodeImage:{width:"100%",height:"100%"},downloadButton:{position:"relative",color:"#fff!important",borderColor:"#41464b",backgroundImage:"linear-gradient( #41464b,#2c3033)",cursor:"pointer",width:"190px",height:"36px",lineHeight:"36px",fontSize:"14px",margin:"0 auto 14px",textAlign:"center",textDecoration:"none",display:"block"},iosIcon:{backgroundImage:'url("'+yn.a+'")',width:"20px",height:"20px",verticalAlign:"text-bottom",display:"inline-block",marginRight:"12px"},androidIcon:{backgroundImage:'url("'+_n.a+'")',width:"20px",height:"20px",verticalAlign:"text-bottom",display:"inline-block",marginRight:"12px"}}),On=g()("App Store 下载"),xn=g()("Android 版下载"),Tn=(Cn.prototype.render=function(){return this.el||(this.el=document.createElement("div"),this.el.className=Object(Jt.css)(En.appContent),this.el.innerHTML='\n        <div class="'+Object(Jt.css)(En.appQrCode)+'"><img class="'+Object(Jt.css)(En.appQrCodeImage)+'" src="'+this.config.APP_QRCODE_URL+'" /></div>\n        <a href="'+this.config.IOS_DOWNLOAD_URL+'" class="'+Object(Jt.css)(En.downloadButton)+'"><div class="'+Object(Jt.css)(En.iosIcon)+'"></div>'+On+'</a>\n        <a href="'+this.config.ANDROID_DOWNLOAD_URL+'" class="'+Object(Jt.css)(En.downloadButton)+'"><div class="'+Object(Jt.css)(En.androidIcon)+'"></div>'+xn+"</a>\n      "),this.el},Cn.prototype.destroy=function(){this.el&&(Zt(this.el),this.el=null)},Cn);function Cn(e){this.el=null,this.config=e}var wn=Jt.StyleSheet.create({wechatContent:{},wechatQrcode:{margin:"65px auto 45px",width:"200px",height:"200px"},wechatQrcodeImage:{width:"100%",height:"100%"},wechatQrcodeDescription:{fontSize:"18px",textAlign:"center",color:"#333"}}),Sn=g()("扫码使用 石墨小程序"),jn=(In.prototype.render=function(){return this.el||(this.el=document.createElement("div"),this.el.className=Object(Jt.css)(wn.wechatContent),this.el.innerHTML='\n        <div class="'+Object(Jt.css)(wn.wechatQrcode)+'"><img class="'+Object(Jt.css)(wn.wechatQrcodeImage)+'" src="'+this.config.WECHAT_QRCODE_URL+'"/></div>\n        <div class="'+Object(Jt.css)(wn.wechatQrcodeDescription)+'">'+Sn+"</div>\n      "),this.el},In.prototype.destroy=function(){this.el&&(Zt(this.el),this.el=null)},In);function In(e){this.el=null,this.config=e}var An,kn=i(542),Nn=(An=rn,Object(E.__extends)(Pn,An),Pn.prototype.open=function(){An.prototype.open.call(this),this.renderViewport()},Pn.prototype.close=function(){An.prototype.close.call(this),this.el&&(Zt(this.el),this.el=null)},Pn.prototype.renderViewport=function(){if(!this.el)if(this.el=document.createElement("div"),this.tab)this.el.appendChild(this.tab.render()),this.handleTabChange({id:this.config.DEFAULT_TAB||an.App});else{var e=document.createElement("div");e.className=Object(kn.a)(dn.tabPlaceholder),e.innerText="扫码下载 石墨文档 App",this.el.appendChild(e),this.handleTabChange({id:an.App})}this.modalEl.appendChild(this.el)},Pn.prototype.renderAppContent=function(){this.el&&(this.contentEl&&Zt(this.contentEl),this.contentEl=this.appContent.render(),this.el.appendChild(this.contentEl))},Pn.prototype.renderWechatContent=function(){this.el&&(this.contentEl&&Zt(this.contentEl),this.contentEl=this.wechatContent.render(),this.el.appendChild(this.contentEl))},Pn);function Pn(e){var t=An.call(this)||this;return t.el=null,t.contentEl=null,t.handleTabChange=function(e){if(e.id===an.App)t.renderAppContent();else{if(e.id!==an.Wechat)throw new Error("Tab type not match");t.renderWechatContent()}},(t.config=e).WECHAT_QRCODE_URL&&(t.tab=new hn(e),t.tab.addListener(mn,t.handleTabChange)),t.appContent=new Tn(e),t.wechatContent=new jn(e),t}var Rn,Dn,Ln,Mn,Fn,Un,Bn,zn,Vn,Gn,Hn,Wn,Yn,Kn,$n,qn=i(520),Xn=i.n(qn),Qn=i(521),Jn=i.n(Qn),Zn={APP_QRCODE_URL:Xn.a,IOS_DOWNLOAD_URL:"https://itunes.apple.com/cn/app/shi-mo-wen-dang-zui-mei-xie/id1013727678?l=en&mt=8",ANDROID_DOWNLOAD_URL:"/resources/android_app",WECHAT_QRCODE_URL:Jn.a},er=i(222),tr=i(128),nr=i(182),rr=i(105),or=i(69),ir=V.a.div.withConfig({componentId:"sc-2HV-I"})(Rn=Rn||Object(E.__makeTemplateObject)(["margin-bottom:16px;"],[""])),ar=V.a.div.withConfig({componentId:"sc-2HV-I-1"})(Dn=Dn||Object(E.__makeTemplateObject)(["font-size:14px;color:#a5a5a5;line-height:14px;margin-bottom:8px;display:flex;justify-content:space-between;"],[""])),sr=V.a.span.withConfig({componentId:"sc-2HV-I-2"})(Ln=Ln||Object(E.__makeTemplateObject)(["color:#cd4747;margin-right:4px;margin-left:-10px;"],[""])),cr=V.a.div.withConfig({componentId:"sc-2HV-I-3"})(Mn=Mn||Object(E.__makeTemplateObject)(["width:100%;height:40px;border-radius:2px;box-shadow:inset 0 1px 4px 0 rgba(0,0,0,0.1);border-width:1px;border-style:solid;border-color:",";color:#333333;background:#ffffff;box-sizing:border-box;transition:border-color 0.3s ease 0s;position:relative;&:hover{border-color:#a5a5a5;}"],["",""]),function(e){return e.error?"#cd4747!important":"#e5e5e5"}),lr=V.a.input.withConfig({componentId:"sc-2HV-I-4"})(Fn=Fn||Object(E.__makeTemplateObject)(["border:none;width:100%;padding:10px 15px;box-sizing:border-box;font-size:14px;line-height:20px;background:transparent;&::placeholder{color:#cccccc;font-size:14px;text-align:right;}&::-webkit-outer-spin-button,::-webkit-inner-spin-button{-webkit-appearance:none;}&[type='number']{-moz-appearance:textfield;}"],[""])),ur=V.a.div.withConfig({componentId:"sc-2HV-I-5"})(Un=Un||Object(E.__makeTemplateObject)(["position:absolute;width:0;height:0;right:10px;top:50%;margin-top:-2.5px;border-left:4.8px solid transparent;border-right:4.8px solid transparent;border-top:5px solid rgba(65,70,75,0.3);cursor:pointer;"],[""])),pr=V.a.div.withConfig({componentId:"sc-2HV-I-6"})(Bn=Bn||Object(E.__makeTemplateObject)(["border:none;width:100%;padding:10px 15px;box-sizing:border-box;font-size:14px;line-height:20px;background:transparent;"],[""])),dr=V.a.div.withConfig({componentId:"sc-2HV-I-7"})(zn=zn||Object(E.__makeTemplateObject)(["color:#cccccc;"],[""])),fr=V.a.div.withConfig({componentId:"sc-2HV-I-8"})(Vn=Vn||Object(E.__makeTemplateObject)(["margin-top:6px;color:#cd4747;line-height:12px;background:initial;"],[""])),mr=V.a.textarea.withConfig({componentId:"sc-2HV-I-9"})(Gn=Gn||Object(E.__makeTemplateObject)(["width:100%;height:100%;border:none;resize:none;padding:8px 15px;box-sizing:border-box;font-size:12px;box-shadow:inset 0 1px 4px 0 rgba(0,0,0,0.1);&::placeholder{color:#cccccc;}"],[""])),hr=V.a.div.withConfig({componentId:"sc-2HV-I-10"})(Hn=Hn||Object(E.__makeTemplateObject)(["color:#6da0e3;font-size:12px;cursor:pointer;"],[""])),br=V()(cr).withConfig({componentId:"sc-2HV-I-11"})(Wn=Wn||Object(E.__makeTemplateObject)(["display:flex;align-items:center;justify-content:space-between;"],[""])),gr=V()(or.a).withConfig({componentId:"sc-2HV-I-12"})(Yn=Yn||Object(E.__makeTemplateObject)(["width:100px;margin-right:3px;padding:0 11px;font-size:12px;"],[""])),_r=V.a.div.withConfig({componentId:"sc-2HV-I-13"})(Kn=Kn||Object(E.__makeTemplateObject)(["> div{margin-right:20px;display:inline-block;line-height:1em;font-size:13px;> div{margin-right:5px;}}"],[""])),vr=V.a.div.withConfig({componentId:"sc-2HV-I-14"})($n=$n||Object(E.__makeTemplateObject)(["margin-bottom:30px;label{color:#333333;font-weight:bold;}"],[""])),yr=i(855),Er=i(353);function Or(e){return/^((\+86)|(86))?1[0-9]{10}$/.test(e)}var xr,Tr,Cr,wr,Sr=i(60);(Tr=xr=xr||{}).SMS="sms",Tr.VOICE="voice",(wr=Cr=Cr||{}).Initial="initial",wr.Sending="sending",wr.Counting="counting";var jr,Ir,Ar=(jr=O.a.PureComponent,Object(E.__extends)(kr,jr),kr.prototype.componentWillUnmount=function(){clearInterval(this.smsTimer),clearInterval(this.voiceTimer)},kr.prototype.render=function(){var e=this.props,t=e.error,n=e.value,r=e.mobile,o=this.state.verifyAction,i=!r||!Or(r)||this.currentStatus!==Cr.Initial;return O.a.createElement(ir,null,O.a.createElement(Dr,{name:Pr.verifyCode,label:g()("验证手机号码"),required:!0},O.a.createElement(hr,{onClick:this.handleSwitchVerifyType},o===xr.SMS?g()("收不到验证码？语音验证"):g()("不方便接电话？切换回短信验证码"))),O.a.createElement(br,{error:!!t},O.a.createElement(lr,{id:Pr.verifyCode,type:"number",onChange:this.handleChange,value:n}),O.a.createElement(gr,{type:"blue",disabled:i,onClick:this.handleSendVerifyCode},this.getSendCodeMessage())),O.a.createElement(fr,null,t),O.a.createElement("div",{ref:this.captchaRef}))},kr.prototype.getSendCodeMessage=function(){return this.currentStatus===Cr.Initial?g()("获取验证码"):this.currentStatus===Cr.Sending?g()("发送中..."):g()(Ir=Ir||Object(E.__makeTemplateObject)(["(",")重新发送"],["(",")重新发送"]),this.currentCount)},Object.defineProperty(kr.prototype,"currentStatus",{get:function(){var e=this.state.verifyAction;return e===xr.SMS?this.state.smsStatus:e===xr.VOICE?this.state.voiceStatus:""},enumerable:!0,configurable:!0}),Object.defineProperty(kr.prototype,"currentCount",{get:function(){var e=this.state.verifyAction;return e===xr.SMS?this.state.smsCount:e===xr.VOICE?this.state.voiceCount:0},enumerable:!0,configurable:!0}),kr);function kr(){var n=null!==jr&&jr.apply(this,arguments)||this;return n.state={verifyAction:xr.SMS,smsStatus:Cr.Initial,voiceStatus:Cr.Initial,smsCount:0,voiceCount:0},n.smsTimer=0,n.voiceTimer=0,n.captchaRef=O.a.createRef(),n.handleSwitchVerifyType=function(){var e=n.state.verifyAction===xr.SMS?xr.VOICE:xr.SMS;n.setState({verifyAction:e})},n.handleChange=function(e){n.props.onChange(Pr.verifyCode,e.target.value)},n.handleSendVerifyCode=function(){return Object(E.__awaiter)(n,void 0,void 0,function(){var t,n,r,o,i=this;return Object(E.__generator)(this,function(e){if(t=this.state.verifyAction,n=this.props.mobile,0<this.currentCount||!n||!Or(n))return[2];t===xr.SMS?this.setState({smsStatus:Cr.Sending,smsCount:59}):t===xr.VOICE&&this.setState({voiceStatus:Cr.Sending,voiceCount:59}),r={type:t,mobile:n,countryCode:"+86"};try{Object(Er.a)(this.createMobileCaptchaRequest(r),this.captchaRef.current,function(){return i.props.dispatch(Object(yr.c)())})}catch(e){o=e&&e.message?e.message:"验证码发送失败,请稍后再试",Sr.a.error({content:o}),t===xr.SMS?this.setState({smsStatus:Cr.Initial}):t===xr.VOICE&&this.setState({voiceStatus:Cr.Initial})}return t===xr.SMS?this.setState({smsStatus:Cr.Counting},this.startTimer):t===xr.VOICE&&this.setState({voiceStatus:Cr.Counting},this.startTimer),[2]})})},n.startTimer=function(){var e=n.state.verifyAction,t=window.setInterval(function(){var e=n.state.verifyAction;0===n.currentCount?e===xr.SMS?(n.smsTimer&&clearInterval(n.smsTimer),n.setState({smsStatus:Cr.Initial})):e===xr.VOICE&&(n.voiceTimer&&clearInterval(n.voiceTimer),n.setState({voiceStatus:Cr.Initial})):e===xr.SMS?n.setState({smsCount:n.state.smsCount-1}):e===xr.VOICE&&n.setState({voiceCount:n.state.voiceCount-1})},1e3);e===xr.SMS?n.smsTimer=t:e===xr.VOICE&&(n.voiceTimer=t)},n.createMobileCaptchaRequest=function(t){return function(e){return void 0===e&&(e={}),n.props.dispatch(Object(yr.e)(t,e,"bind","4"))}},n}var Nr,Pr,Rr,Dr=function(e){var t=e.name,n=e.label,r=e.required;return O.a.createElement(ar,null,O.a.createElement("label",{htmlFor:t},r&&O.a.createElement(sr,null,"*"),n),e.children)},Lr=[g()("互联网/游戏/软件"),g()("教育/培训"),g()("新媒体/媒体/自媒体"),g()("金融/保险/证券/投资"),g()("广告/传媒/文体娱乐"),g()("服务/外包/中介"),g()("政府/事业单位"),g()("公益组织/社团"),g()("贸易/交通/物流"),g()("房地产/建筑/物业"),g()("消费/生产/零售"),g()("电子/通信/硬件"),g()("汽车/机械/重工"),g()("制药/医疗"),g()("能源化工/环保"),g()("其他")],Mr=[g()("文档协同编辑"),g()("文档云端存储和管理"),g()("数据安全")],Fr=[g()("目前只考虑个人使用"),g()("部门/部分人使用"),g()("全员使用")],Ur=[g()("员工"),g()("管理层/部门负责人"),g()("企业所有者")];(Rr=Pr=Pr||{}).mobile="mobile",Rr.verifyCode="verifyCode",Rr.companyName="companyName",Rr.companySize="companySize",Rr.companyType="companyType",Rr.question="question",Rr.demands="demands",Rr.range="range",Rr.character="character";var Br,zr,Vr=((Nr={})[Pr.mobile]={component:function(e){var n=e.value,r=e.onChange,t=e.error;return O.a.createElement(ir,null,O.a.createElement(Dr,{name:Pr.mobile,label:g()("验证手机号码"),required:!0}),O.a.createElement(cr,{error:!!t},O.a.createElement(lr,{id:Pr.mobile,type:"number",onChange:function(e){var t=e.target.value;t!==n&&r(Pr.mobile,t)},value:n,placeholder:g()("暂不支持非中国大陆地区手机号")})),O.a.createElement(fr,null,t))},valid:function(e){return e?(Or(e)||g()("手机号格式不正确，请重新输入"),""):g()("请填写手机号码")}},Nr[Pr.verifyCode]={component:function(e){return O.a.createElement(Ar,Object(E.__assign)({},e))},valid:function(e){return e?(/^\d{4}$/.test(e)||g()("验证码格式不正确，请重新输入"),""):g()("请填写验证码")}},Nr[Pr.companyName]={component:function(e){var n=e.value,r=e.onChange,t=e.error;return O.a.createElement(ir,null,O.a.createElement(Dr,{name:Pr.companyName,label:g()("企业或团队名称"),required:!0}),O.a.createElement(cr,{error:!!t},O.a.createElement(lr,{id:Pr.companyName,type:"text",onChange:function(e){var t=e.target.value;t!==n&&r(Pr.companyName,t)},value:n})),O.a.createElement(fr,null,t))},valid:function(e){return e?"":g()("请填写企业或团队名称")}},Nr[Pr.companySize]={component:function(e){var n=e.value,r=e.onChange,t=e.error;return O.a.createElement(ir,null,O.a.createElement(Dr,{name:Pr.companySize,label:g()("团队使用人数"),required:!0}),O.a.createElement(cr,{error:!!t},O.a.createElement(lr,{id:Pr.companySize,type:"number",onChange:function(e){var t=e.target.value;t!==n&&r(Pr.companySize,t)},value:n})),O.a.createElement(fr,null,t))},valid:function(e){return e?(function(e){return/^[0-9]{1,}$/.test(e)}(e)||g()("团队使用人数格式不正确，请重新填写"),""):g()("请填写团队使用人数")}},Nr[Pr.companyType]={component:function(e){var n=e.value,r=e.onChange,t=e.error,o=O.a.createElement(tr.a,{defaultSelectedKeys:["0"],onClick:function(e){var t=e.key;n!==t&&r(Pr.companyType,t)}},Lr.map(function(e){return O.a.createElement(er.a,{key:e},e)}));return O.a.createElement(ir,{style:{marginBottom:"30px"}},O.a.createElement(Dr,{name:Pr.companyType,label:g()("您的行业"),required:!0}),O.a.createElement(nr.a,{overlay:o},O.a.createElement(cr,{error:!!t},O.a.createElement(ur,null),O.a.createElement(pr,null,n||O.a.createElement(dr,null,g()("请选择行业"))))),O.a.createElement(fr,null,t))},valid:function(e){return e?"":g()("请选择行业")}},Nr[Pr.question]={component:function(e){var n=e.value,r=e.onChange,t=e.error;return O.a.createElement(ir,{style:{marginBottom:"30px"}},O.a.createElement(Dr,{name:Pr.question,label:g()("您想用石墨解决什么问题？")}),O.a.createElement(cr,{error:!!t,style:{height:"60px"}},O.a.createElement(mr,{id:Pr.question,onChange:function(e){var t=e.target.value;t!==n&&r(Pr.question,t)},value:n,placeholder:g()("请告诉我们更多信息")})))}},Nr[Pr.demands]={component:function(r){var n=r.value,o=r.onChange,e=r.error;return O.a.createElement(vr,null,O.a.createElement(Dr,{name:Pr.demands,label:g()("您选择石墨是为了满足哪方面需要呢？（多选）"),required:!0}),O.a.createElement(_r,null,Mr.map(function(e){var t=!!n.match(e);return O.a.createElement("div",{onClick:function(t,n){return function(){var e=r.value;o(Pr.demands,n?e.replace(t+",",""):e+t+",")}}(e,t)},O.a.createElement(rr.a,{type:"check",checked:t}),e)})),O.a.createElement(fr,null,e))},valid:function(e){return e?"":g()("请选择您的需要")}},Nr[Pr.range]={component:function(e){var t=e.value,n=e.onChange,r=e.error;return O.a.createElement(vr,null,O.a.createElement(Dr,{name:Pr.range,label:g()("您所在 公司/团队 希望一起使用石墨文档的范围是？"),required:!0}),O.a.createElement(_r,null,Fr.map(function(e){return O.a.createElement("div",{onClick:function(e){return function(){n(Pr.range,e)}}(e)},O.a.createElement(rr.a,{type:"radio",checked:t===e}),e)})),O.a.createElement(fr,null,r))},valid:function(e){return e?"":g()("请选择您的使用范围")}},Nr[Pr.character]={component:function(e){var t=e.value,n=e.onChange,r=e.error;return O.a.createElement(vr,null,O.a.createElement(Dr,{name:Pr.character,label:g()("您的 公司职务/团队角色 是？"),required:!0}),O.a.createElement(_r,null,Ur.map(function(e){return O.a.createElement("div",{onClick:function(e){return function(){n(Pr.character,e)}}(e)},O.a.createElement(rr.a,{type:"radio",checked:t===e}),e)})),O.a.createElement(fr,null,r))},valid:function(e){return e?"":g()("请选择您的公司职务/团队角色")}},Nr);(zr=Br=Br||{}).TEAM_CREATOR="TEAM_CREATOR",zr.PERSONAL_WITH_MOBILE="PERSONAL_WITH_MOBILE",zr.PERSONAL_WITHOUT_MOBILE="PERSONAL_WITHOUT_MOBILE";function Gr(e){return{inviteInfo:e.wechat.inviteInfo}}var Hr,Wr={TEAM_CREATOR:[Pr.demands,Pr.range,Pr.character],PERSONAL_WITH_MOBILE:[Pr.companyName,Pr.companySize,Pr.companyType,Pr.question],PERSONAL_WITHOUT_MOBILE:[Pr.mobile,Pr.verifyCode,Pr.companyName,Pr.companySize,Pr.companyType,Pr.question]};Hr=O.a.PureComponent,Object(E.__extends)(Yr,Hr),Yr.prototype.render=function(){var e=this.props,t=e.dispatch,n=e.inviteInfo;return(0,e.children)(n,t)},Yr=Object(E.__decorate)([Object(R.a)(Gr)],Yr);function Yr(){return null!==Hr&&Hr.apply(this,arguments)||this}var Kr,$r,qr,Xr,Qr,Jr,Zr,eo,to,no,ro,oo,io,ao,so,co,lo,uo=i(374),po=V.a.div.withConfig({componentId:"sc-1DcV0-"})(Kr=Kr||Object(E.__makeTemplateObject)(["color:white;font-size:12px;line-height:20px;background:#8ab3e9;position:relative;margin:30px -40px -30px;padding:15px;text-align:center;"],[""])),fo=V.a.a.withConfig({componentId:"sc-1DcV0--1"})($r=$r||Object(E.__makeTemplateObject)(["font-weight:bold;color:inherit;text-decoration:none;"],[""])),mo=V.a.div.withConfig({componentId:"sc-1DcV0--2"})(qr=qr||Object(E.__makeTemplateObject)(["font-size:12px;line-height:20px;color:#7d7d7d;"],[""])),ho=V.a.div.withConfig({componentId:"sc-1DcV0--3"})(Xr=Xr||Object(E.__makeTemplateObject)(["position:relative;"],[""])),bo=V.a.div.withConfig({componentId:"sc-1DcV0--4"})(Qr=Qr||Object(E.__makeTemplateObject)(["font-size:14px;font-weight:bold;color:#8ab3e9;margin-bottom:10px;"],[""])),go=V.a.div.withConfig({componentId:"sc-1DcV0--5"})(Jr=Jr||Object(E.__makeTemplateObject)(["position:relative;margin-bottom:15px;"],[""])),_o=V()(uo.a).withConfig({componentId:"sc-1DcV0--6"})(Zr=Zr||Object(E.__makeTemplateObject)(["display:inline-block;position:absolute;right:0;bottom:0;",""],["",""]),function(e){return"top"===e.position?"top: 0;":""}),vo=V.a.span.withConfig({componentId:"sc-1DcV0--7"})(eo=eo||Object(E.__makeTemplateObject)(["position:absolute;left:100%;margin-left:10px;width:100px;color:",";cursor:",";"],["","",""]),function(e){return e.disabled?"#CCCCCC":"#8AB3E9"},function(e){return e.disabled?"not-allowed;":"pointer"}),yo=V.a.div.withConfig({componentId:"sc-1DcV0--8"})(to=to||Object(E.__makeTemplateObject)(["position:relative;margin-right:110px;",""],["",""]),function(e){return e.success?"margin-bottom: 5px;":""}),Eo=V.a.div.withConfig({componentId:"sc-1DcV0--9"})(no=no||Object(E.__makeTemplateObject)(["margin-bottom:10px;"],[""])),Oo=V.a.div.withConfig({componentId:"sc-1DcV0--10"})(ro=ro||Object(E.__makeTemplateObject)(["position:relative;border:1px solid #e5e5e5;background:#f7f7f7;padding:15px 25px;&::before,&::after{content:'';display:block;width:0;height:0;position:absolute;bottom:100%;}&::before{left:24px;border-left:8px solid transparent;border-right:8px solid transparent;border-bottom:8px solid #e5e5e5;}&::after{left:26px;border-left:6px solid transparent;border-right:6px solid transparent;border-bottom:6px solid #f7f7f7;}"],[""])),xo=V.a.div.withConfig({componentId:"sc-1DcV0--11"})(oo=oo||Object(E.__makeTemplateObject)(["float:right;"],[""])),To=V.a.hr.withConfig({componentId:"sc-1DcV0--12"})(io=io||Object(E.__makeTemplateObject)(["display:block;margin:25px 0;height:1px;border:0;border-top:1px solid #cccccc;"],[""])),Co=V.a.div.withConfig({componentId:"sc-1DcV0--13"})(ao=ao||Object(E.__makeTemplateObject)(["width:76%;height:60px;padding-top:16px;"],[""])),wo=V.a.div.withConfig({componentId:"sc-1DcV0--14"})(so=so||Object(E.__makeTemplateObject)(["",""],["",""]),function(e){return e.enable?"text-decoration: line-through;":""}),So=V.a.div.withConfig({componentId:"sc-1DcV0--15"})(co=co||Object(E.__makeTemplateObject)(["color:#7a9880;margin-left:10px;"],[""])),jo=Object(T.c)(f.a.GET_WECHAT_BINDING_QRCODE,function(){return function(e){return(0,e.dispatch)(Object(C.get)("wechat/action/binding_qrcode"))}}),Io=(Object(T.c)(f.a.GET_WECHAT_BINDING_URL,function(e){var n=(void 0===e?{}:e).type;return function(e){var t=e.getState;return(0,e.dispatch)(Object(C.post)("wechat/action/app_auth_v2",{body:{type:n||"binding_shimo",userId:t().me.id}}))}}),Object(T.c)(f.a.GET_WECHAT_INVITE_INFO,function(){return function(e){var t=e.next;return(0,e.dispatch)(Object(C.get)("invite/invite_info")).then(t)}})),Ao=Object(T.c)(f.a.WIN_PERSONAL_PREMIUM_VERSION,function(){return function(e){var t=e.next;return(0,e.dispatch)(Object(C.post)("invite/invitee_convert")).then(t)}}),ko=(Object(T.c)(f.a.WECHAT_REWARDED,function(){return function(e){return(0,e.next)(void 0)}}),Object(T.c)(f.a.WECHAT_REWARD_BY_INVITOR,function(){return function(e){return(0,e.next)(void 0)}}),Object(T.c)(f.a.WECHAT_NO_REWARD,function(){return function(e){return(0,e.next)(void 0)}}),Object(T.c)(f.a.GET_WECHAT_SCAN_INFO,function(e){var t=e.anonymousId;return function(e){return(0,e.dispatch)(Object(C.get)("wechat/action/qrcode_secret?anonymousId="+t))}}),G.f.linkTo),No=(lo=O.a.PureComponent,Object(E.__extends)(Po,lo),Po.prototype.componentDidMount=function(){return Object(E.__awaiter)(this,void 0,void 0,function(){var t,n,r,o;return Object(E.__generator)(this,function(e){switch(e.label){case 0:t=this.props.dispatch,e.label=1;case 1:return e.trys.push([1,3,,4]),[4,t(jo())];case 2:return n=e.sent(),r=n.ticket,(o=n.url)&&r&&this.setState({qrCodeUrl:o,ticket:r}),[3,4];case 3:return e.sent(),[3,4];case 4:return t(Io()),[2]}})})},Po.prototype.render=function(){var e=this.props.inviteInfo;e&&e.needRefresh&&this.reloadSession();var t=e||{},n=t.count,r=void 0===n?0:n,o=t.bonus,i=void 0===o?0:o,a=t.isBound,s=void 0!==a&&a,c=t.isObtained,l=void 0!==c&&c;return O.a.createElement(mo,null,O.a.createElement(ho,null,O.a.createElement(bo,null,g()("方式一：邀请好友注册并绑定微信（活动已结束）")),O.a.createElement(go,null,O.a.createElement(yo,null,O.a.createElement(Eo,null,g()("如有未兑换的高级版使用期，请及时兑换。")))),O.a.createElement(Oo,null,O.a.createElement(yo,{success:!0},g()("已成功邀请并绑定微信的好友"),O.a.createElement(xo,null,r,g()("人"))),O.a.createElement(yo,null,g()("可兑换高级版使用期"),O.a.createElement(xo,null,i,g()("天")),O.a.createElement(vo,{disabled:0===i,onClick:this.handleExchangeProVersion},g()("立即兑换高级版"))))),O.a.createElement(To,null),O.a.createElement(ho,null,O.a.createElement(Co,null,O.a.createElement(bo,null,g()("方式二：绑定你的微信号")),O.a.createElement("div",null,O.a.createElement(wo,{enable:s},g()("用微信扫码，绑定帐号，立即获得 15 天高级版。")),l?O.a.createElement(So,null,g()("已获得")+" ✓"):null)),this.renderBindWechatQrcode()))},Po.prototype.reloadSession=function(){ko("/login?redirect_url="+encodeURIComponent(window.location.href))},Po.displayName="InviteFriendModalBody",Po);function Po(){var i=null!==lo&&lo.apply(this,arguments)||this;return i.state={qrCodeUrl:"",ticket:""},i.handleExchangeProVersion=function(){return Object(E.__awaiter)(i,void 0,void 0,function(){var t,n,r;return Object(E.__generator)(this,function(e){switch(e.label){case 0:if(t=this.props,n=t.inviteInfo,r=t.dispatch,!n||!n.bonus)return[2];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,r(Ao())];case 2:return e.sent(),M.a.success(g()("兑换成功！")),[3,4];case 3:return e.sent(),M.a.error(g()("兑换失败！")),[3,4];case 4:return[2]}})})},i.renderBindWechatQrcode=function(){var e=i.props.inviteInfo,t=i.state,n=t.ticket,r=t.qrCodeUrl,o=e&&e.isBound;return!n||o?null:O.a.createElement(_o,{position:"top",size:"80px",url:r,isWechat:!0,wechatTicket:n})},i}var Ro=function(){return O.a.createElement("div",null,g()("免费获得石墨文档高级版！"))},Do=function(){return O.a.createElement(po,null,g()("每人每月不到一杯咖啡的价格，即可获得更多企业管理功能。"),O.a.createElement(fo,{href:"/pricing",target:"_blank"},g()("了解更多")+" >"))};var Lo,Mo=(Lo=O.a.PureComponent,Object(E.__extends)(Fo,Lo),Fo.prototype.render=function(){var e=this.props,t=e.inviteInfo,n=e.dispatch,r=e.visible,o=e.onClose;return O.a.createElement(B.a,{width:506,title:O.a.createElement(Ro,null),footer:O.a.createElement(Do,null),visible:r,onCancel:o},O.a.createElement(No,{inviteInfo:t,dispatch:n}))},Fo);function Fo(){return null!==Lo&&Lo.apply(this,arguments)||this}i(79);var Uo,Bo,zo,Vo,Go,Ho,Wo=V.a.div.withConfig({componentId:"sc-1sUjjA"})(Uo=Uo||Object(E.__makeTemplateObject)(["margin-bottom:-16px;padding:5px 20px 0 20px;& > span{font-weight:normal;}"],[""])),Yo=V.a.p.withConfig({componentId:"sc-1sUjjA-1"})(Bo=Bo||Object(E.__makeTemplateObject)(["margin-bottom:-16px;padding:5px 20px 0 20px;& > span{font-weight:normal;display:block;img{width:240px;margin-top:10px;}}"],[""])),Ko=V.a.div.withConfig({componentId:"sc-1sUjjA-2"})(zo=zo||Object(E.__makeTemplateObject)(["padding:0 20px;"],[""])),$o=V.a.div.withConfig({componentId:"sc-1sUjjA-3"})(Vo=Vo||Object(E.__makeTemplateObject)(["color:#41464b;font-size:12px;line-height:17px;margin-bottom:",";"],["",""]),function(e){return e.isTeamCreator?"50px":"28px"}),qo=V()(or.a).withConfig({componentId:"sc-1sUjjA-4"})(Go=Go||Object(E.__makeTemplateObject)(["margin:",";display:block;height:40px;width:200px;"],["",""]),function(e){return e.isTeamCreator?"60px auto 0":"0 auto"}),Xo=i(524),Qo=i.n(Xo),Jo=(Ho=O.a.PureComponent,Object(E.__extends)(Zo,Ho),Zo.prototype.componentDidMount=function(){Object(te.a)("110053")},Zo.prototype.render=function(){var e=this.props.type,t=Wr[e];if(!e)return null;var n=e===Br.TEAM_CREATOR;return O.a.createElement(Ko,null,O.a.createElement($o,{isTeamCreator:n},n?g()("只需完善以下几项信息，即可获得石墨更有针对性的帮助和服务！"):g()("只需完善以下几项信息，让我们更好的为您服务！")),t.map(this.renderInput),O.a.createElement(qo,{type:"black",onClick:this.handleSubmit,disabled:this.state.submitting,isTeamCreator:n},n?g()("立即进入试用"):g()("开始免费试用")))},Zo.prototype.validate=function(){var e=this.props.type,t=this.state,n=t.formError,r=t.form,o=Wr[e],i=!0,a=Object(E.__assign)({},n);return o.forEach(function(e){var t=Vr[e].valid;if(t){var n=t(r[e]||"");i=i&&!n,a[e]=n}}),this.setState({formError:a}),i},Zo.prototype.createTeam=function(){return Object(E.__awaiter)(this,void 0,void 0,function(){var t,n;return Object(E.__generator)(this,function(e){switch(e.label){case 0:return t=this.state.form,n={name:t[Pr.companyName],type:t[Pr.companyType],scaleNum:Number(t[Pr.companySize]),info:t[Pr.question]},this.props.type===Br.PERSONAL_WITHOUT_MOBILE&&(n.mobile=t[Pr.mobile],n.code=t[Pr.verifyCode]),[4,this.props.dispatch(I(n))];case 1:return e.sent(),[2]}})})},Zo);function Zo(){var a=null!==Ho&&Ho.apply(this,arguments)||this;return a.state={submitting:!1,form:{},formError:{}},a.renderInput=function(e){var t=a.state,n=t.form,r=t.formError,o=Vr[e].component;return O.a.createElement(o,{dispatch:a.props.dispatch,value:n[e]||"",onChange:a.handleChange,key:e,error:r[e],mobile:n[Pr.mobile]})},a.handleChange=function(e,t){var n,r,o=Object(E.__assign)(Object(E.__assign)({},a.state.form),((n={})[e]=t,n)),i=Object(E.__assign)(Object(E.__assign)({},a.state.formError),((r={})[e]="",r));a.setState({form:o,formError:i})},a.handleSubmit=function(){return Object(E.__awaiter)(a,void 0,void 0,function(){var t,n,r,o,i,a,s,c;return Object(E.__generator)(this,function(e){switch(e.label){case 0:if(!this.validate())return[2];t=this.props,n=t.type,r=t.showInviteMemberModal,this.setState({submitting:!0}),e.label=1;case 1:return e.trys.push([1,7,,8]),n!==Br.TEAM_CREATOR?[3,4]:(o=this.state.form,i=this.props,a=i.userId,s=i.teamId,a&&s?[4,Qo.a.post("/trackservice/event",{event:"cominfo1010",data:{q_1:o.demands,q_2:o.range,q_3:o.character},userId:a,teamId:s})]:[3,3]);case 2:e.sent(),e.label=3;case 3:return[3,6];case 4:return[4,this.createTeam()];case 5:e.sent(),e.label=6;case 6:return Object(te.a)("110054"),r(),[3,8];case 7:return c=e.sent(),M.a.error(c&&c.message||g()("提交失败")),this.setState({submitting:!1}),[3,8];case 8:return[2]}})})},a}function ei(e){var t=e.link;return t?O.a.createElement(gi,null,O.a.createElement(_i,{value:t,type:"text",innerRef:function(e){return setTimeout(function(){return e&&e.focus()},0)}}),O.a.createElement("div",{onClick:function(){return Object(te.a)("110057")}},O.a.createElement(vi,{text:t},g()("复制链接")))):null}var ti,ni,ri,oi,ii,ai,si,ci,li,ui,pi,di=i(184),fi=V()(di.a).withConfig({componentId:"sc-1J9W52"})(ti=ti||Object(E.__makeTemplateObject)(["margin-bottom:-10px;.sm-tab-navtabs{margin-bottom:12px;border-bottom:1px solid #eeeeee;}"],[""])),mi=i(350),hi=i(354),bi=i(183),gi=V.a.div.withConfig({componentId:"sc-2kbvkz"})(ni=ni||Object(E.__makeTemplateObject)(["display:flex;align-items:center;border:1px solid #e5e5e5;border-radius:2px;"],[""])),_i=V()(bi.a).withConfig({componentId:"sc-2kbvkz-1"})(ri=ri||Object(E.__makeTemplateObject)(["flex:1 1 auto;.sm-input-wrapper{height:40px;border:none;border-radius:0;}"],[""])),vi=V()(hi.a).withConfig({componentId:"sc-2kbvkz-2"})(oi=oi||Object(E.__makeTemplateObject)(["box-sizing:border-box;width:104px;height:40px;display:inline-block;line-height:40px;text-align:center;border-left:1px solid #e5e5e5;background:#fff;cursor:pointer;"],[""])),yi=i(106),Ei=V.a.div.withConfig({componentId:"sc-EKmhy"})(ii=ii||Object(E.__makeTemplateObject)(["font-size:12px;color:#666666;margin-bottom:20px;"],[""])),Oi=V.a.div.withConfig({componentId:"sc-EKmhy-1"})(ai=ai||Object(E.__makeTemplateObject)(["height:auto;padding:10px 15px;border-radius:2px;box-shadow:inset 0 1px 4px 0 rgba(0,0,0,0.1);background-color:#ffffff;border:1px solid #e5e5e5;font-size:12px;"],[""])),xi=V.a.input.withConfig({componentId:"sc-EKmhy-2"})(si=si||Object(E.__makeTemplateObject)(["border-width:initial;border-style:none;border-color:initial;border-image:initial;outline:none;height:20px;color:#666666;width:100%;"],[""])),Ti=V.a.div.withConfig({componentId:"sc-EKmhy-3"})(ci=ci||Object(E.__makeTemplateObject)(["height:18px;line-height:18px;font-size:14px;color:#333333;padding:1px 6px;display:inline-block;border-radius:2px;background-color:#daeaff;margin-right:8px;margin-bottom:9px;"],[""])),Ci=V()(yi.a).withConfig({componentId:"sc-EKmhy-4"})(li=li||Object(E.__makeTemplateObject)(["margin-left:3px;width:9px;height:9px;cursor:pointer;&:hover{> path{fill:#6b6969;}}"],[""])),wi=V.a.div.withConfig({componentId:"sc-EKmhy-5"})(ui=ui||Object(E.__makeTemplateObject)(["color:#cd4747;font-size:12px;"],[""])),Si=V()(or.a).withConfig({componentId:"sc-EKmhy-6"})(pi=pi||Object(E.__makeTemplateObject)(["display:block;margin:40px auto 0;"],[""])),ji=i(523),Ii=i.n(ji),Ai=i(178),ki=i.n(Ai);function Ni(e){return/^((\+86)|(86))?1[0-9]{10}$/.test(e)}var Pi=new RegExp('^(([^<>()\\[\\]\\\\.,;:\\s@"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@"]+)*)|(".+"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$');function Ri(e){return(e=e.trim()).length<=255&&Pi.test(e)}var Di,Li,Mi,Fi,Ui=(Di=O.a.PureComponent,Object(E.__extends)(Bi,Di),Bi.prototype.render=function(){var n=this,e=this.state,t=e.sending,r=e.emailOrMobileList,o=e.inputEmailOrMobile,i=e.failedLists,a=e.inputingEmailOrMobileReady;return O.a.createElement("div",null,O.a.createElement(Ei,null,g()("请输入成员邮箱或手机号码，添加后成员将受到邀请邮件。")),O.a.createElement(Oi,null,O.a.createElement("div",null,r.map(function(e,t){return O.a.createElement(Ti,{key:t},O.a.createElement("span",null,e),O.a.createElement(Ci,{onClick:function(){return n.handleCancelEmailOrMobile(t)}}))})),O.a.createElement(xi,{type:"text",value:o,onChange:this.handleChange,onKeyDown:this.handleEnter,placeholder:g()("输入回车添加更多")})),0<i.length&&O.a.createElement(wi,null,g()(Fi=Fi||Object(E.__makeTemplateObject)([""," 邀请失败"],[""," 邀请失败"]),i.join(", "))),O.a.createElement(Si,{style:{width:"200px",height:"40px"},type:"black",disabled:!a&&r.length<1||t,onClick:this.handleSubmit},t?g()("正在添加..."):g()("添加到企业")))},Bi);function Bi(){var o=null!==Di&&Di.apply(this,arguments)||this;return o.state={inputEmailOrMobile:"",emailOrMobileList:[],failedLists:[],sending:!1,inputingEmailOrMobileReady:!1},o.handleChange=function(e){var t=e.target.value;o.setState({inputEmailOrMobile:t,inputingEmailOrMobileReady:Ni(t)||Ri(t)})},o.handleEnter=function(e){if(13===e.keyCode){var t=o.state,n=t.inputEmailOrMobile,r=t.emailOrMobileList;(Ni(n)||Ri(n))&&o.setState({inputEmailOrMobile:"",inputingEmailOrMobileReady:!1,emailOrMobileList:r.concat(n)})}},o.handleSubmit=function(){return Object(E.__awaiter)(o,void 0,void 0,function(){var t,n,r,o,i,a,s,c,l;return Object(E.__generator)(this,function(e){switch(e.label){case 0:t=this.state,n=t.inputEmailOrMobile,r=t.emailOrMobileList,o=(o=r.concat(n)).filter(function(e){return Ni(e)||Ri(e)}).map(function(e){return e.replace(/\s\n\t/g,"")}),o=Ii()(o),e.label=1;case 1:return e.trys.push([1,3,,4]),this.setState({sending:!0}),[4,this.props.inviteTeamMembers(o)];case 2:return i=e.sent().invitedAccounts,s=(a=void 0===i?[]:i).length,Object(te.a)("110058",{actionName:g()(Li=Li||Object(E.__makeTemplateObject)(["成功邀请","人"],["成功邀请","人"]),s)}),s&&M.a.success(g()(Mi=Mi||Object(E.__makeTemplateObject)(["成功添加 "," 人"],["成功添加 "," 人"]),s)),s<o.length&&(c=o.filter(function(e){return!ki()(a,e)}),this.setState({failedLists:c})),[3,4];case 3:return l=e.sent(),M.a.error(l&&l.message),[3,4];case 4:return this.setState({sending:!1}),[2]}})})},o.handleCancelEmailOrMobile=function(n){var e=o.state.emailOrMobileList.filter(function(e,t){return t!==n});o.setState({emailOrMobileList:e})},o}var zi,Vi=G.b.getHost,Gi=(zi=O.a.PureComponent,Object(E.__extends)(Hi,zi),Hi.prototype.componentDidMount=function(){return Object(E.__awaiter)(this,void 0,void 0,function(){var t;return Object(E.__generator)(this,function(e){switch(e.label){case 0:return Object(te.a)("110055"),[4,this.props.dispatch(Object(yr.b)())];case 1:return t=e.sent(),this.setState({inviteLink:Vi()+"/joinCompany/"+t}),[2]}})})},Hi.prototype.render=function(){var e=this.state.inviteLink;return O.a.createElement(fi,{defaultActiveKey:"1"},O.a.createElement(mi.a,{key:"1",tab:g()("邀请链接")},O.a.createElement(ei,{link:e})),O.a.createElement(mi.a,{key:"2",tab:g()("通过手机/邮箱邀请")},O.a.createElement(Ui,{inviteTeamMembers:this.inviteTeamMembers})))},Hi);function Hi(){var t=null!==zi&&zi.apply(this,arguments)||this;return t.state={inviteLink:""},t.inviteTeamMembers=function(e){return t.props.dispatch(Object(yr.d)(e))},t}var Wi=V.a.div.withConfig({componentId:"sc-2d_CWD"})($i=$i||Object(E.__makeTemplateObject)(["cursor:pointer;font-size:14px;color:#666;"],[""])),Yi=V.a.div.withConfig({componentId:"sc-2d_CWD-1"})(qi=qi||Object(E.__makeTemplateObject)(["margin-bottom:-8px;"],[""]));var Ki,$i,qi,Xi=(Ki=O.a.PureComponent,Object(E.__extends)(Qi,Ki),Qi.prototype.render=function(){var e=this.props,t=e.dispatch,n=e.visible,r=e.onClose;return O.a.createElement(B.a,{visible:n,width:520,title:O.a.createElement(Yi,null,g()("现在就邀请团队成员吧")),footer:O.a.createElement(Wi,{onClick:r},g()("暂不邀请")),maskClosable:!1,onCancel:r},O.a.createElement(Gi,{dispatch:t}))},Qi);function Qi(){return null!==Ki&&Ki.apply(this,arguments)||this}var Ji=i(522),Zi=i.n(Ji),ea=function(e){return e.type===Br.TEAM_CREATOR?O.a.createElement(Yo,null,O.a.createElement("span",null,g()("欢迎免费试用")),O.a.createElement("span",null,O.a.createElement("img",{src:Zi.a}))):O.a.createElement(Wo,null,O.a.createElement("span",null,g()("欢迎使用")," "),g()("石墨文档企业高级版"))};var ta,na=(ta=O.a.PureComponent,Object(E.__extends)(ra,ta),ra.prototype.render=function(){var e=this.props,t=e.type,n=e.visible,r=e.closable,o=e.dispatch,i=this.state.inviteMemberVisible;return O.a.createElement(O.a.Fragment,null,O.a.createElement(B.a,{visible:n,width:506,closable:r,maskClosable:!1,title:O.a.createElement(ea,{type:t}),footer:null,onCancel:this.handleClose},O.a.createElement(Jo,{type:t,showInviteMemberModal:this.handleInviteMemberModalOpen,dispatch:o})),O.a.createElement(Xi,{dispatch:o,visible:i,onClose:this.handleInviteMemberModalClose}))},ra);function ra(){var e=null!==ta&&ta.apply(this,arguments)||this;return e.state={inviteMemberVisible:!1},e.handleInviteMemberModalOpen=function(){e.props.onClose(!1,!0),e.setState({inviteMemberVisible:!0})},e.handleInviteMemberModalClose=function(){e.setState({inviteMemberVisible:!1})},e.handleClose=function(){e.props.onClose(!0)},e}var oa=i(45),ia=i(103),aa=i(57),sa=i(134);function ca(e){return(ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function la(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ua(e,t){return!t||"object"!==ca(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function pa(e){return(pa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function da(e,t){return(da=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var fa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ma=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ua(this,pa(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&da(e,t)}(t,O.a.Component),function(e,t,n){t&&la(e.prototype,t),n&&la(e,n)}(t,[{key:"render",value:function(){return O.a.createElement("svg",fa({width:"24",height:"9",viewBox:"0 0 24 9",xmlns:"http://www.w3.org/2000/svg"},this.props),O.a.createElement("path",{d:"M5.404 3.206l.01.052a.91.91 0 0 0 .175-.027l.282.002a.457.457 0 0 0 .096.016.15.15 0 0 0 .084-.032.373.373 0 0 1 .213-.049.63.63 0 0 1 .273.09l.316.056a.6.6 0 0 1 .02.12c0 .11-.057.195-.202.254l-.09-.051-.287.189-.179-.032-.107.05-.253-.032.061.013-.196.013-.008.042.009.182.126.185.009.139.215.326-.032.055.088.089.21.325.162.166.013.05.186.105.043.121.243.144.024.045c-.007.173-.121.295-.368.358l-.32-.157-.13-.01-.087-.08-.187-.024-.087-.161-.111-.065-.11-.198-.176-.205.017-.034-.089-.095-.002-.113-.129-.125-.182-.411-.091-.124-.027-.229-.084-.133-.157-.033-.267.108.017-.038-.216.069.01-.071a.786.786 0 0 1-.145.01.765.765 0 0 1-.144-.009l-.049-.006-.218.105-.2-.027-.012-.006-.187.084-.099-.042a.61.61 0 0 1-.252-.036l-.024-.005-.292.097-.066-.085-.119-.053-.026.017a4.381 4.381 0 0 1-.316.388l-.115.015c-.237.343-.38.52-.46.552l-.01-.008-.327.369.006-.023-.198.296-.356.194a.819.819 0 0 1-.154.019c-.126 0-.245-.046-.369-.198l.103-.203.011-.166.025-.019.062-.225.259-.028.073-.046c.059-.034.092-.084.138-.194.091-.026.144-.073.188-.176.15-.078.245-.198.321-.4l.129-.034.226-.276a.554.554 0 0 1-.1-.32l.171-.114.054-.22.325.031.064-.014c.034-.116.104-.2.178-.207l.045-.21.184-.097c.022-.014.058-.03.077-.003v-.054a.32.32 0 0 1 .057-.185c.113-.08.172-.19.217-.377l.092-.002.082-.106.026.017.234-.347.004.02.044.008.05-.293.026.016c.14-.15.212-.252.23-.32l.03.019L3.589.98c.152-.184.278-.28.357-.276l.238-.141.187.189.278.173.015.208a.522.522 0 0 1 .073.108c.09.11.142.223.154.335l.046.209.142.213.083.304.007.118.166.255H5.29l.09.101-.001.173.017.152-.017.078.026.026zm-.909.037l.107-.014c-.06-.053-.089-.13-.064-.184l-.088-.073-.036-.346-.116-.173-.023-.14.027-.008-.113-.046-.018-.3-.058-.099-.042-.021-.009.015-.21.26-.083.17-.165.135-.065.197-.178.052c-.032.195-.132.338-.272.396l-.075.198-.152.032.097.003a.843.843 0 0 0 .254.051l.014.005a.29.29 0 0 1 .13-.032.38.38 0 0 1 .156.038l.016.008c.04-.007.099-.01.18-.01.097 0 .17.003.21.01l.343-.031.165.106a.47.47 0 0 0 .134-.076l-.066-.123zM8.112.1V0l.019.003c.033.015.033.015.027.077C8.14.095 8.136.1 8.13.1h-.019zm1.931 4.585c0 .08-.03.148-.08.19a.986.986 0 0 1-.247.238l-.079.052-.1.124-.075.032-.148.089-.06-.006-.057.049a.515.515 0 0 0-.264.173.253.253 0 0 1-.146.054c-.029 0-.055-.004-.038-.016a.822.822 0 0 1-.42.097c-.147 0-.244-.013-.295-.042l-.18-.108-.062-.116v-.027c0-.062-.025-.11-.098-.18l-.024-.156-.084-.107-.046-.338-.009-.203.012-.157.02-.016a.31.31 0 0 1-.032-.145c.03-.25.045-.408.05-.449l-.079-.21.074-.115.027-.213L7.59 3l.05-.1-.048-.221.073-.105.01-.075.003-.335.023-.042-.009-.382.032-.362-.04-.092-.01-.278.03-.223-.03-.109.092-.584c.126-.03.216-.052.271-.067L8.091.01l-.015.014c-.006.06-.006.06.026.075l.01.002V0c.115 0 .209.061.283.19l.004.05.147.188-.074.149.023.063c-.013.12-.029.2-.045.215l.016.181.045.2-.06.173a.779.779 0 0 1-.046.279.94.94 0 0 1-.019.152l-.02.014.09.148-.034.07a.52.52 0 0 1 .02.111.26.26 0 0 1-.038.133l.018.101-.053.279-.002.205-.062.163.037.186-.043.365.033.082-.044.2-.02.264-.016.047c0 .103-.003.189-.012.235l.048.15-.023.107.058.148-.026-.003c.043.035.08.089.067.132l.096.002.062.054.089-.092.07-.006a.324.324 0 0 1 .097-.021l.017.001c.048-.01.085-.033.132-.086l.034-.009c.05-.077.13-.13.218-.147.03-.024.086-.071.152-.105 0-.106.065-.186.203-.239a.356.356 0 0 0 .187-.044c.133.02.22.055.263.114.04.056.06.15.06.286zm2.384-2.58l.077.093.195.07.105.134.234.155-.02-.008.205.102-.02.014c.056.042.097.097.105.142l.089.063.01.073.158.05-.015.145.076.084-.02.028.13.063c.011.13.047.238.117.355l-.015.028.105.131-.022.118.076.175-.01.148.064.018.033.067-.109.232.068.227-.03.038-.04.157-.094.146-.008-.022-.062.216-.134.005c-.087.08-.177.146-.303.201l-.03-.01-.145.047-.07.006-.209.062-.205-.094.004-.01-.134-.086.007.113-.233-.037-.27.042-.052-.068-.224.008-.042-.044c-.01.001-.01.001-.022-.041v.054c0 .06-.01.119-.028.154l.017.21-.061.054c.012.134.018.234.018.308l-.027.214.025.378-.063.046.036.162-.053.031.082.072-.002.12c.013.04.02.071.02.096 0 .074-.044.135-.1.121l.03.167-.038.048-.018.36c-.019.444-.122.677-.329.677-.043 0-.148-.024-.365-.127l.028-.258-.049-.427.084-.14.01-.19-.03-.302.069-.073-.078-.25.058-.069-.052-.214.07-.126a.185.185 0 0 0-.053-.078c-.045-.04-.066-.068-.066-.1 0-.045.034-.075.066-.038a.353.353 0 0 1-.012-.106c0-.083.019-.19.061-.28l-.06-.127.037-.075-.063-.144.07-.06-.035-.275.06-.338-.063-.166.108-.11-.12-.152.08-.113-.084-.089.011-.164.052-.175.002-.048.007-.024.002-.111.01-.01-.046-.172.046-.121-.046-.148.049-.087-.05-.078.028-.16-.028-.122.021-.06.04-.037-.366.09h-.008l-.006.004-.015.004h.012l-.124.095-.04-.02-.167.16-.027-.06-.115.111c-.31-.183-.466-.33-.466-.457 0-.086.033-.16.081-.177l.016-.181c.175-.1.341-.154.467-.145l.08-.074.27-.106.103-.078.23.022.015.016.14-.352.248.068.066.225.145-.087.133.108c.085 0 .166.016.269.07l-.019.06.113-.021.042.044c.042 0 .077.003.134.054l.19-.038zm.878 2.307l.01-.008-.053-.198.037-.039-.04-.089-.005-.073-.074-.149-.032-.091-.124-.22-.122-.11-.037-.126-.1-.052-.099-.17-.19-.001-.058-.125-.144-.007-.031-.092-.024-.008-.104-.005-.147.035-.027-.058-.143-.006-.001-.039-.104-.08.009.117-.02.149.022.08.138.174-.095.192.008.146-.045.254c.017.107.05.196.106.313l-.048.047c.018.02.018.02.024.053 0 .04-.03.075-.082.05l.07.131-.043.097-.018.099.028.14-.059.063.167.005a.27.27 0 0 1 .121-.023c.066 0 .126.022.144.054l.036-.009h.027c.023 0 .06.007.077.023a.273.273 0 0 1 .121-.032c.057 0 .11.014.135.036l.093.002.046.018.22-.048.134.085.04.013.129-.117.049-.165.016.046-.018-.123.058-.064.027-.048-.005-.047zM15.89.96l-.009.294.008.385.06.283-.041.083.015.176-.042.103.026.234-.05.146.024.06-.019.537.016.169-.042.035-.029.305-.034.115.03.272-.03.053-.072.129c.046-.013.062-.03.077-.095l.063-.06.057-.1.027-.193.092-.13.066-.2.122-.12.08-.21.045.04v-.085l.034-.147.083-.02.04-.121.05.025.018-.132.02-.124.152-.065.027.013.015-.147.05.001.11-.184.081.008.076-.021c0-.047.004-.081.038-.136l.088-.037c.114-.095.224-.153.288-.124l.028-.063c.163-.081.276-.122.346-.122.106 0 .2.049.26.129.081.03.135.087.137.14l.102.086.02.109.143.234v.721l-.013.294.04.101-.001.677-.026.106v.173l.026.215-.037.148a.58.58 0 0 1 .032.203l.114.134-.02.032.054.053a.933.933 0 0 1 .047.23c0 .268-.152.41-.437.41a.349.349 0 0 1-.32-.174c-.065-.092-.118-.256-.162-.506l.007-.152a.124.124 0 0 0 .02-.064c0-.006-.002-.016 0-.017l-.13-.24.086-.139-.034-.214.033-.092v-.125l.02-.09-.034-.192.032-.061v-.298l.01-.376-.061-.323.035-.079.018-.2-.086.071-.178.066-.313.36-.061-.032-.156.247-.055.142-.078.026-.095.147-.043.093-.108.332-.153.18-.053.151-.072.041-.051.245-.164.129-.077.379-.036-.028-.029.057-.169.288-.149.158-.19.198-.129-.043-.157-.02-.116-.16-.1-.336-.018-.47-.027-.17.026-.17.02-.473.034.026.047-.632.035-.095-.004-.239.021.01.04-.3.034-.067-.03-.166.027.009-.026-.06.044-.21-.084-.122.058-.102-.006-.245-.09-.312.062-.035-.065-.256.004-.124-.03-.075-.043-.28-.042-.128-.13-.315.095-.12.133-.178h.081c.148 0 .263.056.328.155l.143.122.039.14.151.165-.028.1.056.211.018.032zm6.593.618l.165.16.149.036.38-.056.092.202.135.054.02.076-.081.071.062.265-.106.114-.051.203h-.023l.021.064c0 .096-.025.172-.071.217l-.01-.001-.004.016a.36.36 0 0 1 .031.137c0 .037-.004.065-.01.05l.007.066-.034.07.013.155-.058.027.016.103.05.133-.065.035-.004.164-.061.11.037.188-.065.001.104.13-.118.191.078.05-.06.192v.036c0 .046-.004.083-.012.083l-.033-.007.18.04.12.23-.112.063.148.019a.432.432 0 0 1 .053.246l-.135.135a.823.823 0 0 1-.192.135l-.211.072.016-.037-.154.044-.29-.357.001-.139a1.214 1.214 0 0 1-.056-.347v-.049l-.053-.545.073-.357.037-.202-.149.242-.106.263-.052.018-.134.208-.216.195-.073.12-.184.152-.065.141-.278.171-.333.358-.15.027-.15.1c-.165-.007-.293-.07-.362-.176-.285-.14-.438-.344-.427-.655l.022.024-.01-.058-.004-.091-.055-.158.05-.11.02-.195.061-.287.005-.014a.13.13 0 0 1-.014-.058c0-.03.007-.065.023-.068a.217.217 0 0 1-.014-.094c0-.05.02-.123.084-.253a.161.161 0 0 1-.02-.08c0-.031.003-.056.01-.038a.249.249 0 0 1-.01-.079c0-.092.046-.163.11-.176.02-.067.055-.132.104-.14l-.042-.13.097-.103v-.036c0-.126.043-.242.117-.312l.006-.2.021-.001.005-.005c-.01-.021-.01-.021-.014-.049 0-.049.017-.092.036-.09l.004-.073c.026-.066.092-.16.197-.283.1-.118.173-.22.298-.318l-.01.034.1-.045.043-.018.32-.139.741.086-.04.014.206.044c.128 0 .224.036.23.121l.083-.072zm-2 3.406l.024-.133.087.011.042-.082.546-.44.024.01.093-.181c.033-.011.082-.034.122-.043l.101-.176.023.059.015-.211.088.009a.875.875 0 0 1 .149-.197l.455-.606.068-.099-.003-.075.056-.08.034-.128.064-.04.01-.099.006.03-.005-.04-.091-.027-.255-.215-.173-.026-.177-.014-.081.017-.057-.039-.194-.08.004.113-.185.056-.06.061h-.01c-.105.088-.177.16-.209.201l-.065.222-.041.032.08.195-.14.055.017.083a.767.767 0 0 0-.103.34l-.06.058-.014.195-.06.059-.04.112-.004-.024-.007.152-.02.019c0 .076-.006.138-.021.152l.016.085-.084.122.035.11-.057.045.055.219-.088.09.018.173c.03-.03.059-.055.073-.03z",fill:"#D6B184"}))}}]),t}(),ha=i(525),ba=i(34);function ga(e){return(ga="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function va(e,t){return!t||"object"!==ga(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ya(e){return(ya=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ea(e,t){return(Ea=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Oa,xa,Ta,Ca,wa,Sa,ja,Ia,Aa,ka=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Na=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),va(this,ya(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ea(e,t)}(t,O.a.Component),function(e,t,n){t&&_a(e.prototype,t),n&&_a(e,n)}(t,[{key:"render",value:function(){return O.a.createElement("svg",ka({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 23 32"},this.props),O.a.createElement("path",{d:"M0 1.455C0 .582.582 0 1.455 0h20.364c.873 0 1.455.582 1.455 1.455v29.091c0 .873-.582 1.455-1.455 1.455H1.455C.582 32.001 0 31.419 0 30.546V1.455zm2.909 1.454v20.364h17.455V2.909H2.909zm7.273 24.727c0 .873.582 1.455 1.455 1.455s1.455-.582 1.455-1.455c0-.873-.582-1.455-1.455-1.455s-1.455.727-1.455 1.455z"}))}}]),t}(),Pa=i(39),Ra=V.a.div.withConfig({componentId:"sc-3vHxiq"})(Oa=Oa||Object(E.__makeTemplateObject)(["vertical-align:top;"],[""])),Da=V.a.img.withConfig({componentId:"sc-3vHxiq-1"})(xa=xa||Object(E.__makeTemplateObject)(["display:block;width:20px;height:20px;border-radius:50%;cursor:pointer;background-color:",";-webkit-user-drag:none;&:hover{box-shadow:0 1px 2px #888;}&:hover:active{opacity:1;}"],["",""]),function(e){return e.loaded?"#fff":"#ccc"}),La=V()(ba.a).withConfig({componentId:"sc-3vHxiq-2"})(Ta=Ta||Object(E.__makeTemplateObject)(["width:240px;padding:10px 0;"],[""])),Ma=V()(er.a).withConfig({componentId:"sc-3vHxiq-3"})(Ca=Ca||Object(E.__makeTemplateObject)(["padding-right:15px;color:#a5a5a5;cursor:default;user-select:none;text-overflow:ellipsis;overflow:hidden;&:hover{background:transparent;}"],[""])),Fa=V()(er.a).withConfig({componentId:"sc-3vHxiq-4"})(wa=wa||Object(E.__makeTemplateObject)(["display:flex;align-items:center;flex-direction:row;padding:6px 6px 6px 20px;"],[""])),Ua=(V.a.span.withConfig({componentId:"sc-3vHxiq-5"})(Sa=Sa||Object(E.__makeTemplateObject)(["display:inline-block;margin-left:-20px;padding-left:20px;"],[""])),V()(Na).withConfig({componentId:"sc-3vHxiq-6"})(ja=ja||Object(E.__makeTemplateObject)(["display:inline-block;width:11px;height:11px;margin-left:8px;vertical-align:middle;> path{fill:#666;}"],[""]))),Ba=V.a.a.attrs({target:function(){return Object(Pa.isDingtalk)()?"_self":"_blank"}}).withConfig({componentId:"sc-3vHxiq-7"})(Ia=Ia||Object(E.__makeTemplateObject)(["color:#73a2e3;cursor:pointer;text-decoration:none;&:hover{color:#4682c1;}"],[""])),za=G.g.openPayment,Va=G.a.getDistanceBetweenDays,Ga={personal_free:g()("基础版"),personal_premium:g()("远程办公版"),enterprise_standard:g()("企业版"),enterprise_dingding:g()("企业版"),enterprise_expired:g()("企业版")},Ha=(Aa=d.Component,Object(E.__extends)(Wa,Aa),Wa.prototype.render=function(){var e=this.props,t=e.accountType,n=e.team,r=e.email,o=e.isOfficial,i=e.isNewDing,a=e.isEnterprisePremium,s=e.name;return Object(F.isSelfHosted)()?d.createElement(Xa,null,r):d.createElement("div",null,d.createElement(Xa,null,s),!i&&d.createElement(Xa,null,r||d.createElement(Ba,{href:"/profile#setting-email"},g()("设置您的登录邮箱"))),d.createElement("span",null,d.createElement($a,{accountType:t,official:o,enterprisePremium:a,expiredAt:this.getExpiredAt(),onClick:this.handlePayment})),d.createElement("span",{style:{paddingLeft:"4px"}},d.createElement(qa,{accountType:t,official:o,enterprisePremium:a,team:n,onClick:this.props.openUpdateTeamModal})))},Wa=Object(E.__decorate)([Object(R.a)(void 0)],Wa));function Wa(){var c=null!==Aa&&Aa.apply(this,arguments)||this;return c.getExpiredAt=function(){var e=c.props.team;if(e&&e.membership){var t=e.membership;return t.expiredAt?t.expiredAt:t.get?t.get("expiredAt"):void 0}},c.handlePayment=function(e){e.preventDefault(),e.stopPropagation();var t=c.props,n=t.myTeamOrders,r=void 0===n?[]:n,o=t.isEnterprisePremium,i=t.isNewDing,a=r[0],s=!!a&&("offline"===a.channel&&!a.isPaid);za("/enterprise/billing"+(s?"?dialog=purchase&targetAccountType="+(o?"enterprise_premium":"enterprise_standard"):""),!!i,!0)},c}var Ya,Ka,$a=function(e){var t=e.accountType,n=e.official,r=e.enterprisePremium,o=e.expiredAt,i=e.onClick;return"enterprise_standard"===t&&Va(o)<=30?d.createElement("span",null,d.createElement(Ba,{href:"javascript:;",onClick:i},g()("续费")),d.createElement("span",{style:{marginLeft:"5px"}},r?g()("企业高级版"):g()("企业版"))):"enterprise_standard"===t&&!n||"enterprise_expired"===t?d.createElement(Ba,{href:"javascript:",onClick:i},g()("购买"),r?g()("企业高级版"):g()("企业版")):r?g()("企业高级版"):t?Ga[t]:""},qa=function(e){var t=e.accountType,n=e.official,r=e.enterprisePremium,o=e.team,i=e.onClick,a=null;return"personal_free"===t&&(a=n?d.createElement("span",null,d.createElement(Ba,{href:"/payment?renew"},g()("续费")),d.createElement("span",null,g()("或")),d.createElement(Ba,{onClick:i},g()("升级到企业版"))):d.createElement(Ba,{href:"/payment"},g()("升级到企业版或高级版"))),"personal_premium"===t&&(a=d.createElement("span",null,d.createElement(Ba,{href:"/payment?renew"},g()("续费")),d.createElement("span",null,g()("或")),d.createElement(Ba,{onClick:i},g()("升级到企业版")))),"enterprise_expired"===t&&(a=d.createElement("span",null,r?g()("企业高级版"):g()("企业版"),g()("已过期"))),"enterprise_standard"===t&&(a=n?d.createElement("span",null,r?o&&o.name:d.createElement(Ba,{href:"/pricing"},g()("升级企业高级版"))):r?d.createElement("span",null,o&&o.name):d.createElement("span",null,g()("企业版试用中"))),a},Xa=V.a.div.withConfig({componentId:"sc-gtwTE"})(Ya=Ya||Object(E.__makeTemplateObject)(["display:block;line-height:2;text-overflow:ellipsis;overflow:hidden;> span{display:inline-block;line-height:1;margin-bottom:8px;&:last-of-type{padding-left:10px;margin-left:10px;border-left:1px solid #e5e5e5;border-left:1px solid #ccc;}}"],[""])),Qa=i(852),Ja=(Ka=d.Component,Object(E.__extends)(Za,Ka),Za.prototype.componentDidMount=function(){var e=this;this.props.dispatch(Object(Qa.a)()).catch(function(){e.props.dispatch({type:f.a.SPACE.GET_SIZE,payload:{userUsedSize:1<<20,teamUsedSize:3.61*(1<<30),totalSize:15*(1<<30)}})})},Za.prototype.render=function(){var e=this.props.size;return e?d.createElement(ts,null,d.createElement("div",{className:"percent-bar"},d.createElement("div",{className:"used",style:{width:e.teamUsedSize/e.totalSize*100+"%"}})),d.createElement("div",{className:"usage-text"},d.createElement("span",null,(e.teamUsedSize/(1<<30)).toFixed(1),"G")," |"," ",d.createElement("span",null,Math.max((e.totalSize-e.teamUsedSize)/(1<<30),0).toFixed(1),"G"))):null},Za=Object(E.__decorate)([Object(R.a)(function(e){return{size:e.spaces.size}})],Za));function Za(){return null!==Ka&&Ka.apply(this,arguments)||this}var es,ts=V.a.div.withConfig({componentId:"sc-FON-S"})(es=es||Object(E.__makeTemplateObject)(["padding-top:5px;.percent-bar{width:100%;height:3px;background-color:#e5e5e5;position:relative;overflow:hidden;.used{position:absolute;height:3px;background-color:#676b6f;}}.usage-text{padding-top:4px;}"],[""])),ns=0,rs=null,os=!1;function is(){return("string"==typeof __LANG__?__LANG__:document.documentElement.lang)||"zh-CN"}var as,ss=G.g.isNewDing,cs=G.f.linkTo,ls={"zh-CN":"简体中文",en:"English",jp:"日本語"},us=(as=O.a.PureComponent,Object(E.__extends)(ps,as),ps.prototype.componentDidMount=function(){return Object(E.__awaiter)(this,void 0,void 0,function(){var t,n;return Object(E.__generator)(this,function(e){switch(e.label){case 0:return t=this.props.user.membership.accountType,!Object(F.isSelfHosted)()&&0<=t.indexOf("enterprise")?[4,this.props.dispatch(Object(C.get)("billing/v1/charges?type=team"))]:[3,2];case 1:n=e.sent(),this.setState({myTeamOrders:n||[]}),e.label=2;case 2:return[2]}})})},ps.prototype.render=function(){var e=this.props,t=e.user,n=e.dispatch,r=e.inviteInfo,o=this.state,i=o.avatarLoaded,a=o.inviteFriendModalVisible,s=o.teamInfoModalType,c=o.teamInfoModalVisible,l=t.avatar;return O.a.createElement(Ra,{"data-test":"account-icon"},O.a.createElement(oa.a,{showTip:!0,trigger:["hover"],placement:"bottomRight",overlay:this.renderOverlay()},O.a.createElement(Da,{src:l,onLoad:this.handleLoadAvatar,loaded:i,onClick:this.handleDebugger})),O.a.createElement(Mo,{dispatch:n,inviteInfo:r,visible:a,onClose:this.handleCloseInviteFriendModal}),O.a.createElement(na,{dispatch:n,visible:c,type:s,onClose:this.handleCloseTeamInfoModal}))},ps.prototype.renderOverlay=function(){var e=this.props,t=e.user,n=e.team,r=t.name,o=t.email,i=t.membership,a=t.teamRole,s=i.accountType,c=i.isOfficial,l=i.isEnterprisePremium,u=this.state.myTeamOrders,p=!Object(F.isSelfHosted)()&&!ss(t),d=p,f=p&&!this.dingtalkPc,m=!Object(F.isSelfHosted)()||Object(F.getBoolean)("SELF_HOSTED_ACCOUNT_SETTINGS"),h=!this.dingtalkPc&&(!Object(F.isSelfHosted)()||Object(F.getBoolean)("SELF_HOSTED_LOGOUT")),b=Object(F.isSelfHosted)()?{email:o}:{accountType:s,team:n,email:o,isOfficial:c,myTeamOrders:u,isNewDing:ss(t),isEnterprisePremium:l,name:r};return O.a.createElement("div",{"data-test":"usermenu-container"},O.a.createElement(La,{onClick:this.handleMenuClick,placement:"bottomRight",mode:"vertical-left",selectedKeys:[]},O.a.createElement(Ma,{key:"account-info"},O.a.createElement(Ha,Object(E.__assign)({},b,{openUpdateTeamModal:this.handleOpenTeamInfoModal})),O.a.createElement(Ja,null)),O.a.createElement(ia.a,null),O.a.createElement(aa.SubMenu,{title:g()("界面语言 ")+ls[is()],key:"lang",trigger:"click"},this.renderLangMenuItem("zh-CN"),this.renderLangMenuItem("en",!0),this.renderLangMenuItem("jp")),m&&O.a.createElement(er.a,{key:"profile"},g()("帐号设置")),this.renderManageSettingItem(s,a),p&&O.a.createElement(ia.a,null),p&&O.a.createElement(er.a,{key:"download"},g()("石墨文档 App"),O.a.createElement(Ua,null)),f&&O.a.createElement(er.a,{key:"downloadWechat"},g()("石墨文档小程序")),d&&O.a.createElement(er.a,{key:"homepage"},O.a.createElement("span",null,g()("前往官网"))),d&&O.a.createElement(er.a,{key:"help"},g()("使用帮助")),h&&O.a.createElement(ia.a,null),h&&O.a.createElement(er.a,{key:"logout"},g()("退出登录"))))},ps.prototype.renderLangMenuItem=function(e,t){return O.a.createElement(Fa,{key:"lang-"+e},ls[e],t&&O.a.createElement(ma,{style:{marginLeft:4,marginTop:-4},width:30}),O.a.createElement("div",{style:{flex:1,display:"flex",minWidth:"40px"}}),is()===e&&O.a.createElement(sa.a,{width:15}))},ps.prototype.renderManageSettingItem=function(e,t){return e&&0<=e.indexOf("enterprise")?O.a.createElement(er.a,{key:"enterprise"},"member"===t?g()("我的企业"):g()("企业管理")):null},ps.prototype.recordLocale=function(e){ha.a.set("SM_LOCALE",e,{path:"/",maxAge:31536e4}),location.reload()},ps=Object(E.__decorate)([Object(R.a)(function(e){var t=Object(y.a)(e);return{user:t,team:Object(P.b)(e).get(t.team),inviteInfo:e.wechat.inviteInfo}})],ps));function ps(){var r=null!==as&&as.apply(this,arguments)||this;return r.state={avatarLoaded:!1,myTeamOrders:[],inviteFriendModalVisible:!1,teamInfoModalVisible:!1,teamInfoModalType:Br.PERSONAL_WITH_MOBILE},r.dingtalkPc=Object(x.a)(),r.handleLoadAvatar=function(){r.setState({avatarLoaded:!0})},r.handleMenuClick=function(e){var t=e.key;if(0!==t.indexOf("lang-"))switch(r.props.onMenuClick&&r.props.onMenuClick(t),t){case"homepage":var n=Object(F.isSelfHosted)()?"/dashboard":"/welcome";cs(n);break;case"download":case"downloadWechat":new Nn(Object(E.__assign)(Object(E.__assign)({},Zn),{WECHAT_QRCODE_URL:r.dingtalkPc?"":Zn.WECHAT_QRCODE_URL,DEFAULT_TAB:"download"===t?an.App:an.Wechat})).open();break;case"invite":r.setState({inviteFriendModalVisible:!0});break;case"profile":case"enterprise":case"help":case"logout":cs("/"+t)}else r.recordLocale(t.substr(5))},r.handleCloseInviteFriendModal=function(){r.setState({inviteFriendModalVisible:!1})},r.handleCloseTeamInfoModal=function(){r.setState({teamInfoModalVisible:!1})},r.handleOpenTeamInfoModal=function(){var e=r.props.user,t=!(!e||!e.mobileAccount)?Br.PERSONAL_WITH_MOBILE:Br.PERSONAL_WITHOUT_MOBILE;r.setState({teamInfoModalVisible:!0,teamInfoModalType:t})},r.handleDebugger=function(){window.eruda||(ns++,rs&&clearTimeout(rs),rs=+setTimeout(function(){ns=0},5e3),10<=ns&&function(){if(!os){os=!0;var e=document.createElement("script");e.src="https://assets-cdn.shimo.im/debug/eruda.min.js",e.onload=function(){eruda.init()},e.onerror=function(){window.eruda||(window.eruda={})},document.body.appendChild(e)}}())},r}var ds,fs,ms,hs,bs,gs,_s,vs,ys,Es=i(66),Os=i(43),xs=i.n(Os),Ts=G.c.typeToText,Cs=G.a.formatDate,ws=G.a.isSame;function Ss(){return function(o){return p=O.a.PureComponent,Object(E.__extends)(e,p),e.prototype.componentDidMount=function(){var r=this;this.props.collab&&this.bindCollaborationEvents(),window.onbeforeunload=function(e){e=e||window.event;var t=r.props.online;if("fail"===r.state.saveStatus&&!t){var n=g()("当前页面存在未同步离线数据，离开页面可能导致数据同步失败，确定要离开吗？");return e.returnValue=n}}},e.prototype.componentWillUnmount=function(){this.toastInstance=null,this.props.collab&&this.props.collab.off("saveStatusChange",this.handleSaveStatusChange),window.onbeforeunload=null},e.prototype.componentDidUpdate=function(e){!e.collab&&this.props.collab&&this.bindCollaborationEvents()},e.prototype.render=function(){var e=this.state,t=e.saveStatus,n=e.saveStatusText,r=e.offline;return O.a.createElement(o,Object(E.__assign)({},this.props,{saveOffline:r,saveStatus:t,saveStatusText:n}))},e;function e(e){var r=p.call(this,e)||this;r.state={saveStatus:"",saveStatusText:"",offline:!1,lastUpdateTime:""},r.timerId=0,r.existUnsavedContent=!1,r.savingOfflineAlert=!1,r.syncOfflineAlert=!1,r.syncOfflineSuccessAlert=!1,r.fileTypeName=Ts(r.props.file.type),r.toastInstance=null,r.bindCollaborationEvents=function(){r.props.collab.on("saveStatusChange",r.handleSaveStatusChange)},r.handleSaveStatusChange=function(e){switch(e){case Es.Status.ONLINE:r.startSaveOnline();break;case Es.Status.ONLINE_SAVING:r.savingOnline();break;case Es.Status.ONLINE_SAVED:r.saveOnlineSuccess();break;case Es.Status.ONLINE_SAVE_FAILED:r.saveOnlineFailed();break;case Es.Status.OFFLINE:r.startSaveOffline();break;case Es.Status.OFFLINE_SAVING:r.savingOffline();break;case Es.Status.OFFLINE_SAVED:r.saveOfflineSuccess();break;case Es.Status.OFFLINE_SAVE_FAILED:r.saveOfflineFailed();break;case Es.Status.SERVER_CHANGE_APPLIED:r.syncDataFromServer()}},r.startSaveOnline=function(){if(r.state.offline&&!r.existUnsavedContent){var e=g()(ds=ds||Object(E.__makeTemplateObject)(["","将自动保存"],["","将自动保存"]),r.fileTypeName);r.closeToast(),r.setState({saveStatusText:e})}r.setState({offline:!1})},r.savingOnline=function(){var e=r.props.disableOfflineSync;r.destroyTimerTick();var t=g()("正在保存...");r.existUnsavedContent&&!e&&(t=g()("网络连接已恢复，同步离线数据中..."),r.syncOfflineAlert&&(r.closeToast(),r.toastInstance=M.a.success({content:t,autoClose:3e3}),r.syncOfflineAlert=!1)),r.setState({offline:!1,saveStatusText:t,saveStatus:"loading"})},r.saveOnlineSuccess=function(){var e=r.props.disableOfflineSync,t=g()("自动保存成功");r.existUnsavedContent&&!e&&(t=g()(fs=fs||Object(E.__makeTemplateObject)(["离线数据同步成功， ","将自动保存"],["离线数据同步成功， ","将自动保存"]),r.fileTypeName),r.syncOfflineSuccessAlert&&(window.setTimeout(function(){r.closeToast(),r.toastInstance=M.a.success({content:t,autoClose:3e3})},500),r.syncOfflineSuccessAlert=!1)),r.setState({offline:!1,saveStatus:"success",saveStatusText:t,lastUpdateTime:(new Date).toString()}),r.existUnsavedContent=!1,r.createTimerTick()},r.saveOnlineFailed=function(){r.setState({offline:!1,saveStatus:"fail",saveStatusText:g()("同步失败")}),r.closeToast(),r.toastInstance=M.a.error({content:g()("保存失败，请复制当前编辑数据，刷新后继续使用"),autoClose:!1})},r.startSaveOffline=function(){var e=r.props.disableOfflineSync?g()(ms=ms||Object(E.__makeTemplateObject)(["未连接网络无法继续编辑，请检查网络连接。"],["未连接网络无法继续编辑，请检查网络连接。"])):g()(hs=hs||Object(E.__makeTemplateObject)(["未连接到网络，","将离线保存"],["未连接到网络，","将离线保存"]),r.fileTypeName);r.setState({offline:!0,saveStatus:"success",saveStatusText:e}),r.savingOfflineAlert=!0,r.syncOfflineAlert=!0,r.syncOfflineSuccessAlert=!0},r.savingOffline=function(){if(!r.props.disableOfflineSync){r.savingOfflineAlert&&(r.toastInstance=M.a.warning({content:g()(bs=bs||Object(E.__makeTemplateObject)(["网络连接已断开，所有编辑将会离线保存"],["网络连接已断开，所有编辑将会离线保存"])),autoClose:!1,operation:{text:g()("知道了"),callback:function(){r.closeToast()}}}),r.savingOfflineAlert=!1),r.destroyTimerTick();var e=g()("正在保存离线内容...");r.setState({offline:!0,saveStatus:"loading",saveStatusText:e})}},r.saveOfflineSuccess=function(){r.props.disableOfflineSync||(r.setState({offline:!0,saveStatus:"success",saveStatusText:g()("编辑已离线保存，连接到网络后会自动同步")}),r.existUnsavedContent=!0)},r.saveOfflineFailed=function(){r.props.disableOfflineSync||r.setState({offline:!0,saveStatus:"fail",saveStatusText:g()("离线保存失败")})},r.syncDataFromServer=function(){r.destroyTimerTick(),r.setState({offline:!1,saveStatusText:r.fileTypeName+g()("将实时更新"),lastUpdateTime:(new Date).toString()}),r.createTimerTick()},r.closeToast=function(){r.toastInstance&&r.toastInstance.close(),r.toastInstance=null},r.createTimerTick=function(){r.timerId=window.setInterval(function(){var e=r.state.lastUpdateTime;if(e){var t=Cs(e)===g()("刚刚")?g()("刚刚更新"):g()(gs=gs||Object(E.__makeTemplateObject)([""," 更新"],[""," 更新"]),Cs(r.state.lastUpdateTime)),n=g()(_s=_s||Object(E.__makeTemplateObject)(["","，","将自动保存"],["","，","将自动保存"]),t,r.fileTypeName);r.setState({offline:!1,saveStatusText:n})}},18e5)},r.destroyTimerTick=function(){r.timerId&&clearInterval(r.timerId)};var t=e.file,n=t.updatedAt||(new Date).toString(),o=L()(t,"permissions.editable",!1),i=L()(t,"permissions.commentable",!1),a=!o&&!i,s=ws(t.createdAt,n),c=Cs(n,xs()(),a?0:6e5),l=c===g()("刚刚")?g()("刚刚更新"):g()(vs=vs||Object(E.__makeTemplateObject)([""," 更新"],[""," 更新"]),c),u=a?l:g()(ys=ys||Object(E.__makeTemplateObject)(["","","将自动保存"],["","","将自动保存"]),s?l+"，":"",r.fileTypeName);return r.state.saveStatusText=u,r.state.lastUpdateTime=n,r}var p}}function js(e){return(js="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Is(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function As(e,t){return!t||"object"!==js(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ks(e){return(ks=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ns(e,t){return(Ns=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ps=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rs=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),As(this,ks(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ns(e,t)}(t,O.a.Component),function(e,t,n){t&&Is(e.prototype,t),n&&Is(e,n)}(t,[{key:"render",value:function(){return O.a.createElement("svg",Ps({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 14"},this.props),O.a.createElement("g",{fill:"#a5a5a5"},O.a.createElement("path",{d:"M1.1 4.2C2.6 2.8 4.7 2 7 2c2.3 0 4.4.9 6 2.3l-.7.7C10.9 3.8 9 3 7 3s-3.9.8-5.3 2l-.6-.8zm2 2.3C4.1 5.6 5.5 5 7 5s2.9.6 4 1.5l-.7.7C9.4 6.5 8.3 6 7 6c-1.3 0-2.4.5-3.3 1.2l-.6-.7z",opacity:".3"}),O.a.createElement("path",{d:"M5 8.7c.6-.4 1.3-.7 2-.7s1.4.3 2 .7l-2 2.2-2-2.2z"})))}}]),t}();function Ds(e){return(Ds="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ls(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ms(e,t){return!t||"object"!==Ds(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Fs(e){return(Fs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Us(e,t){return(Us=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Bs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zs=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ms(this,Fs(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Us(e,t)}(t,O.a.Component),function(e,t,n){t&&Ls(e.prototype,t),n&&Ls(e,n)}(t,[{key:"render",value:function(){return O.a.createElement("svg",Bs({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 14"},this.props),O.a.createElement("path",{d:"M7 13c-3.3 0-6-2.7-6-6s2.7-6 6-6 6 2.7 6 6-2.7 6-6 6zm0-1c2.8 0 5-2.2 5-5S9.8 2 7 2 2 4.2 2 7s2.2 5 5 5zm2.2-8l.8.4L6.1 10 4 7l.7-.6L6.1 8l3.1-4z",fill:"#7a9880"}))}}]),t}();function Vs(e){return(Vs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hs(e,t){return!t||"object"!==Vs(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Ws(e){return(Ws=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ys(e,t){return(Ys=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ks=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Hs(this,Ws(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ys(e,t)}(t,O.a.Component),function(e,t,n){t&&Gs(e.prototype,t),n&&Gs(e,n)}(t,[{key:"render",value:function(){return O.a.createElement("svg",Ks({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 14"},this.props),O.a.createElement("path",{d:"M7 13c-3.3 0-6-2.7-6-6s2.7-6 6-6 6 2.7 6 6-2.7 6-6 6zm0-1c2.8 0 5-2.2 5-5S9.8 2 7 2 2 4.2 2 7s2.2 5 5 5zm0-8c.5 0 .9.4.9.9v.2L7.4 7h-.8l-.5-1.9c-.1-.5.2-1 .7-1.1H7zm0 4c.6 0 1 .4 1 1s-.4 1-1 1-1-.4-1-1 .4-1 1-1z",fill:"#e5bf52"}))}}]),t}();function qs(e){return(qs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qs(e,t){return!t||"object"!==qs(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Js(e){return(Js=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zs(e,t){return(Zs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ec(e){var t=e.status,n=e.offline,r=e.previewHeader;return"loading"===t?O.a.createElement(mc,{width:"12px",height:"12px"}):"success"!==t||n||r?"success"===t&&n?O.a.createElement(gc,{width:"12px",height:"12px"}):"fail"===t?O.a.createElement(bc,{width:"12px",height:"12px"}):null:O.a.createElement(hc,{width:"12px",height:"12px"})}function tc(e){var t=e.status,n=e.text,r=e.offline,o=e.previewHeader;return O.a.createElement(pc,{"data-test":"file-header-status-bar"},O.a.createElement(ec,{status:t,offline:r,previewHeader:!!o}),n)}var nc,rc,oc,ic,ac,sc,cc,lc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uc=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Qs(this,Js(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zs(e,t)}(t,O.a.Component),function(e,t,n){t&&Xs(e.prototype,t),n&&Xs(e,n)}(t,[{key:"render",value:function(){return O.a.createElement("svg",lc({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 14"},this.props),O.a.createElement("path",{d:"M2 7c0-2.8 2.2-5 5-5 1.5 0 2.8.7 3.7 1.7l-.8.5C9.1 3.5 8.1 3 7 3 4.8 3 3 4.8 3 7h1L2.5 9 1 7h1zm10 0c0 2.8-2.2 5-5 5-1.5 0-2.8-.7-3.7-1.7l.9-.5c.7.7 1.7 1.2 2.8 1.2 2.2 0 4-1.8 4-4h-1l1.5-2L13 7h-1z",fill:"#ccc"}))}}]),t}(),pc=V.a.div.withConfig({componentId:"sc-dN-sE"})(nc=nc||Object(E.__makeTemplateObject)(["position:relative;height:12px;line-height:12px;margin:19px 0 19px 20px;font-size:12px;color:",";"],["",""]),function(e){return e.warning?"#666":"#a5a5a5"}),dc=Object(z.keyframes)(rc=rc||Object(E.__makeTemplateObject)(["from{transform:rotate(0);}50%{transform:rotate(180deg);}to{transform:rotate(360deg);}"],[""])),fc=Object(z.keyframes)(oc=oc||Object(E.__makeTemplateObject)(["from{opacity:0;transform:scale(0.75);}to{opacity:1;transform:scale(1);}"],[""])),mc=V()(uc).withConfig({componentId:"sc-dN-sE-1"})(ic=ic||Object(E.__makeTemplateObject)(["vertical-align:bottom;margin-right:5px;animation:"," 1s infinite linear;"],["",""]),dc),hc=V()(zs).withConfig({componentId:"sc-dN-sE-2"})(ac=ac||Object(E.__makeTemplateObject)(["vertical-align:bottom;margin-right:5px;animation:"," 0.3s forwards;"],["",""]),fc),bc=V()($s).withConfig({componentId:"sc-dN-sE-3"})(sc=sc||Object(E.__makeTemplateObject)(["vertical-align:bottom;margin-right:5px;animation:"," 0.3s forwards;"],["",""]),fc),gc=V()(Rs).withConfig({componentId:"sc-dN-sE-4"})(cc=cc||Object(E.__makeTemplateObject)(["vertical-align:bottom;margin-right:5px;animation:"," 0.3s forwards;"],["",""]),fc),_c=i(164),vc=i.n(_c),yc=G.g.isNewDing,Ec=V.a.a.withConfig({componentId:"sc-vqDnY"})(Cc=Cc||Object(E.__makeTemplateObject)(["position:relative;display:inline-block;left:20px;text-decoration:none;cursor:pointer;"],[""])),Oc=V.a.div.withConfig({componentId:"sc-vqDnY-1"})(wc=wc||Object(E.__makeTemplateObject)(["display:block;position:relative;height:20px;padding-right:5px;padding-left:5px;line-height:20px;color:#ffffff;font-size:12px;background:#41464b;border-top-right-radius:2px;border-bottom-right-radius:2px;&::before{content:'';display:block;position:absolute;left:-10px;width:0;height:0;border:10px solid #41464b;border-left-width:0;border-top-color:transparent;border-bottom-color:transparent;}"],[""]));function xc(){var n=window.sessionStorage.getItem("DINGTALK_CORPID"),r=window.DingTalkPC;if(r&&n){var o=function(e){var t=vc.a.parse(e,!0);return delete t.search,delete t.query,vc.a.format(t)}(window.location.href);r.runtime.permission.requestAuthCode({corpId:n,onSuccess:function(e){var t=e.code;r.biz.util.openLink({url:o+"?dingtalkcode="+t+"&corpid="+n})},onFail:function(e){}})}}function Tc(e){var t=e.me;return!Object(x.a)()||yc(t)?null:O.a.createElement(Ec,{onClick:xc},O.a.createElement(Oc,null,g()("在浏览器中打开")))}var Cc,wc,Sc,jc,Ic,Ac=i(180),kc=i(101),Nc=i.n(kc),Pc=Nc()({loader:function(){return i.e(1).then(i.bind(null,556))},modules:[556],webpack:function(){return[556]},loading:function(){return null}}),Rc=V()(U.a).withConfig({componentId:"sc-1628CK"})(jc=jc||Object(E.__makeTemplateObject)(["position:relative;height:28px;min-width:48px;font-weight:normal;padding:0 12px;margin:11px 0;color:#888888;cursor:",";"],["",""]),function(e){return e.loading?"wait":"pointer"}),Dc=(Sc=d.PureComponent,Object(E.__extends)(Lc,Sc),Lc.prototype.render=function(){var e=this.props,t=e.file,n=e.online,r=this.state,o=r.visible,i=r.sharePanelLoaded;return d.createElement(oa.a,{overlay:this.renderOverlay(),overlayStyle:{zIndex:"990"},onVisibleChange:this.handleVisibleChange,visible:n&&o,placement:"bottomRight",trigger:["hover"],showTip:i,disabled:"-"===t.guid[0]||!n,mouseLeaveDelay:0},d.createElement(Rc,{type:"primary",size:"s",active:o,disabled:"-"===t.guid[0]||!n,"data-test":"file-header-share-button",loading:!i},g()("分享")))},Lc);function Lc(){var o=null!==Sc&&Sc.apply(this,arguments)||this;return o.LoadableSharePanel=Nc()({loader:function(){return Object(E.__awaiter)(o,void 0,void 0,function(){var n=this;return Object(E.__generator)(this,function(e){return[2,i.e(2).then(i.bind(null,956)).then(function(e){var t=e.SharePanel;return n.setState({sharePanelLoaded:!0}),t})]})})},loading:function(){return d.createElement("div",{style:{width:"378px"}})}}),o.StyledSharePanel=V()(o.LoadableSharePanel).withConfig({componentId:"sc-1628CK-1"})(Ic=Ic||Object(E.__makeTemplateObject)(["position:relative;width:378px;min-height:264px;padding:25px 14px 20px;box-sizing:border-box;box-shadow:0 1px 6px rgba(0,0,0,0.2);background-color:#ffffff;"],[""])),o.state={visible:!1,sharePanelLoaded:!1},o.renderOverlay=function(){var e=o.props,t=e.file,n=e.getShareUrl;if(!o.state.visible)return d.createElement("div",null);var r=o.StyledSharePanel;return d.createElement(r,{file:t,onClose:o.handleClose,getShareUrl:n,"data-test":"share-panel"})},o.handleVisibleChange=function(e){o.setState({visible:e})},o.handleClose=function(){o.setState({visible:!1})},o}function Mc(e){return(Mc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Uc(e,t){return!t||"object"!==Mc(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Bc(e){return(Bc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zc(e,t){return(zc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Vc(e){var t=e.file,n=e.onUnlockFile,r=L()(t,"permissions.unlockable",!1)?rl(t.type)+g()("已锁定，点击可解锁"):rl(t.type)+g()("已锁定");return O.a.createElement(il,{"data-test":"file-header-file-lock"},O.a.createElement(nl.a,{trigger:"hover",title:r,placement:"bottom"},O.a.createElement(al,{width:"10px",height:"12px",onClick:n})),O.a.createElement(sl,null,ol(t.lockedAt)," ",g()("被")," ",t.lockedUser.get("name")," ",g()("锁定")))}var Gc,Hc,Wc,Yc,Kc,$c,qc,Xc,Qc,Jc,Zc,el=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tl=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Uc(this,Bc(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zc(e,t)}(t,O.a.Component),function(e,t,n){t&&Fc(e.prototype,t),n&&Fc(e,n)}(t,[{key:"render",value:function(){return O.a.createElement("svg",el({xmlns:"http://www.w3.org/2000/svg",width:"20",height:"24",viewBox:"0 0 20 24"},this.props),O.a.createElement("path",{fill:"#494949",fillRule:"evenodd",d:"M4 10V6a6 6 0 1 1 12 0v4h3a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V11a1 1 0 0 1 1-1h3zm2 0h8V6a4 4 0 1 0-8 0v4z"}))}}]),t}(),nl=i(27),rl=G.c.typeToText,ol=G.a.formatDate,il=V.a.div.withConfig({componentId:"sc-3lJl8g"})(Gc=Gc||Object(E.__makeTemplateObject)(["display:inline-flex !important;margin-left:22px;align-items:center;justify-content:center;"],[""])),al=V()(tl).withConfig({componentId:"sc-3lJl8g-1"})(Hc=Hc||Object(E.__makeTemplateObject)(["margin-left:22px;cursor:pointer;"],[""])),sl=V.a.div.withConfig({componentId:"sc-3lJl8g-2"})(Wc=Wc||Object(E.__makeTemplateObject)(["font-size:12px;margin-left:7px;color:#a5a5a5;-webkit-font-smoothing:antialiased;"],[""])),cl=i(11),ll=i.n(cl),ul=i(528),pl=i.n(ul),dl=Object(z.keyframes)(Yc=Yc||Object(E.__makeTemplateObject)(["0%{opacity:0;}50%{opacity:0.5;}100%{opacity:1;}"],[""])),fl=Object(z.keyframes)(Kc=Kc||Object(E.__makeTemplateObject)(["0%{transform:translateY(0);}100%{transform:translateY(-15px);}"],[""])),ml=V.a.div.withConfig({componentId:"sc-3Ia52Q"})($c=$c||Object(E.__makeTemplateObject)(["position:fixed;top:45px;right:0px;left:0px;bottom:0px;height:100%;background-image:linear-gradient(to bottom,rgba(255,255,255,0.75),#ffffff);z-index:999;"],[""])),hl=V.a.div.withConfig({componentId:"sc-3Ia52Q-1"})(qc=qc||Object(E.__makeTemplateObject)(["position:relative;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;"],[""])),bl=V.a.div.withConfig({componentId:"sc-3Ia52Q-2"})(Xc=Xc||Object(E.__makeTemplateObject)(["position:absolute;top:410px;margin-left:3px;font-size:13px;color:#41464b;opacity:0;animation:0.5s "," ease-out 1.7s forwards;"],["",""]),dl),gl=V.a.img.withConfig({componentId:"sc-3Ia52Q-3"})(Qc=Qc||Object(E.__makeTemplateObject)(["position:absolute;top:200px;width:250px;animation:0.5s "," ease-out 1.2s forwards;"],["",""]),fl),_l=G.c.typeToText;function vl(){return function(e){var n;function t(){var t=null!==n&&n.apply(this,arguments)||this;return t.state={animateMaskVisible:!1},t.unmounted=!1,t.handleToggleLockFile=function(){t.props.file.isLocked?t.handleUnlockFile():t.handleLockFile()},t.handleLockFile=function(){return Object(E.__awaiter)(t,void 0,void 0,function(){var t,n;return Object(E.__generator)(this,function(e){return t=this.props,n=t.file,(0,t.dispatch)(Object(p.k)(n.guid)),this.showAnimate(),[2]})})},t.handleUnlockFile=function(){return Object(E.__awaiter)(t,void 0,void 0,function(){var t,n,r;return Object(E.__generator)(this,function(e){switch(e.label){case 0:t=this.props,n=t.file,r=t.dispatch,e.label=1;case 1:return e.trys.push([1,7,,8]),[4,this.unlockConfirm()];case 2:e.sent(),e.label=3;case 3:return e.trys.push([3,5,,6]),[4,r(Object(p.v)(n.guid))];case 4:return e.sent(),M.a.success({content:g()(Jc=Jc||Object(E.__makeTemplateObject)(["「","」已取消锁定"],["「","」已取消锁定"]),n.name)}),this.setState({animateMaskVisible:!1}),window.location.reload(),[3,6];case 5:return e.sent(),M.a.error(g()("操作失败")),[3,6];case 6:return[3,8];case 7:return e.sent(),[3,8];case 8:return[2]}})})},t.unlockConfirm=function(){var e=t.props.file,n=_l(e.type);return new Promise(function(e,t){Object(Se.a)({title:g()("确认解锁"),description:g()(Zc=Zc||Object(E.__makeTemplateObject)(["确认解锁","吗？解锁后，协作者将恢复协作和分享权限"],["确认解锁","吗？解锁后，协作者将恢复协作和分享权限"]),n),confirmFun:e,abortFun:t,okText:g()("确认解锁")})})},t.showAnimate=function(){t.setState({animateMaskVisible:!0}),Object(cl.render)(O.a.createElement(ml,null,O.a.createElement(hl,null,O.a.createElement(gl,{src:pl.a}),O.a.createElement(bl,null,g()("已锁定，并自动保存版本")))),t.maskEl),setTimeout(function(){t.unmounted?document.body.removeChild(t.maskEl):(t.setState({animateMaskVisible:!1}),t.maskEl.innerHTML="")},2500),setTimeout(function(){window.location.reload()},3500)},t}return n=O.a.PureComponent,Object(E.__extends)(t,n),t.prototype.componentDidMount=function(){this.maskEl=document.createElement("div"),document.body.appendChild(this.maskEl)},t.prototype.componentWillUnmount=function(){this.unmounted=!0,this.state.animateMaskVisible||document.body.removeChild(this.maskEl)},t.prototype.render=function(){return O.a.createElement(e,Object(E.__assign)({},this.props,{onToggleLockFile:this.handleToggleLockFile,onLockFile:this.handleLockFile,onUnlockFile:this.handleUnlockFile}))},t}}i(798);function yl(e){return(yl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function El(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ol(e,t){return!t||"object"!==yl(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function xl(e){return(xl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tl(e,t){return(Tl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Cl(e){return e.count?O.a.createElement(Pl,null,O.a.createElement(Rl,null,e.count)):null}var wl,Sl,jl,Il=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Al=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ol(this,xl(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tl(e,t)}(t,O.a.Component),function(e,t,n){t&&El(e.prototype,t),n&&El(e,n)}(t,[{key:"render",value:function(){return O.a.createElement("svg",Il({width:"34",height:"34",viewBox:"0 0 34 34",xmlns:"http://www.w3.org/2000/svg"},this.props),O.a.createElement("path",{d:"M23 25H3V9h20v16zm2-12v8l6 4V9l-6 4z",fill:"#555"}))}}]),t}(),kl=i(283),Nl=i.n(kl),Pl=V.a.div.withConfig({componentId:"sc-2I6tlH"})(wl=wl||Object(E.__makeTemplateObject)(["position:absolute;top:9px;right:9px;min-width:12px;height:12px;border-radius:12px;line-height:9px;text-align:center;background:linear-gradient(#5e92d6,#7eb1f4);"],[""])),Rl=V.a.span.withConfig({componentId:"sc-2I6tlH-1"})(Sl=Sl||Object(E.__makeTemplateObject)(["display:inline-block;padding:0 2px;min-width:8px;font-size:12px;color:#fff;line-height:1;transform:scale(0.75);font-weight:bold;"],[""])),Dl=G.c.typeToText,Ll={DEV:"f7d1704b02bc458a92ec1801b6fce4ba",PROD:"ce5cd580516843f9b49052b35cf62918"}[Object(F.getBoolean)("IS_DEV")?"DEV":"PROD"],Ml={bottom:20,right:20},Fl=(jl=d.Component,Object(E.__extends)(Ul,jl),Ul.prototype.componentDidMount=function(){return Object(E.__awaiter)(this,void 0,void 0,function(){var r=this;return Object(E.__generator)(this,function(e){return window.addEventListener("beforeunload",this.handleBeforeUnload),window.addEventListener("focus",this.autoJoinMeeting),i.e(5).then(i.bind(null,954)).then(function(e){var t=e.changeLocale,n=e.RTCDesktop;t(r.getLocale()),r.RTCDesktop=n,r.setState({ready:!0})}),[2]})})},Ul.prototype.componentWillUnmount=function(){window.removeEventListener("beforeunload",this.handleBeforeUnload),window.removeEventListener("focus",this.autoJoinMeeting)},Ul.prototype.shouldComponentUpdate=function(e,t){return this.state!==t||this.props.me!==e.me||this.props.file!==e.file||this.props.meetingReady!==e.meetingReady||!this.isSocketInit},Ul.prototype.componentDidUpdate=function(){!this.isSocketInit&&this.props.meetingReady&&this.state.ready&&this.initVideoSocket()},Ul.prototype.componentDidCatch=function(e){},Ul.prototype.render=function(){var e=this.state,t=e.meeting,n=e.members,r=e.ready,o=this.props.file;if(!r)return null;var i=this.RTCDesktop;return d.createElement(d.Fragment,null,d.createElement(nl.a,{title:g()("会议"),placement:"bottom",mouseLeaveDelay:0},d.createElement($l,{type:"primary",size:"s",onClick:this.tuggleMeeting(),"data-test":"file-header-meeting-button"},d.createElement(ql,{width:"18px",height:"18px"}),d.createElement(Cl,{count:Object.keys(n).length}))),t&&i&&d.createElement(i,{agoraAppId:Ll,autoStart:"video",channel:window.location.pathname,getToken:this.getToken,getUser:this.getUserById,draggableBounds:"body",draggableStyle:Ml,onHangUp:this.tuggleMeeting(!1),flipId:o.id.toString(),onLocalStreamChange:this.onLocalStreamChange,container:document.body}))},Ul.prototype.getLocale=function(){return document.documentElement&&document.documentElement.lang?{"zh-CN":"zh-CN",en:"en",jp:"jp"}[document.documentElement.lang]:"zh-CN"},Ul);function Ul(){var l=null!==jl&&jl.apply(this,arguments)||this;return l.state={ready:!1,meeting:!1,members:{}},l.smBoardVideoStatus="none",l.cachedUsers={},l.moduleName=g()("文件内 header 右上角石墨会议"),l.streamType2Text={screen:g()("屏幕共享"),audio:g()("音频"),video:g()("视频")},l.isSocketInit=!1,l.membersLimitationText=g()(Bl=Bl||Object(E.__makeTemplateObject)(["暂时最多 "," 人同时音视频"],["暂时最多 "," 人同时音视频"]),7),l.manualShutOff=!1,l.initVideoSocket=function(){var a=L()(window,"shimo.socket");if(a){l.isSocketInit=!0;var s=l.props.file.guid;l.props.file.type.match("sheet")&&a.emit("message",{type:"CLIENT_READY",padId:s}),a.emit("message",{type:"COLLABROOM",fileGuid:s,padId:s,data:{type:"VIDEO",subType:"video_online_number"}}),a.on("message",function(e){var t,n,r=e.data,o=l.state.members;if(r&&"VIDEO"===r.type)if("video_stream_change"===r.subType){var i=r.userInfo.name+("none"===r.streamType?g()("退出视频会议"):g()("正在加入视频会议"));M.a.success({content:i,autoClose:!0}),"none"===r.streamType?(delete o[r.userInfo.id],l.setState({members:o},l.autoJoinMeeting)):l.setState({members:Object(E.__assign)(Object(E.__assign)({},o),(t={},t[r.userInfo.id]=!0,t))},l.autoJoinMeeting)}else"video_online_number"===r.subType?l.smBoardVideoStatus&&"none"!==l.smBoardVideoStatus&&a.emit("message",{type:"COLLABROOM",fileGuid:s,padId:s,data:{type:"VIDEO",subType:"video_online_number_response"}}):"video_online_number_response"===r.subType&&(o[r.userInfo.id]||(M.a.success({content:r.userInfo.name+g()("已经在视频会议中"),autoClose:!0}),l.setState({members:Object(E.__assign)(Object(E.__assign)({},o),(n={},n[r.userInfo.id]=!0,n))},l.autoJoinMeeting)))})}},l.getUserById=function(n){return void 0===n&&(n="me"),Object(E.__awaiter)(l,void 0,void 0,function(){var t;return Object(E.__generator)(this,function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),(t=this.cachedUsers[n])?[3,2]:[4,Nl()("/lizard-api/users/"+n)];case 1:t=e.sent().data,e.label=2;case 2:return[2,t];case 3:return e.sent(),[3,4];case 4:return[2]}})})},l.getToken=function(t){return Object(E.__awaiter)(l,void 0,void 0,function(){return Object(E.__generator)(this,function(e){return[2,this.getRTCToken({token:t,channel:window.location.pathname,uid:this.props.me.id})]})})},l.getRTCToken=function(i){return Object(E.__awaiter)(l,void 0,void 0,function(){var t,n,r,o;return Object(E.__generator)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,Nl.a.post("/rtc-api/quotas",Object(E.__assign)({duration:5},i),{withCredentials:!0,params:{project:"common"}})];case 1:return[2,e.sent().data.token];case 2:if((t=e.sent()).response)switch(n=t.response.data,r=n.name,o=n.message,r){case"ERR_QUOTA_EXCEED_LIMIT":throw new Error(g()("额度已耗尽，请联系客服购买"));case"ERR_AUTH_MUST_HAVE_TEAM":throw new Error(g()("目前只支持企业用户使用"));default:throw new Error(o)}throw new Error(t.message||g()("您暂无音视频的使用权限，或者额度已耗尽"));case 3:return[2]}})})},l.tuggleMeeting=function(o){return function(){var e=l.state.members,t=Object.keys(e).length,n=o||!l.state.meeting;if(n||(l.manualShutOff=!0),!n||t<7){var r=l.props.file;Object(te.a)({moduleName:l.moduleName,actionName:g()(zl=zl||Object(E.__makeTemplateObject)(["","文件内","会议"],["","文件内","会议"]),Dl(r.type),n?g()("打开"):g()("关闭"))}),l.setState({meeting:n})}7<=t&&n&&M.a.warning({content:l.membersLimitationText,autoClose:!0})}},l.onLocalStreamChange=function(e){var t,n=l.props,r=n.file,o=n.me,i=l.state.members,a=Dl(r.type),s=l.streamType2Text[l.smBoardVideoStatus];s&&Object(te.a)({moduleName:l.moduleName,actionName:g()(Vl=Vl||Object(E.__makeTemplateObject)(["","文件内关闭",""],["","文件内关闭",""]),a,s)}),l.streamType2Text[e]&&Object(te.a)({moduleName:l.moduleName,actionName:g()(Gl=Gl||Object(E.__makeTemplateObject)(["","文件内打开",""],["","文件内打开",""]),a,l.streamType2Text[e])}),"none"===e?(delete i[o.id],l.setState({members:i})):"none"===l.smBoardVideoStatus&&l.setState({members:Object(E.__assign)(Object(E.__assign)({},i),(t={},t[o.id]=!0,t))}),l.smBoardVideoStatus=e;var c=L()(window,"shimo.socket",null);c&&c.emit("message",{type:"COLLABROOM",fileGuid:r.guid,padId:r.guid,data:{type:"VIDEO",subType:"video_stream_change",streamType:e}})},l.autoJoinMeeting=function(){et()(function(){var e=l.state,t=e.members,n=e.meeting,r=Object.keys(t).length;!n&&!l.manualShutOff&&"visible"===document.visibilityState&&0<r&&(r<7?l.setState({meeting:!0}):M.a.warning({content:l.membersLimitationText,autoClose:!0}))},1e3)()},l.handleBeforeUnload=function(){var e=l.props.file;if("none"!==l.smBoardVideoStatus&&l.state.meeting){var t=L()(window,"shimo.socket",null);t&&t.emit("message",{type:"COLLABROOM",fileGuid:e.guid,padId:e.guid,data:{type:"VIDEO",subType:"video_stream_change",streamType:"none"}})}},l}Object(z.injectGlobal)(Hl=Hl||Object(E.__makeTemplateObject)([".rtc-fullscreenlive{z-index:999;top:52px!important;}.rtc-draggable-container{z-index:1000;}.rtc-toolbar--button{box-sizing:border-box;}"],[""]));var Bl,zl,Vl,Gl,Hl,Wl,Yl,Kl,$l=V()(U.a).withConfig({componentId:"sc-28DSVT"})(Wl=Wl||Object(E.__makeTemplateObject)(["width:38px;height:28px;margin:11px 0 11px;min-width:38px;position:relative;> div{top:2px;right:2px;}"],[""])),ql=V()(Al).withConfig({componentId:"sc-28DSVT-1"})(Yl=Yl||Object(E.__makeTemplateObject)(["display:block;width:18px;height:18px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);"],[""])),Xl=Object(T.g)({},((Kl={})[f.a.PRELOAD]=function(e,t){return t.alphaFeatures||e},Kl[f.a.GET_ALPHA_FEATURES]=function(e,t){return Object(E.__assign)(Object(E.__assign)({},e),t)},Kl[f.a.GET_ALPHA_FEATURES_BY_URL]=function(e,t){var n=t.url,r=t.alphaFeature,o=Object(E.__assign)({},e);return o[n]=r,o},Kl[f.a.BULK_RESTORE]=function(e,t){return t.alphaFeatures||e},Kl));function Ql(e){return(Ql="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zl(e,t){return!t||"object"!==Ql(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function eu(e){return(eu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tu(e,t){return(tu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var nu,ru,ou=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iu=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Zl(this,eu(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tu(e,t)}(t,O.a.Component),function(e,t,n){t&&Jl(e.prototype,t),n&&Jl(e,n)}(t,[{key:"render",value:function(){return O.a.createElement("svg",ou({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 40 40"},this.props),O.a.createElement("path",{d:"M18 12c0-1.1.9-2 2-2s2 .9 2 2-.9 2-2 2-2-.9-2-2zm0 9c0-1.1.9-2 2-2s2 .9 2 2-.9 2-2 2-2-.9-2-2zm0 9c0-1.1.9-2 2-2s2 .9 2 2-.9 2-2 2-2-.9-2-2z",fill:"#41464b"}))}}]),t}(),au=G.c.typeToText,su=G.c.isForm,cu=G.c.isModoc,lu=V()(yi.a).withConfig({componentId:"sc-15LEM2"})(ru=ru||Object(E.__makeTemplateObject)(["display:inline-block;width:8px;height:8px;margin-left:3px;> path{fill:#fff;}"],[""])),uu=(nu=O.a.PureComponent,Object(E.__extends)(pu,nu),pu.prototype.render=function(){var e=this.props,t=e.file,n=e.alphaFeatures,r=this.state.visible,o=L()(t,"permissions.lockable",!1)||L()(t,"permissions.unlockable",!1),i=au(t.type)+g()("支持锁定了"),a=o&&!cu(t.type)&&!su(t.type)&&n.lock_file&&t.isFromSVC&&r&&"used"!==localStorage.getItem("firstLockFile");return O.a.createElement(nl.a,{theme:"blue",placement:"bottomRight",title:O.a.createElement("div",null,i,O.a.createElement(lu,{width:8,onClick:this.handleCloseLockTooltip})),visible:a,notTouchable:!1},this.props.children)},pu);function pu(){var e=null!==nu&&nu.apply(this,arguments)||this;return e.state={visible:!0},e.handleCloseLockTooltip=function(){localStorage.setItem("firstLockFile","used"),e.setState({visible:!1})},e}var du,fu=i(26),mu=(du=O.a.PureComponent,Object(E.__extends)(hu,du),hu.prototype.render=function(){var e=this.props,t=e.menuItems,n=(e.onMenuClick,Object(E.__rest)(e,["menuItems","onMenuClick"]));return O.a.createElement(fu.b,{onClick:this.handleMenuClick,mode:"vertical-left"},t.map(function(e,t){return e(n,t)}))},hu);function hu(){var t=null!==du&&du.apply(this,arguments)||this;return t.handleMenuClick=function(e){var i=e.key,a=e.domEvent;return Object(E.__awaiter)(t,void 0,void 0,function(){var t,n,r,o;return Object(E.__generator)(this,function(e){switch(e.label){case 0:return a.stopPropagation(),t=this.props,n=t.onMenuClick,r=t.onCloseMenu,t.menuItems,o=Object(E.__rest)(t,["onMenuClick","onCloseMenu","menuItems"]),[4,n(i,o)];case 1:return!1!==e.sent()&&r(),[2]}})})},t}var bu,gu,_u=V()(U.a).withConfig({componentId:"sc-3WbPfS"})(gu=gu||Object(E.__makeTemplateObject)(["position:relative;width:38px;min-width:38px;height:28px;margin:11px 18px 11px 0px;svg{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);}"],[""])),vu=(bu=O.a.PureComponent,Object(E.__extends)(yu,bu),yu.prototype.render=function(){var e=this.props.file,t=this.state.visible;return O.a.createElement(uu,{file:e,alphaFeatures:Xl},O.a.createElement(oa.a,{overlay:this.renderMenu(),placement:"bottomRight",onVisibleChange:this.handleToggleVisibility,visible:t,trigger:["hover"],mouseLeaveDelay:0,showTip:!0},O.a.createElement(_u,{active:t,"data-test":"file-header-file-menu"},O.a.createElement(iu,{width:"18px",height:"18px"}))))},yu=Object(E.__decorate)([Object(R.a)(function(e){return{alphaFeatures:e.alphaFeatures,shortcutIds:Object(N.f)(e)||[]}})],yu));function yu(){var o=null!==bu&&bu.apply(this,arguments)||this;return o.state={visible:!1},o.handleToggleVisibility=function(e){if(e){var t=o.props,n=t.dispatch,r=t.file;n(Object(p.i)()),n(Object(p.e)(r.guid))}o.setState({visible:e})},o.handleCloseMenu=function(){o.setState({visible:!1})},o.renderMenu=function(){return O.a.createElement("div",{"data-test":"page-header-menu"},O.a.createElement(mu,Object(E.__assign)({},o.props,{onCloseMenu:o.handleCloseMenu,onMenuClick:o.handleMenuClick})))},o.handleMenuClick=function(e,t){var n=o.props;(0,n.onMenuClick)(e,n.dispatch,t)},o}var Eu,Ou=i(21),xu=(Eu=O.a.PureComponent,Object(E.__extends)(Tu,Eu),Tu.setScope=function(e){this.scopeContext=e},Tu.prototype.render=function(){var e=this.props,t=e.scope,n=e.base,r=void 0===n?"":n,o=e.replace,i=e.innerRef,a=e.href,s=Object(E.__rest)(e,["scope","base","replace","innerRef","href"]);return t===Tu.scopeContext?O.a.createElement(Ve.Link,Object(E.__assign)({to:a,replace:o,innerRef:i},s)):O.a.createElement("a",Object(E.__assign)({href:r+a,ref:i,onClick:o?this.handleReplace:void 0},s))},Tu.scopeContext="string"==typeof __SCOPE__?__SCOPE__:"main",Tu);function Tu(){var t=null!==Eu&&Eu.apply(this,arguments)||this;return t.handleReplace=function(e){e.preventDefault(),location.replace(t.props.href)},t}function Cu(e){return(Cu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Su(e,t){return!t||"object"!==Cu(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ju(e){return(ju=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Iu(e,t){return(Iu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Au,ku,Nu,Pu,Ru,Du=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lu=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Su(this,ju(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Iu(e,t)}(t,O.a.Component),function(e,t,n){t&&wu(e.prototype,t),n&&wu(e,n)}(t,[{key:"render",value:function(){return O.a.createElement("svg",Du({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 106 25"},this.props),O.a.createElement("path",{d:"M24.9 2.9L23.1.8l-1.7 1.5H2l1 1.2c.1.1.2.1.3.1.2 0 3.3-.1 7.2-.1C8.3 9 5.8 14.1.2 18.6c-.1 0-.1.1-.1.2s.1.2.2.2h.1c5-3.2 7.8-6.8 8.1-7.3v12.8c0 .2.3.3.4.3.9-1.1 1.5-2.1 1.6-3.3 1 0 5.5 0 8-.1.3.3.5.3.7 1.3 0 .2.1.2.3.2h.1c1.7-1 1.9-1.9 1.9-5v-5.6c0-.1 0-.1.1-.2l.5-1.1c.1-.1.1-.2 0-.3l-1.9-1.1c-.1-.1-.3 0-.3.1l-.5 1.1c0 .1-.1.1-.2.1h-8.3l-1.2-.5c1.4-1.8 2-2.9 2.8-4.3.1-.2.1-.3.2-.3.2-.1.2-.3.1-.5l-.1-.1c-.7-.5-1.3-1-1.7-1.7 2.9-.1 13.8-.2 13.8-.2.1 0 .2-.1.1-.4zm-14.3 8.6l.3-.2h8.2c.1 0 .3.1.3.3v7.2c0 .5-.1 1.2-.6 1.7l-.2.1h-8v-9.1zm25.8 1.6c1.4.6 2.4 1.3 2.9 1.7s.5.8 0 1.4c-.1.2-.2.3-.6.6-.6.4-1 .3-1.2-.4-.3-1.6-.8-2.7-1.4-3.3.1.1.1 0 .3 0zm5.8 0c1.5.6 2.4 1.2 3 1.6.5.4.5.8.1 1.4-.1.2-.2.3-.6.7-.6.4-1 .3-1.2-.3-.4-1.6-.9-2.7-1.5-3.2 0-.1.1-.2.2-.2zm-8.5-.1l.1-.1c.1 0 .1 0 .1.1 0 0-.2 2.9-.5 3.5-.2.6-.6.8-1.3.6-.3-.1-1-.4-1-.4-.5-.3-.4-.8 0-1.1 1.5-.9 2.2-1.6 2.6-2.6zm19 9.5v.1c0 .1 0 .1-.1.1H30.3s-.1 0-.2-.1l-.7-.6h10.9v-2.3c-4.1 0-8.1.1-8.3.1 0 0-.1 0-.2-.1l-.7-.7h9.2v-3.6l2.1.5c.1 0 .1.1 0 .2l-.2.3V19h6.1l1.2-1.2 1.5 1.6v.1s0 .1-.1.1h-.1s-4.3 0-8.8.1V22h7l1.5-1.6 2.2 2.1zm-2.1-8.2c.6.3.7.7.3 1.5-.1.2-.1.4-.5.8-.5.5-1 .5-1.3-.1-.7-1.6-1.4-2.7-2.1-3.1-.1-.1 0-.2.1-.2 1.7.3 2.8.7 3.5 1.1zm1.3-1.7l.1.1c0 .1-.1.1-.1.1h-.1c-20.6-.1-20.6 0-20.8 0 0 0-.1 0-.2-.1l-.7-.7 10.2.1v-1.9h-7s-.1 0-.2-.1l-.7-.7 7.9.1V7.7h-6.5c-.4.4-1.1 1-1.4 1.2l-.1.1c-.1 0-.2-.1-.2-.2V1.7l2 .6h14.3l.6-1 1.1.6.7.3c.1 0 .1.1 0 .2l-.4.8v4.1l.1.2c.1.1-.1.3-.2.3h-7.9v1.8h5.1l1.1-1.1 1.5 1.5v.1s0 .1-.1.1h-7.7v1.9h7l1.2-1.1 1.4 1.6zm-9.7-9.8v4.3h1.5c.9-1.3 1.2-2.2 1.6-3.8 0-.1 0-.2.1-.2 0 0 .1 0 .1.1l1.3 1.2c.1.1.2.2 0 .4-.6 1.2-2.5 2.1-3.1 2.3h4.4V2.8h-5.9zm-2 4.3V2.8h-6.3v4.3h6.3zm-1.8-2.5c.4.3.4.7 0 1.3-.1.2-.2.3-.5.6-.5.4-.9.2-1.1-.3-.3-1.5-.7-2.5-1.3-3 0-.1 0-.2.1-.1 1.5.5 2.3 1.1 2.8 1.5zM67 4.5C66.3 2.4 65.6 1 64.7.4c-.1-.1 0-.3.2-.2 2 .6 3.1 1.5 3.9 2 .7.4.7 1 .2 1.9-.1.2-.3.5-.5.7-.6.7-1.2.5-1.5-.3zm11.8 16c.1 0 .2.1.2.3 0 .1-.1.2-.2.2s-.4.1-.6.1c-.8.1-2 .4-2.5 1.6l-.1.1-.1.1h-.2c-2-.9-6.5-3-8.1-4.7l-.1-.1c-2.4 2.2-5.4 3.6-10.6 5h-.1c-.1 0-.2-.1-.2-.2s.1-.2.1-.2c4.4-1.8 7.4-3.8 9.5-6-2.2-2.8-3-5.5-4-10h-4.4c-.1 0-.2 0-.3-.1l-.8-.9h18.8l1.5-1.6L78.3 6c.1.2 0 .3-.2.3 0 0-3.3.1-6.7.2.5.3 1.1.5 1.7.6 0 0 .1 0 .1.1.2.1.1.4-.1.4-.1 0-.4.2-.4.4-.7 2.7-2.3 6.4-4.2 8.5l-.2.2c3.2 2.1 6.6 2.9 10.5 3.8zm-16.1-14c1.2 4 2.7 6.8 4.5 8.7 1.9-2.6 2.9-5.5 3.6-8.8-2.4.1-4.8.1-5.9.1h-2.2zm42.9-3.2c.2.1.1.3-.1.4-.1 0-.3.2-.4.4-1.4 1.7-2.7 3.3-4.8 4.9h-.1c-.1 0-.2-.1-.2-.2s.1-.1.1-.2c1.6-2.7 2.2-4 3-6.4 0-.1.1-.2.2-.2s.2.1.2.1l.1.1c.6.3 1.4.8 2 1.1zM94 7.6c-.1-2.1-1.1-4.7-1.7-5.4 0-.1.1-.2.2-.2 1.6 1.3 2.3 2 3 2.6 1.1 1.1 1 2.5.4 3.2-.2.2-.2.3-.4.4-.9.6-1.4.3-1.5-.6zm-1.4 5.8c-.1.2-.3.3-.4.5-.5.5-1 .3-1.3-.3-.4-1.6-.9-2.6-1.5-3.2v9.8c-.1 1.3-.4 2.3-1.4 3.5-.2.1-.5 0-.5-.3V11.2c-.8 2.5-2.7 4.9-4.6 7 0 .1-.1.1-.1.1-.1.1-.2 0-.3-.1-.1-.1 0-.2 0-.3 3.1-4.4 4-7.9 4.7-11.1h-3.3s-.1 0-.2-.1L83 6l4.2.1h.3v-6l2.1.6c.1.1.1.1 0 .2l-.3.3v4.9h1L91.5 5l1.6 1.5.1.1c0 .1-.1.1-.1.1h-3.7v2.8c1.6.6 2.6 1.4 3.1 2 .4.6.6 1.2.1 1.9zm12.6-3.9c.1.1.1.2 0 .3l-.6 1.1c0 .1-.1.1-.1.2v6.2c0 3.4.1 4.5-1.8 5.7h-.1c-.2 0-.3 0-.3-.2-.3-1.1-.4-1.1-.8-1.4-2.8.1-8 .1-9.1.1l-.6-.8h9.8l.2-.1c.5-.6.7-1.3.7-1.9V16s-.1-.1-.2-.1h-9.4l-.6-.7h10v-4.6c0-.2-.1-.3-.3-.3h-9.4l-.6-.7h5.1V.1l2.2.6c.1.1.1.1 0 .2l-.4.3v8.3h3c.1 0 .2-.1.2-.1l.5-1c.1-.1.3-.2.4-.1l2.2 1.2z",fill:"#a5a5a5"}))}}]),t}(),Mu=V()(xu).withConfig({componentId:"sc-1I1iYs"})(Au=Au||Object(E.__makeTemplateObject)(["float:left;"],[""])),Fu=V.a.a.withConfig({componentId:"sc-1I1iYs-1"})(ku=ku||Object(E.__makeTemplateObject)(["float:left;"],[""])),Uu=V.a.img.withConfig({componentId:"sc-1I1iYs-2"})(Nu=Nu||Object(E.__makeTemplateObject)(["display:block;height:24px;margin:13px 0;"],[""])),Bu=V()(Lu).withConfig({componentId:"sc-1I1iYs-3"})(Pu=Pu||Object(E.__makeTemplateObject)(["display:block;height:18px;margin:16px 0;> path{fill:",";}"],["",""]),function(e){return e.color||"#41464b"}),zu=(Ru=d.Component,Object(E.__extends)(Vu,Ru),Vu.prototype.render=function(){var e=this.props;return __RUNTIME_ENV__.PRIVATE_DEPLOY?O.a.createElement(Mu,{href:e.linkTo||"/dashboard",scope:"main"},e.children):e.location.pathname.match("desktop|dashboard|favorites")?O.a.createElement(Fu,{href:e.linkTo||"/welcome"},e.children):O.a.createElement(Mu,{href:e.linkTo||"/desktop",scope:"main"},e.children)},Vu=Object(E.__decorate)([R.b],Vu));function Vu(){return null!==Ru&&Ru.apply(this,arguments)||this}function Gu(e){var t=e.user,n=e.team,r=e.color,o=e.onClick;if(0<=L()(t,"membership.accountType","").indexOf("enterprise")&&n){var i=n.getIn(["resources","desktopLogo"]);if(i)return O.a.createElement(Uu,{src:i,onClick:o})}return O.a.createElement(Bu,{color:r,onClick:o})}function Hu(e){return{team:Object(P.a)(e),user:Object(y.a)(e)}}var Wu,Yu=(Wu=O.a.PureComponent,Object(E.__extends)(Ku,Wu),Ku.prototype.render=function(){var e=this.props,t=e.color,n=e.user,r=e.team,o=e.onClick,i=e.href;return __RUNTIME_ENV__.PRIVATE_DEPLOY_LOGO?O.a.createElement(zu,{linkTo:i},O.a.createElement(Uu,{src:__RUNTIME_ENV__.PRIVATE_DEPLOY_LOGO,onClick:o})):!n||n.id<=0?O.a.createElement(Fu,{href:i||"/welcome"},O.a.createElement(Bu,{color:t,onClick:o})):O.a.createElement(zu,{linkTo:i},O.a.createElement(Gu,{user:n,team:r,color:t,onClick:o}))},Ku=Object(E.__decorate)([Object(R.a)(Hu)],Ku));function Ku(){return null!==Wu&&Wu.apply(this,arguments)||this}function $u(t){var e="/login?redirect_url="+encodeURIComponent(location.href);return d.createElement(Ju,{href:e,onClick:function(){var e=t.fileType;e&&Object(te.a)({moduleName:g()("文件内 header 右上角注册登陆"),actionName:g()(qu=qu||Object(E.__makeTemplateObject)(["","文件内请求注册/登陆"],["","文件内请求注册/登陆"]),Qu(e))})}},g()("注册 / 登录"))}var qu,Xu,Qu=G.c.typeToText,Ju=V.a.a.withConfig({componentId:"sc-2I-y-4"})(Xu=Xu||Object(E.__makeTemplateObject)(["position:relative;width:92px;height:28px;margin-top:11px;line-height:28px;text-align:center;text-decoration:none;color:#888;font-size:12px;border:none;border-radius:2px;cursor:pointer;background-image:linear-gradient(#fdfdfd,#f8f8f8);box-shadow:0 1px 1px 0 rgba(0,0,0,0.11);user-select:none;&::before{content:'';display:block;position:absolute;top:-1px;left:-1px;z-index:-1;width:100%;height:100%;border:1px solid rgba(65,70,75,0.05);border-radius:2px;transition:opacity 0.3s ease-out;opacity:0;}&:hover::before{opacity:1;}&:active{background-image:linear-gradient(#f0f0f0,#f7f7f7);}"],[""]));function Zu(e){return(Zu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ep(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tp(e,t){return!t||"object"!==Zu(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function np(e){return(np=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rp(e,t){return(rp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var op,ip=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ap=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),tp(this,np(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rp(e,t)}(t,O.a.Component),function(e,t,n){t&&ep(e.prototype,t),n&&ep(e,n)}(t,[{key:"render",value:function(){return O.a.createElement("svg",ip({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},this.props),O.a.createElement("path",{d:"M7.8 10l4.9 4.9c.2.2.2.5 0 .7l-.3.4c-.2.2-.5.2-.7 0l-5.3-5.3-.4-.3c-.2-.2-.2-.5 0-.7L11.6 4c.2-.2.5-.2.7 0l.4.4c.2.2.2.5 0 .7L7.8 10z",fill:"#555"}))}}]),t}(),sp=(op=d.Component,Object(E.__extends)(cp,op),cp.prototype.render=function(){return d.createElement(nl.a,{title:g()("返回"),placement:"bottom",mouseLeaveDelay:0},d.createElement(pp,{type:"primary",size:"s",onClick:this.handleBack,"data-test":"file-header-go-back"},d.createElement(dp,{width:"18px",height:"18px"})))},cp.prototype.getBackUrl=function(){var e=this.props,t=e.file.role,n=e.parentFolder,r=e.me,o=n&&n.guid;return r&&t&&o?"0"===o||"1"===o?"/desktop":n.isSpace?"/space/"+o:"/folder/"+o:"/dashboard"},cp);function cp(){var t=null!==op&&op.apply(this,arguments)||this;return t.handleBack=function(){t.props.confirmBeforeLeave(t.backConfirmCallback)},t.backConfirmCallback=function(e){"referrer"in document&&(-1===document.referrer.indexOf(location.host)||-1<decodeURIComponent(document.referrer).indexOf(location.href))&&(location.href=t.getBackUrl()),1<e.length?(e.goBack(),2===e.length&&x.c()&&setTimeout(function(){location.href=t.getBackUrl()},50)):location.href=t.getBackUrl()},t}var lp,up,pp=V()(U.a).withConfig({componentId:"sc-EPt5v"})(lp=lp||Object(E.__makeTemplateObject)(["width:38px;height:28px;margin:11px 0 11px 20px;min-width:38px;position:relative;"],[""])),dp=V()(ap).withConfig({componentId:"sc-EPt5v-1"})(up=up||Object(E.__makeTemplateObject)(["display:block;width:18px;height:18px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);"],[""]));function fp(e){return(fp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hp(e,t){return!t||"object"!==fp(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function bp(e){return(bp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gp(e,t){return(gp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _p,vp,yp,Ep,Op=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xp=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),hp(this,bp(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gp(e,t)}(t,O.a.Component),function(e,t,n){t&&mp(e.prototype,t),n&&mp(e,n)}(t,[{key:"render",value:function(){return O.a.createElement("svg",Op({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},this.props),O.a.createElement("path",{d:"M13.5 16.9V4.5h-7v12.4l3.5-3.5 3.5 3.5z",fill:"none",stroke:"#a5a5a5"}))}}]),t}(),Tp=i(351),Cp=V.a.button.withConfig({componentId:"sc-2OBdN"})(vp=vp||Object(E.__makeTemplateObject)(["position:relative;width:8px;height:30px;padding:0;margin:10px 0 10px 15px;cursor:pointer;background-color:#fff;border:none;svg{position:absolute;top:calc(50% - 1px);left:50%;transform:translate(-50%,-50%);}"],[""])),wp=(_p=O.a.PureComponent,Object(E.__extends)(Sp,_p),Sp.prototype.render=function(){var e=this.props.file.starred;return O.a.createElement(nl.a,{trigger:"hover",title:e?g()("取消收藏"):g()("收藏")},O.a.createElement(Cp,{onClick:this.handleStarClick,"data-test":"file-header-star-button"},e?O.a.createElement(Tp.a,{width:"16px",height:"16px"}):O.a.createElement(xp,{width:"20px",height:"20px"})))},Sp);function Sp(){var e=null!==_p&&_p.apply(this,arguments)||this;return e.handleStarClick=function(){return Object(E.__awaiter)(e,void 0,void 0,function(){var t,n,r,o;return Object(E.__generator)(this,function(e){switch(e.label){case 0:return t=this.props,n=t.me,r=t.file,o=t.dispatch,n.id<0?(window.location.href="/login?redirect_url="+encodeURIComponent(window.location.href),[2]):r.starred?[4,o(Object(p.x)(r.guid))]:[3,2];case 1:return e.sent(),M.a.success({content:g()(yp=yp||Object(E.__makeTemplateObject)(["「","」已取消收藏"],["「","」已取消收藏"]),r.name)}),[3,4];case 2:return[4,o(Object(p.t)(r.guid))];case 3:e.sent(),M.a.success({content:g()(Ep=Ep||Object(E.__makeTemplateObject)(["「","」已收藏"],["「","」已收藏"]),r.name)}),e.label=4;case 4:return[2]}})})},e}var jp,Ip=i(191),Ap=i(287),kp=Nc()({loader:function(){return Object(E.__awaiter)(void 0,void 0,void 0,function(){return Object(E.__generator)(this,function(e){return[2,i.e(4).then(i.bind(null,955)).then(function(e){return e.QuickAccessContent})]})})},loading:function(){return O.a.createElement("div",{style:{width:"220px"}},O.a.createElement(Ap.a,null))}}),Np=(jp=O.a.PureComponent,Object(E.__extends)(Pp,jp),Pp.prototype.render=function(){var e=this.props.file,t=this.state.visible;return O.a.createElement(oa.a,{overlay:O.a.createElement(kp,{file:e,visible:t,onClose:this.handleToggleVisibility}),onVisibleChange:this.handleToggleVisibility,placement:"bottomLeft",visible:t,trigger:["hover"],showTip:!0,mouseLeaveDelay:0},O.a.createElement(Ip.g,{type:"primary",size:"s",active:t,"data-test":"file-header-quick-access-menu"},O.a.createElement(Ip.e,{width:"20px",height:"20px"})))},Pp);function Pp(){var t=null!==jp&&jp.apply(this,arguments)||this;return t.state={visible:!1},t.handleToggleVisibility=function(e){void 0===e&&(e=!1),t.setState({visible:e})},t}var Rp,Dp,Lp,Mp,Fp=V.a.div.withConfig({componentId:"sc-3gIKo_"})(Rp=Rp||Object(E.__makeTemplateObject)(["pointer-events:",";height:20px;margin-left:20px;"],["",""]),function(e){return e.readonly?"none":"auto"}),Up="\n  font-size: 14px;\n  font-weight: 700;\n",Bp=V.a.input.withConfig({componentId:"sc-3gIKo_-1"})(Dp=Dp||Object(E.__makeTemplateObject)(["box-shadow:none;background:inherit;border:none;border-bottom:2px solid transparent;border-radius:0;padding-bottom:4px;",";line-height:14px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;&::placeholder{color:#cdcdcd;}&:hover{border-color:#b3b3b3;}&:focus{border-color:#73a2e3;}"],["",""]),Up),zp=V.a.span.withConfig({componentId:"sc-3gIKo_-2"})(Lp=Lp||Object(E.__makeTemplateObject)(["visibility:hidden;position:absolute;white-space:nowrap;",""],["",""]),Up),Vp=(Mp=O.a.PureComponent,Object(E.__extends)(Gp,Mp),Gp.prototype.componentDidMount=function(){this.updateWidth()},Gp.prototype.componentDidUpdate=function(){this.updateWidth()},Gp.prototype.render=function(){var e=this.props,t=e.placeholder,n=e.value,r=void 0===n?"":n,o=e.readonly,i=e.tips,a=this.state,s=a.focused,c=a.tooltipVisible;return O.a.createElement(nl.a,{placement:"bottom",title:i,visible:c&&!s,onVisibleChange:this.handleTipVisible},O.a.createElement("div",null,O.a.createElement(Bp,{innerRef:this.inputRef,placeholder:t,value:r,readOnly:o,maxLength:100,onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeyUp:this.handleKeyUp,onKeyDown:this.handleKeyDown,onMouseOut:this.handleMouseOut,style:{}}),O.a.createElement(zp,{innerRef:this.previewRef},r||g()("无标题"))))},Gp);function Gp(){var r=null!==Mp&&Mp.apply(this,arguments)||this;return r.state={focused:!1,tooltipVisible:!1},r.previewRef=O.a.createRef(),r.inputRef=O.a.createRef(),r.handleTipVisible=function(e){r.setState({tooltipVisible:e})},r.handleChange=function(e){r.props.onChange(e.target.value)},r.handleFocus=function(){r.setState({focused:!0}),r.props.onFocus()},r.handleBlur=function(){r.setState({focused:!1}),r.props.onBlur()},r.handleKeyUp=function(e){"Enter"===e.key&&e.target.blur()},r.handleKeyDown=function(e){!e.ctrlKey||"y"!==e.key&&"z"!==e.key||(e.stopPropagation(),e.preventDefault())},r.handleMouseOut=function(){r.setState({tooltipVisible:!1})},r.updateWidth=function(){var e=r.props.readonly?656:240;if(r.previewRef.current&&r.inputRef.current){var t=r.previewRef.current.offsetWidth+4,n=Math.min(e,t);r.inputRef.current.style.width=n+"px"}},r}var Hp,Wp=g()("无标题"),Yp=(Hp=O.a.PureComponent,Object(E.__extends)(Kp,Hp),Kp.prototype.componentDidUpdate=function(e){var t=Object(F.getString)("SELF_HOSTED_PAGE_TITLE")||g()("石墨文档"),n=this.props.file.name||t;(e.file.name||t)!==n&&this.setState({value:n})},Kp.prototype.render=function(){var e=this.props.readonly,t=this.state.value;return O.a.createElement(Fp,{readonly:e,"data-test":"file-header-file-title"},O.a.createElement(Vp,{tips:g()("重命名"),placeholder:Wp,value:t,onChange:this.handleChange,onBlur:this.handleBlur,onFocus:this.handleFocus,readonly:e}))},Kp.prototype.updateTitle=function(){var e=this.props,t=e.file,n=t.name,r=t.guid,o=e.dispatch;n!==this.state.value&&o(Object(p.y)(r,this.state.value))},Kp);function Kp(){var i=null!==Hp&&Hp.apply(this,arguments)||this;return i.state={value:i.props.file.name||Wp},i.handleChange=function(e){var t=i.props,n=t.file,r=t.online;if(!(0,G.c.isModoc)(n.type)||r){var o=e.replace(/^\s+/g,"");i.setState({value:o})}},i.handleBlur=function(){i.state.value?i.updateTitle():i.setState({value:Wp},i.updateTitle)},i.handleFocus=function(){i.state.value===Wp&&i.setState({value:""})},i}var $p,qp,Xp,Qp,Jp,Zp,ed=i(20),td=i(228),nd=i.n(td).a.oldGuideTypes,rd=(Object(T.c)(f.a.GET_USER_GUIDE_INFO,function(){return function(e){var t=e.dispatch,o=e.next,n=(0,e.getState)().userGuide,r=n?t(Object(w.a)(n)):Promise.reject(new Error("UserGuide has not been synced")),i=t(Object(C.get)("guides")).then(function(e){var t=new RegExp("^TYPE_WEB_"),n={};for(var r in nd)r.match(t)&&(n[r]=!1);e.forEach(function(e){for(var t in n)nd[t]===e.type&&(n[t]=!0)}),Object.keys(n).forEach(function(e){var t=e.slice("TYPE_WEB_".length).toLowerCase();n[t]=n[e],delete n[e]}),o(n)});return Object(T.j)({local:r,remote:i})}}),Object(T.c)(f.a.UPDATE_USER_GUIDE_INFO,function(s,c){return void 0===c&&(c=!1),function(e){var r=e.dispatch,o=e.next,i=e.getState;if(!s)throw new Error("Parameter [type] cannot be empty.");var t="TYPE_WEB_"+s.toUpperCase(),a=nd[t];return new Promise(function(t,n){if(!Number.isFinite(a))throw new Error("No such guide type");r(Object(C.get)("guides/"+a)).then(function(){var e=i().userGuide;return c||!e||e.get(s)||o({type:s.toLowerCase()}),t()}).catch(function(e){e&&404===e.status?r(Object(C.post)("guides",{body:{type:a}})).then(function(){c||o({type:s.toLowerCase()}),t()}).catch(n):n(e)})})}})),od=G.g.openPayment,id=G.g.isNewDing;function ad(e){return(ad="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cd(e,t){return!t||"object"!==ad(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ld(e){return(ld=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ud(e,t){return(ud=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(qp=$p=$p||{}).Create="Create",qp.Upload="Upload";var pd,dd,fd,md,hd,bd,gd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),cd(this,ld(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ud(e,t)}(t,O.a.Component),function(e,t,n){t&&sd(e.prototype,t),n&&sd(e,n)}(t,[{key:"render",value:function(){return O.a.createElement("svg",gd({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 38 25"},this.props),O.a.createElement("path",{d:"M8.7 13.9l-.2.2.1.5-.5.6v.2l-.1.1.1.2-.4.4-.3.4-.4.2c-.2.2-.3.3-.5.3l-.2.4-.2-.2-.2.3c0-.1-.1-.2-.2-.3l-.1-.1-.2.2-.2.2-.2-.2-.4.2-.3-.2h-.2c-.2 0-.5-.1-.8-.2L3 17l-.1-.1-.3-.1-.1-.4c-.2 0-.5-.1-.7-.2l-.4-.9.1-.1-.2-.2v-.4l-.1-.2.1-.2c0-.1-.1-.3-.1-.4V13l.1-.2v-1.2l.1-.3-.1-.1.2-.6-.1-.2V10l.1-.1v-.3l-.1-.2.2-.6-.1-.8.1-.1v-1l-.2-.7c0-.1.1-.2.1-.2l-.1-.1c0-.1.1-.2.1-.2 0-.1 0-.2-.1-.4 0-.1 0-.2.1-.3l-.2-.3.1-.2-.3-.7.3-.1.7-.4.4.4v.2l.3.2v.7c.1.1.1.2.1.3v.1l.1.1-.1.5.1.3v.1l.3.1-.2.3-.1.6c0 .1 0 .2-.1.4 0 0 .1.2.1.5v.3l-.1.3c0 .1 0 .2-.1.4v.1c.1 0 .1.1.2.2l-.2.4.1.2v.1c0 .1 0 .2-.1.4v.6l-.1.6.3.1v-.6l.1-.4h.1l.1-.3c.1-.2.2-.5.3-.7 0-.1.1-.1.1-.2l.1-.1.1-.2.2-.3h.2v-.1l.1-.2c0-.2.1-.3.2-.4v-.2l.3-.1.1.1v-.4l.3-.1.2-.1h-.2l.3-.1.4-.3h.6l.4.2h.1l.3.5V8h.2l.1.4.2.2v.3l.1.2.1.1.1.6v.1c0 .1 0 .2.1.3.1.1.1.2.1.3 0 .1 0 .2-.1.2l.2.1c0 .2-.1.3-.1.4l.1.4c.1.1.1.2.1.3V13l.1.2-.1.3.1.4zm-1.3-1.5v-.7l-.1-.9-.3-.7-.3-.6-.4-.7h-.1l-.1.2H6c0 .2-.2.3-.4.3-.1.2-.3.4-.4.6l-.2.2-.1.3-.2.2-.2.5c0 .2-.1.5-.3.7l-.1.2v.3l-.3.4-.2.7-.1.1v.2c0 .2-.1.5-.2.7l.1.4-.2.2v.1l-.2.2.4.1.3.1.4-.1.4.2v.4H5l.3-.1c.1-.1.2-.2.4-.2h.1l.2-.1-.1-.2h.6c.1-.3.3-.7.7-.9v-.2l.2-.4v-.5l.1-.5v-.3l-.1-.2zm10.1 3c0 .2-.1.4-.4.6-.1.2-.2.4-.3.5h-.1l-.2.4-.4.1-.4.2-.2.4h-.2c-.1.1-.3.1-.4.1l-.1.2h-.2c-.2 0-.3.1-.5.4l-.3-.2h-.2c-.2 0-.3 0-.4-.1h-.3l-.2-.1c-.5-.1-.8-.3-1-.6v-.1l-.2-.2-.1-.3-.2-.2v-.3l-.2-.9v-.7l.1-.3v-.4l.1-.3v-.1l.1-.2c0-.1 0-.2.1-.4v-.1l-.1-.5c0-.2.1-.4.3-.6v-.1s0-.2-.1-.3c0-.2-.1-.3-.1-.4 0-.2 0-.3.1-.5.1.2.3.2.5.2h.1c0-.1.1-.1.2-.2.1-.3.3-.6.4-.8l.1-.1c0-.1 0-.2.1-.5h.1v-.1h.2c.1-.1.1-.2.1-.2l.4-.2c.1-.1.1-.2.2-.3.1 0 .1-.1.2-.1l.2-.1c.4-.1.6-.2.7-.2.1 0 .2 0 .3.1h.1l.1.1c.2 0 .4.1.5.2l.3.3v.1c.3.2.5.6.5 1l-.1.2.1.7-.2.1-.2.5-.4.4v.3c-.4.3-.8.6-1.2.7-.1.2-.3.3-.6.3h-.1l-.4.2h-.3l-.5.2-.4-.2c0 .1-.1.3-.1.5l-.2.1v.2l-.1.3c0 .3.1.5.1.6l.1.3v.6c0 .1.1.2.2.3 0 .2.1.3.2.3l.1.1.4.1v.1h.9l.4-.1.2-.1h.1l.2-.3h.1l.5-.2c.1-.1.1-.2.3-.2l.1-.1c.3-.1.4-.2.5-.4.2-.2.4-.3.7-.3h.1c.1.1.2.4.2.6zm-2-5.8s0-.1-.1-.2H15l-.2.1h-.3l-.3.5-.2.2-.3.6-.2.1c0 .2-.1.4-.3.6l-.1.1c.1-.1.3-.1.5-.1l.1-.1.1-.2h.3l.2-.2h.1l.2.1.1-.3h.1v-.2l.3-.1.1-.1v-.2l.3-.4v-.2zm10 .2c0 .1-.1.2-.4.3-.1.1-.2.1-.3.2-.2.1-.3.1-.4.2l-.4-.1c-.2.2-.5.2-.8.2H23l-.2.2h-.5l-.4.2c-.1-.1-.3-.1-.4-.1 0 0-.1.1-.3.1-.1 0-.1 0-.2-.1l-.1.8v.6l-.1.7v.8l.2.2v.3l.3.6-.1.1c0 .1.1.2.4.2v.2l.1.1.2.2.2.1h.3c.1 0 .2 0 .4.1.1 0 .2-.1.3-.3.1-.1.2-.2.3-.2h.2c.1-.3.3-.4.6-.5.3 0 .5.1.7.3v.1c0 .5-.2.7-.5.9-.1.3-.4.5-.8.5l-.1.3h-.3l-.5.1h-.5c-.1 0-.2 0-.3-.1h-.3l-.6-.3-.2-.1-.4-.6-.2-.3-.4-1-.2-.9v-.2l-.2-.2.1-.3-.1-.4.1-.1v-.3l.1-.3v-.4l-.1-.3.1-.1v-.3l-.1-.1-.4.2-.4-.3h-.1c-.4 0-.6-.2-.6-.6V10l-.2-.4.4-.4.5.1h.3l.4.1h.4V9l-.3-.6.3-.1-.1-.3v-.6l-.2-.3c-.1-.1-.1-.3-.1-.4 0-.1 0-.3.1-.4l.1-.3.2-.2c.4-.1.6-.1.7-.1.4 0 .7.2.7.6l-.1.1c.1.1.1.2.1.3V7l.1.3v.4l-.2.2.1.4-.1.7.2.2-.2.4.6-.1 1.1.1.9-.1h1.2c.4-.1.6 0 .6.3zm7.3-1.6zm0 0V8l.4.4.4.1.7-.2.3.5.3.1-.2.3.2.5-.3.3-.1.4-.1.1v.1c0 .2 0 .3-.1.4v.2c0 .1.1.2.1.3v.2l-.1.2.1.2-.2.2.1.3.1.1-.2.2v.3l-.1.3.1.3-.2.1.2.1-.2.5v.1h.2l-.2.5v.4h.3l.3.4-.1.3h.2c.1.2.1.3.1.4l-.3.3c-.1.1-.2.2-.4.3l-.3.2-.1-.1-.2.1-.6-.7v-.3c-.1-.3-.1-.5-.1-.7v-.1l-.1-1.2.2-.8-.1-.5-.3.6-.4.3-.1.1-.3.4-.5.5-.2.2-.4.4-.1.3-.6.4-.7.7-.4.1-.3.2c-.3 0-.6-.1-.8-.4-.6-.3-.9-.7-.9-1.3l.1-.1v-.3l-.1-.2.1-.3v-.4l.1-.7V13c0-.1 0-.2.1-.5l.1-.1c-.1-.1-.1-.1-.1-.2V12c0-.2.1-.3.2-.4 0-.1.1-.3.2-.4l-.1-.2.2-.3v-.1c0-.3.1-.5.3-.7v-.4l.1-.1v.1c0-.1 0-.1.1-.2v-.1c.1-.1.2-.3.4-.6s.4-.5.5-.7l.2.1.2-.1h.1l.7-.3 1.5.1v.1l.5.1c.3 0 .5.1.6.3zm.2 1.7l-.1-.1h-.2l-.6-.5-.4-.1h-.3l-.2.1-.2-.1h-.5l.1.1-.5.2-.1.1h-.1l-.5.5-.1.5-.1.2.2.3-.3.3v.1c-.1 0-.1.3-.1.5l-.2.2v.4l-.2.2v.2h-.1v.3l-.1.1v.5l-.2.4.1.1-.1.2.1.4-.2.3v.5h.2l.2-.2v-.2h.3l.1-.1 1.2-1h.1l.1-.3c.1 0 .2-.1.3-.2l.1-.3h.2V13h.3c0-.1.1-.1.1-.2.1-.1.1-.2.2-.2l1-1.4.2-.3v-.1l.1-.2v-.2l.2-.2v-.3z",fill:"#6da0e3"}))}}]),t}(),vd=V.a.a.withConfig({componentId:"sc-1-v_tV"})(pd=pd||Object(E.__makeTemplateObject)(["opacity:0;transition:0.1s;-webkit-transition:0.1s;position:absolute;right:0;top:0;box-sizing:border-box;width:40px;height:32px;background-repeat:no-repeat;background-position:center;background-size:8px 8px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAElBMVEUAAADMzMzQ0NDQ0NDMzMzMzMzglyrRAAAABXRSTlMA1BUm5vsHjY0AAAA2SURBVAjXYwgNDWUAEwgGAxAwiUIZioFABlhACMgACyhAGCZCQALEYFYAM8AAkxGKlwEBCAYAz9cRnvRHyjQAAAAASUVORK5CYII=);&:hover{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAElBMVEUAAABmZmZqampra2tmZmZmZmY7hVXjAAAABXRSTlMA1BUm5vsHjY0AAAA2SURBVAjXYwgNDWUAEwgGAxAwiUIZioFABlhACMgACyhAGCZCQALEYFYAM8AAkxGKlwEBCAYAz9cRnvRHyjQAAAAASUVORK5CYII=);}svg{pointer-events:none;}"],[""])),yd=V()(er.a).withConfig({componentId:"sc-1-v_tV-1"})(dd=dd||Object(E.__makeTemplateObject)(["cursor:",";opacity:",";position:relative;box-sizing:border-box;width:160px;& > span{position:relative;}&:hover ","{opacity:1;transition:0.2s;-webkit-transition:0.2s;}"],["","","",""]),function(e){return e.disable?"not-allowed":"default"},function(e){return e.disable?"0.5":"1"},vd),Ed=V.a.span.withConfig({componentId:"sc-1-v_tV-2"})(fd=fd||Object(E.__makeTemplateObject)(["vertical-align:middle;display:inline-block;padding:13px 12px 8px 20px;background:url(",") no-repeat;background-size:20px 20px;pointer-events:none;"],["",""]),function(e){return e.backgroundUrl}),Od=V()(_d).withConfig({componentId:"sc-1-v_tV-3"})(md=md||Object(E.__makeTemplateObject)(["width:20px;height:20px;position:absolute;right:-22px;top:-6px;path{fill:#d6b184;}"],[""])),xd=V()(ma).withConfig({componentId:"sc-1-v_tV-4"})(hd=hd||Object(E.__makeTemplateObject)(["width:20px;height:20px;position:absolute;right:-22px;top:-6px;path{fill:#d6b184;}"],[""])),Td=(bd=O.a.PureComponent,Object(E.__extends)(Cd,bd),Cd.prototype.render=function(){var n=this,e=this.props.menus;return O.a.createElement(ba.a,{onClick:this.handleMenuClick},e.map(function(e,t){return"divider"===e?O.a.createElement(ia.a,{key:"divider-"+t}):n.renderMenuItem(e)}))},Cd.prototype.renderMenuItem=function(e){return O.a.createElement(yd,{key:e.type},e.body)},Cd);function Cd(){var a=null!==bd&&bd.apply(this,arguments)||this;return a.state={},a.handleMenuClick=function(e){var t=e.key,n=e.domEvent,r=a.props.menus,o=n.target.classList.contains("blank"),i=r.find(function(e){return"divider"!==e&&e.type===t});i&&a.props.onMenuClick(t,i.method,o)},a}var wd,Sd=i(54),jd=i(500),Id=i.n(jd),Ad=(wd=O.a.PureComponent,Object(E.__extends)(kd,wd),kd.prototype.render=function(){var e=this.props.userGuide;return O.a.createElement(nl.a,{visible:!1===e.get("desktop_create_file_by_template"),placement:"left",arrowPointAtCenter:!0,theme:"blue",title:g()("新功能"),getTooltipContainer:function(e){return e.parentNode},align:{offset:[-20,0]}},O.a.createElement("span",{"data-test":"create-file-template"},O.a.createElement(Ed,{backgroundUrl:Id.a}),g()("从模板新建")))},kd=Object(E.__decorate)([Object(R.a)(function(e){return{userGuide:e.userGuide}})],kd));function kd(){return null!==wd&&wd.apply(this,arguments)||this}var Nd,Pd,Rd,Dd=V.a.span.withConfig({componentId:"sc-1ZiYCB"})(Rd=Rd||Object(E.__makeTemplateObject)(["width:45px;height:20px;line-height:19px;text-align:center;color:white;display:inline-block;font-size:12px !important;transform:scale(0.75);background-color:#4a90e2;"],[""]));function Ld(e){var t=e.icon,n=e.name,r=e.blank,o=e.dataTest,i=e.alpha,a=e.beta;return O.a.createElement(O.a.Fragment,null,O.a.createElement("span",{"data-test":o},a&&O.a.createElement(Od,null),i&&O.a.createElement(xd,null),O.a.createElement(Ed,{backgroundUrl:t}),n),!Object(Pa.isDingtalk)()&&r&&O.a.createElement(vd,{className:"blank",title:g()("在新标签页打开")}))}(Pd=Nd=Nd||{})[Pd.File=0]="File",Pd[Pd.Folder=1]="Folder",Pd[Pd.Template=2]="Template",Pd[Pd.Custom=3]="Custom";var Md,Fd=i(109),Ud=(Md=O.a.PureComponent,Object(E.__extends)(Bd,Md),Bd.prototype.render=function(){return O.a.createElement(Fd.a,{title:g()("新文件夹"),placeholder:g()("请输入文件夹的名称"),onOk:this.handleOk,onCancel:this.handleCancel,visible:!0,errorText:g()("请输入文件夹的名称")})},Bd);function Bd(){var t=null!==Md&&Md.apply(this,arguments)||this;return t.handleOk=function(e){t.props.onClose(e)},t.handleCancel=function(){t.props.onClose()},t}function zd(){return O.a.createElement("div",{style:{textAlign:"center",height:"17px",marginTop:"10px"}},O.a.createElement("img",{style:{display:"inline-block",height:"100%"},src:"en"===g.a.getLocale()?yf.a:"jp"===g.a.getLocale()?Of.a:_f.a}))}function Vd(){return O.a.createElement("div",{style:{textAlign:"center",height:"11px",marginTop:"30px"}},O.a.createElement("img",{style:{display:"inline-block",height:"100%"},src:"en"===g.a.getLocale()?wf.a:"jp"===g.a.getLocale()?jf.a:Tf.a}))}function Gd(){return O.a.createElement("div",{style:{textAlign:"center",height:"289px",marginTop:"20px"}},O.a.createElement("img",{style:{display:"inline-block",height:"100%"},src:"en"===g.a.getLocale()?df.a:"jp"===g.a.getLocale()?mf.a:bf.a}))}var Hd,Wd,Yd,Kd,$d,qd,Xd,Qd,Jd,Zd,ef=i(36),tf=i(100),nf=i(853),rf=i(82),of=i(510),af=i.n(of),sf=i(511),cf=i.n(sf),lf=i(512),uf=i.n(lf),pf=i(507),df=i.n(pf),ff=i(508),mf=i.n(ff),hf=i(509),bf=i.n(hf),gf=i(503),_f=i.n(gf),vf=i(501),yf=i.n(vf),Ef=i(502),Of=i.n(Ef),xf=i(506),Tf=i.n(xf),Cf=i(504),wf=i.n(Cf),Sf=i(505),jf=i.n(Sf),If=V.a.div.withConfig({componentId:"sc-3Ek1m4"})(Hd=Hd||Object(E.__makeTemplateObject)(["position:relative;width:860px;"],[""])),Af=V.a.ul.withConfig({componentId:"sc-3Ek1m4-1"})(Wd=Wd||Object(E.__makeTemplateObject)(["margin:0;padding:0;list-style:none;width:880px;"],[""])),kf=V.a.li.withConfig({componentId:"sc-3Ek1m4-2"})(Yd=Yd||Object(E.__makeTemplateObject)(["position:relative;width:156px;height:164px;box-sizing:border-box;display:inline-block;vertical-align:top;margin:0 20px 20px 0;cursor:pointer;background:#ffffff;border:1px solid #e5e5e5;box-shadow:0 2px 6px 0 rgba(0,0,0,0.1),inset 0 -2px 0 0 #ffffff,inset -2px 0 0 0 #ffffff,inset 2px 0 0 0 #ffffff,inset 0 2px 0 0 #ffffff;&:hover{.options{display:block !important;}}"],[""])),Nf=V.a.div.withConfig({componentId:"sc-3Ek1m4-3"})(Kd=Kd||Object(E.__makeTemplateObject)(["padding:6px 10px 0 10px;opacity:0.3;font-size:12px;color:#41464b;letter-spacing:0;line-height:20px;"],[""])),Pf=V.a.div.withConfig({componentId:"sc-3Ek1m4-4"})($d=$d||Object(E.__makeTemplateObject)(["padding:0 10px;height:36px;text-overflow:ellipsis;overflow:hidden;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;font-size:12px;color:#41464b;line-height:18px;"],[""])),Rf=V.a.div.withConfig({componentId:"sc-3Ek1m4-5"})(qd=qd||Object(E.__makeTemplateObject)(["margin:7px auto;width:80px;height:80px;background-size:100% 100%;background-repeat:no-repeat;&.doc{background-image:url('","');}&.sheet{background-image:url('","');}&.modoc{background-image:url('","');}"],["","","",""]),af.a,cf.a,uf.a),Df=V.a.div.withConfig({componentId:"sc-3Ek1m4-6"})(Xd=Xd||Object(E.__makeTemplateObject)(["width:80px;height:20px;text-align:left;margin:0 -45px 0 -20px;padding:0 15px;display:flex;align-items:center;svg{margin-right:10px;}"],[""])),Lf=V.a.div.withConfig({componentId:"sc-3Ek1m4-7"})(Qd=Qd||Object(E.__makeTemplateObject)(["display:",";width:20px;height:20px;position:absolute;right:7px;top:7px;z-index:1;"],["",""]),function(e){return e.visible?"block":"none"}),Mf=V()(iu).withConfig({componentId:"sc-3Ek1m4-8"})(Jd=Jd||Object(E.__makeTemplateObject)(["width:100%;height:100%;path{fill:#a28f8e;}"],[""])),Ff=i(13),Uf=i.n(Ff),Bf=i(15),zf=i.n(Bf),Vf=i(12),Gf=i.n(Vf),Hf=i(14),Wf=i.n(Hf),Yf=i(3),Kf=i.n(Yf),$f=i(63),qf=Kf.a.node,Xf=Kf.a.string,Qf=Kf.a.number,Jf=Kf.a.func,Zf=void 0,em=(Zd=O.a.Component,Wf()(tm,Zd),zf()(tm,[{key:"componentDidMount",value:function(){this._registerCancelListeners()}},{key:"componentWillUnmount",value:function(){this._unregisterCancelListeners(),this._cleanup(),this._unmounted=!0}},{key:"render",value:function(){var t=this,e=this.props,n=e.contextMenu,r=e.children,o=e.className,i=void 0;return this.state.visible&&(i=O.a.createElement("div",{className:"fixed-context-menu",onContextMenu:this._handleContextMenuOnContextMenu},n),i=ll.a.createPortal(i,this._portalRootEl)),O.a.createElement("div",{onContextMenu:this._handleContextMenu,className:o,ref:function(e){t.containerElm=e}},r,i)}}]),tm);function tm(e){Uf()(this,tm);var i=Gf()(this,(tm.__proto__||Object.getPrototypeOf(tm)).call(this,e));return i._registerCancelListeners=function(){i.dismissListener=document.addEventListener("dismiss-cm",i.hideListener)},i._unregisterCancelListeners=function(){document.removeEventListener("dismiss-cm",i.hideListener)},i._showContextMenu=function(e,t){Zf&&(Zf===i?(i._portalRootEl.style.left=e+"px",i._portalRootEl.style.top=t+"px",i._portalRootEl.style.bottom="",i._adjustMenuPosition(e,t)):Zf._hideContextMenu()),(Zf=i)._attachMaskElement(),i._portalRootEl=document.createElement("div"),Object.assign(i._portalRootEl.style,{display:"inline-block",position:"fixed",left:e+"px",top:t+"px",zIndex:i.props.zIndex||$f.a}),i._portalRootEl.addEventListener("mousewheel",function(e){return e.preventDefault()},{capture:!0}),i._portalRootEl.addEventListener("click",function(){setTimeout(i._hideContextMenu,0)}),document.body.appendChild(i._portalRootEl),i.setState({visible:!0},function(){i._adjustMenuPosition(e,t)})},i._hideContextMenu=function(e){Zf===i&&(Zf=null),i._unmounted||i.setState({visible:!1},function(){i._cleanup(),i.props.afterHideContextMenu&&i.props.afterHideContextMenu()})},i._cleanup=function(){i._portalRootEl&&i._portalRootEl.parentNode&&i._portalRootEl.parentNode.removeChild(i._portalRootEl),i._maskEl&&i._maskEl.parentNode&&i._maskEl.parentNode.removeChild(i._maskEl)},i._handleContextMenu=function(e){i.props.onContextMenu?i.props.onContextMenu(e):e.shiftKey||(e.preventDefault(),i._showContextMenu(e.clientX,e.clientY),i.props.afterShowContextMenu&&i.props.afterShowContextMenu())},i._handleContextMenuOnContextMenu=function(e){e.stopPropagation&&e.stopPropagation()},i._attachMaskElement=function(){i._maskEl=document.createElement("div"),Object.assign(i._maskEl.style,{position:"fixed",left:"0",top:"0",width:"100vw",height:"100vh",zIndex:$f.a-1}),i._maskEl.addEventListener("mousewheel",i._hideContextMenu,{capture:!0}),i._maskEl.addEventListener("contextmenu",i._hideContextMenu,{capture:!0}),i._maskEl.addEventListener("mousedown",i._hideContextMenu,{capture:!0}),document.body.appendChild(i._maskEl)},i._adjustMenuPosition=function(e,t){var n=i._portalRootEl.getBoundingClientRect();if((n.y||n.top)+n.height>window.innerHeight){var r=t;r-n.height<0&&(r=window.innerHeight),i._portalRootEl.style.top="",i._portalRootEl.style.bottom=window.innerHeight-r+"px"}if((n.x||n.left)+n.width>window.innerWidth){var o=e;o-n.innerWidth<0&&(o=window.innerWidth),i._portalRootEl.style.left="",i._portalRootEl.style.right=window.innerWidth-o+"px"}},i.state={visible:!1},i.hideListener=i._hideContextMenu.bind(i),i}em.propTypes={contextMenu:qf,children:qf,className:Xf,zIndex:Qf,afterHideContextMenu:Jf,afterShowContextMenu:Jf,onContextMenu:Jf};var nm=V()(em).withConfig({componentId:"sc-1s77fuj-0"})(["position:relative;.fixed-context-menu{position:absolute;z-index:999;box-shadow:0 2px 6px rgba(0,0,0,0.2);-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}.sm-menu-item{transition:none;}"]),rm=nm;function om(e){return(om="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function im(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function am(e,t){return!t||"object"!==om(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function sm(e){return(sm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cm(e,t){return(cm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var lm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},um=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),am(this,sm(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cm(e,t)}(t,O.a.Component),function(e,t,n){t&&im(e.prototype,t),n&&im(e,n)}(t,[{key:"render",value:function(){this.SVG_COMPONENT_ID=this.SVG_COMPONENT_ID||0;var e="8a8827b5f94e9840f4509824467d4c330_"+this.SVG_COMPONENT_ID++;return O.a.createElement("svg",lm({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 40 40"},this.props),O.a.createElement("linearGradient",{id:e,gradientUnits:"userSpaceOnUse",x1:"-481.862",y1:"-238.641",x2:"-481.862",y2:"-237.641",gradientTransform:"rotate(45 -11923.522 540.645) scale(7.983 34.7351)"},O.a.createElement("stop",{offset:"0",stopColor:"#676b6f"}),O.a.createElement("stop",{offset:"1",stopColor:"#a0a2a5"})),O.a.createElement("path",{d:"M30.6 14.4l2.1-2.1c.8-.8.8-2 0-2.8l-2.8-2.8c-.8-.8-2-.8-2.8 0L25 8.8l5.6 5.6zm-1.5 1.5l-17 17H6.9v-5.7l16.6-16.9 5.6 5.6z",fill:"url(#".concat(e,")")}))}}]),t}();function pm(e){return(pm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fm(e,t){return!t||"object"!==pm(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function mm(e){return(mm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hm(e,t){return(hm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var bm,gm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),fm(this,mm(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hm(e,t)}(t,O.a.Component),function(e,t,n){t&&dm(e.prototype,t),n&&dm(e,n)}(t,[{key:"render",value:function(){this.SVG_COMPONENT_ID=this.SVG_COMPONENT_ID||0;var e="98902e0856d30ca4a0ceaad3be4635100_"+this.SVG_COMPONENT_ID++;return O.a.createElement("svg",gm({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 40 40"},this.props),O.a.createElement("linearGradient",{id:e,gradientUnits:"userSpaceOnUse",x1:"-601.818",y1:"-206.841",x2:"-601.818",y2:"-205.841",gradientTransform:"matrix(22 0 0 26 13260 5384.86)"},O.a.createElement("stop",{offset:"0",stopColor:"#676b6f"}),O.a.createElement("stop",{offset:"1",stopColor:"#a0a2a5"})),O.a.createElement("path",{d:"M17 9h-7c-.6 0-1 .4-1 1v2h22v-2c0-.6-.4-1-1-1h-7V7h-6v2zm-6 5h18v18c0 .5-.4 1-1 1H12c-.5 0-1-.5-1-1V14zm4 4v10c0 .6.4 1 1 1s1-.4 1-1V18h-2zm4 0v10c0 .6.4 1 1 1s1-.4 1-1V18h-2zm4 0v10c0 .6.4 1 1 1s1-.4 1-1V18h-2z",fill:"url(#".concat(e,")")}))}}]),t}(),vm=G.a.formatDate,ym=(bm=O.a.PureComponent,Object(E.__extends)(Em,bm),Em.prototype.render=function(){var e=this.props.data,t=e.name,n=e.created_at,r=e.fileType;return O.a.createElement(kf,{onClick:this.handleCreateFile},O.a.createElement(rm,{contextMenu:this.renderMenu()},O.a.createElement(oa.a,{overlay:this.renderMenu(),placement:"bottomCenter",style:{width:"100px"},visible:this.state.dropdownVisible,onVisibleChange:this.handleDropdownVisible,align:{offset:[0,4]},showTip:!0},O.a.createElement(Lf,{visible:this.state.dropdownVisible,className:"options",onClick:this.handleOptionsClick},O.a.createElement(Mf,null))),O.a.createElement(Nf,null,vm(n)),O.a.createElement(Pf,null,t),O.a.createElement(Rf,{className:r})))},Em.prototype.renderMenu=function(){return O.a.createElement(ba.a,{onClick:this.handleMenuClick},O.a.createElement(er.a,{key:"rename"},O.a.createElement(Df,null,O.a.createElement(um,{width:"22px",height:"22px"}),g()("重命名"))),O.a.createElement(ia.a,null),O.a.createElement(er.a,{key:"delete"},O.a.createElement(Df,null,O.a.createElement(_m,{width:"22px",height:"22px"}),g()("删除"))))},Em);function Em(){var s=null!==bm&&bm.apply(this,arguments)||this;return s.state={dropdownVisible:!1},s.handleMenuClick=function(e){var t=e.key,n=e.domEvent,r=s.props.data,o=r.guid,i=r.name;switch(n.stopPropagation(),t){case"rename":s.props.onRename(o,i);break;case"delete":s.props.onDelete(o)}s.setState({dropdownVisible:!1})},s.handleDropdownVisible=function(e){s.setState({dropdownVisible:e})},s.handleOptionsClick=function(e){e.stopPropagation(),s.setState({dropdownVisible:!s.state.dropdownVisible})},s.handleCreateFile=function(){var e=s.props,t=e.onClick,n=e.data,r=n.guid,o=n.type,i=n.name,a=n.fileType;t&&t(r,o,i,a)},s}var Om,xm=(Om=O.a.PureComponent,Object(E.__extends)(Tm,Om),Tm.prototype.componentDidMount=function(){this.getUserValid(),this.props.visitCustomTemplate()},Tm.prototype.render=function(){var e=this.props,t=e.data,n=e.onClick,r=e.renameCustomTemplate,o=e.deleteCustomTemplate;return t.length?O.a.createElement("div",null,O.a.createElement(Af,null,t.map(function(e){return O.a.createElement(ym,{data:e,key:e.guid,onClick:n,onRename:r,onDelete:o})}))):O.a.createElement("div",null,O.a.createElement(If,null,O.a.createElement(zd,null),O.a.createElement(Vd,null),O.a.createElement(Gd,null)))},Tm);function Tm(){var e=null!==Om&&Om.apply(this,arguments)||this;return e.state={showLimit:!1},e.getUserValid=function(){return Object(E.__awaiter)(e,void 0,void 0,function(){var t;return Object(E.__generator)(this,function(e){switch(e.label){case 0:if(!this.props.data.length)return[2];e.label=1;case 1:return e.trys.push([1,4,,5]),[4,fetch("/api/templates/valid")];case 2:return[4,e.sent().json()];case 3:return(t=e.sent())&&this.setState({showLimit:0<t.limit}),[3,5];case 4:return e.sent(),[3,5];case 5:return[2]}})})},e}function Cm(e){var t=e.type,n=e.onClick,r=Zm[t];return O.a.createElement(r,{onClick:function(){return n(null,t,g()("填写模板表单"))}},O.a.createElement(Km,null,O.a.createElement($m,{href:Jm()+"/forms/eVMAPV2lKP9Fmqg8/fill",target:"_blank"},g()("没有您想要的模板？"),O.a.createElement("br",null),g()("请告诉我们"))),O.a.createElement(Ym,null))}function wm(e){var t=e.type,n=e.onClick,r=e.img,o=e.name,i=e.guid,a=Zm[t];return O.a.createElement(a,{onClick:function(){return n(i,t,o)}},O.a.createElement(Wm,null,O.a.createElement("img",{src:r})),O.a.createElement(Ym,null,o))}function Sm(e){var t=e.data,o=e.type,i=e.onClick;return O.a.createElement("div",null,t.map(function(e){var t=e.category,n=e.templates,r=void 0===n?[]:n;return"custom"===t?null:O.a.createElement("div",{key:t},O.a.createElement(Gm,null,r.map(function(e){var t=e.guid,n=e.img,r=e.name;return O.a.createElement(wm,{key:t,type:o,onClick:i,guid:t,img:n||"",name:r})}),O.a.createElement(Cm,{key:"contact",type:o,onClick:i})))}),O.a.createElement(Qm,null,g()("更多模板正在开发中...")))}var jm,Im,Am,km,Nm,Pm,Rm,Dm,Lm,Mm,Fm,Um,Bm,zm,Vm,Gm=V.a.ul.withConfig({componentId:"sc-3B7YzM"})(jm=jm||Object(E.__makeTemplateObject)(["width:110%;margin:4px;list-style:none;padding:0;display:flex;flex-wrap:wrap;"],[""])),Hm=V.a.li.withConfig({componentId:"sc-3B7YzM-1"})(Im=Im||Object(E.__makeTemplateObject)(["display:flex;flex-direction:column;margin-bottom:20px;vertical-align:top;cursor:pointer;img{width:100%;height:100%;}&:hover{span{box-shadow:0 2px 8px 0 rgba(0,0,0,0.2);transition:all 0.5s;}strong{color:#666;}}"],[""])),Wm=V.a.span.withConfig({componentId:"sc-3B7YzM-2"})(Am=Am||Object(E.__makeTemplateObject)(["background:#ffffff;box-shadow:0 1px 4px 0 rgba(0,0,0,0.1);padding:10px;display:block;box-sizing:border-box;"],[""])),Ym=V.a.strong.withConfig({componentId:"sc-3B7YzM-3"})(km=km||Object(E.__makeTemplateObject)(["display:block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;text-align:center;font-size:12px;color:#a5a5a5;font-weight:normal;padding:10px;height:40px;min-height:40px;box-sizing:border-box;"],[""])),Km=V.a.div.withConfig({componentId:"sc-3B7YzM-4"})(Nm=Nm||Object(E.__makeTemplateObject)(["height:100%;border:1px dotted #ddd;text-align:center;position:relative;&:hover > a{color:#6290cc;}&:hover{a{color:#6290cc;}}"],[""])),$m=V.a.a.withConfig({componentId:"sc-3B7YzM-5"})(Pm=Pm||Object(E.__makeTemplateObject)(["font-style:normal;width:100%;font-size:12px;color:#6da0e3;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-decoration:none;"],[""])),qm=V()(Hm).withConfig({componentId:"sc-3B7YzM-6"})(Rm=Rm||Object(E.__makeTemplateObject)(["width:140px;height:220px;margin-right:38px;& > span{height:180px;}"],[""])),Xm=V()(Hm).withConfig({componentId:"sc-3B7YzM-7"})(Dm=Dm||Object(E.__makeTemplateObject)(["width:185px;height:180px;margin-right:38px;& > span{height:140px;}"],[""])),Qm=V.a.div.withConfig({componentId:"sc-3B7YzM-8"})(Lm=Lm||Object(E.__makeTemplateObject)(["height:24px;line-height:24px;text-align:center;font-size:12px;padding:5px 0;color:#ddd;"],[""])),Jm=G.b.getHost,Zm={doc:qm,sheet:Xm},eh=V()(B.a).withConfig({componentId:"sc-VVIaz"})(Mm=Mm||Object(E.__makeTemplateObject)(["& .sm-modal-content{padding:30px 60px;}& .sm-modal-close{transform:translateY(50%);right:60px;}"],[""])),th=V.a.div.withConfig({componentId:"sc-VVIaz-1"})(Fm=Fm||Object(E.__makeTemplateObject)(["height:520px;margin-bottom:-30px;& .sm-tab-container{height:100%;}& .sm-tab-content{height:calc(100% - 60px);clear:both;}& .sm-tab-navtabs{border-bottom:1px solid #d9dadb;height:44px;}& .sm-tab-tab-pane{height:100%;padding:30px 0;> div{height:100%;overflow-y:auto;overflow-x:hidden;width:calc(100% + 60px);}}& .sm-loading{position:relative;top:50%;transform:translateY(-50%);}"],[""])),nh={zIndex:999,position:"fixed",top:0,right:0,left:0,bottom:0,backgroundColor:"rgba(55, 55, 55, 0.6)",height:"100%"};function rh(){return function(e){return n=O.a.PureComponent,Object(E.__extends)(t,n),t.prototype.componentDidMount=function(){var e=document.createElement("div");document.body.appendChild(e),this.div=e},t.prototype.componentWillUnmount=function(){this.div&&(Object(cl.unmountComponentAtNode)(this.div),this.div.remove())},t.prototype.render=function(){return O.a.createElement(e,Object(E.__assign)({},this.props,{handleRename:this.handleRename,handleDelete:this.handleDelete}))},t;function t(){var i=null!==n&&n.apply(this,arguments)||this;return i.handleRename=function(r,t){return new Promise(function(n){var e=O.a.createElement(Fd.a,{title:g()("重命名模板"),okText:g()("保存"),defaultText:t,visible:!0,placeholder:g()("请输入模板名"),errorText:g()("请输入合法的模板名"),maskStyle:nh,onOk:function(t){return Object(E.__awaiter)(i,void 0,void 0,function(){return Object(E.__generator)(this,function(e){switch(e.label){case 0:return[4,this.handleRenameOk(r,t)];case 1:return e.sent(),n(t),[2]}})})},onCancel:function(){i.handleCancel(),n()}});i.div&&Object(cl.render)(e,i.div)})},i.handleRenameOk=function(r,o){return Object(E.__awaiter)(i,void 0,void 0,function(){var t,n;return Object(E.__generator)(this,function(e){switch(e.label){case 0:return o=o.replace(/^\s+/g,""),[4,fetch("/api/templates/"+r,{method:"PATCH",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:o})})];case 1:if(t=e.sent(),n=t.status,this.div&&Object(cl.unmountComponentAtNode)(this.div),200<=n&&n<300)return Object(te.a)("100018"),[2,{guid:r,name:o}];throw new Error("修改失败")}})})},i.handleCancel=function(){i.div&&Object(cl.unmountComponentAtNode)(i.div)},i.handleDelete=function(e){return new Promise(function(n){Object(Se.a)({maskStyle:nh,title:g()("确认删除"),description:g()("模板删除后无法恢复，确认删除吗？"),confirmFun:function(){fetch("/api/templates/"+e,{method:"DELETE",credentials:"same-origin"}).then(function(e){var t=e.status;200<=t&&t<300?(Object(te.a)("100019"),n({result:!0})):n(404===t?{result:!1,errMsg:"该模板已删除"}:{result:!1,errMsg:"删除失败"})}).catch(function(){n({result:!1,errMsg:"删除失败"})})},okText:g()("确认删除")})})},i}var n}}(Bm=Um=Um||{}).Public="public",Bm.Custom="custom",(Vm=zm=zm||{}).Custom="custom",Vm.Doc="doc",Vm.MoDoc="modoc",Vm.sheet="sheet",Vm.ppt="ppt";function oh(e){return{data:e.templates,userGuide:e.userGuide}}var ih,ah={custom:{tab:g()("我的模板"),trackKey:"100017",actionName:g()("点击我的模板选项卡")},doc:{tab:g()("文档模板"),trackKey:"100012",actionName:g()("点击文档选项卡")},sheet:{tab:g()("表格模板"),trackKey:"100013",actionName:g()("点击表格选项卡")},ppt:{tab:g()("幻灯片模板"),trackKey:"100014",actionName:g()("点击幻灯片选项卡")},modoc:null},sh={width:980,footer:null,maskClosable:!0},ch=(ih=O.a.Component,Object(E.__extends)(lh,ih),lh.prototype.componentDidMount=function(){this.loadTemplateData()},lh.prototype.render=function(){var n=this,e=this.props,t=e.data,r=e.visible,o=e.userGuide,i=this.state,a=i.loading,s=i.custom,c=i.tooltipVisible,l=Object(E.__assign)({custom:s},t);l[zm.MoDoc]&&delete l[zm.MoDoc];var u=Object.keys(l),p=!!o&&!1===o.get("desktop_custom_template")&&c,d=u.filter(function(e){return!!l[e]&&0<l[e].length&&0<l[e].filter(function(e){return"public"===e.category}).length}),f=0<d.length?"1":"0";return O.a.createElement(eh,Object(E.__assign)({},sh,{onCancel:this.handleHide,visible:r}),O.a.createElement(th,null,a?O.a.createElement(Ap.a,null):O.a.createElement(rf.a,{activeKey:f,onChange:this.handleTabChange},u.filter(function(e){return e===zm.Custom||0<=d.indexOf(e)}).map(function(e,t){return O.a.createElement(mi.a,{tab:e!==zm.Custom||Object(F.isSelfHosted)()?ah[e].tab:O.a.createElement(nl.a,{visible:p,placement:"left",arrowPointAtCenter:!0,theme:"blue",title:g()("新功能"),align:{offset:[-5,0]}},ah[e].tab),key:t+""},e===zm.Custom?O.a.createElement(xm,{data:l[e],onClick:n.createFileByTemplate,renameCustomTemplate:n.renameCustomTemplate,deleteCustomTemplate:n.deleteCustomTemplate,visitCustomTemplate:n.handleVisitCustomTemplate}):O.a.createElement(Sm,{data:l[e],type:e,onClick:n.createFileByTemplate}))}))))},lh.prototype.loadTemplateData=function(){return Object(E.__awaiter)(this,void 0,void 0,function(){var t;return Object(E.__generator)(this,function(e){switch(e.label){case 0:t=this.props.dispatch,this.setState({loading:!0}),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,t(Object(nf.c)())];case 2:return e.sent(),this.setState({custom:this.getCustomTemplate()}),[3,4];case 3:return e.sent(),[3,4];case 4:return this.setState({loading:!1}),[2]}})})},lh.prototype.getCustomTemplate=function(){var e=this.props.data,t=void 0===e?{}:e,o=[];return Object.keys(t).forEach(function(r){t[r].forEach(function(e){var t=e.category,n=e.templates;t===Um.Custom&&n.forEach(function(e){o.push(Object(E.__assign)(Object(E.__assign)({},e),{fileType:r}))})})}),o.sort(function(e,t){return new Date(t.created_at)-new Date(e.created_at)})},lh.defaultProps={visible:!0},lh=Object(E.__decorate)([rh(),Object(R.a)(oh)],lh));function lh(e){var r=ih.call(this,e)||this;return r.handleHide=function(){var e=r.props.onClose;e&&e(),r.setState({tooltipVisible:!1}),Object(te.a)("100016")},r.handleVisitCustomTemplate=function(){var e=r.props,t=e.userGuide,n=e.dispatch;t&&!1===t.get("desktop_custom_template")&&n(rd("desktop_custom_template"))},r.createFileByTemplate=function(p,d,f,m){return void 0===m&&(m=Um.Public),Object(E.__awaiter)(r,void 0,void 0,function(){var t,n,r,o,i,a,s,c,l,u;return Object(E.__generator)(this,function(e){switch(e.label){case 0:if(t=this.props,n=t.dispatch,r=t.parentId,o=m===Um.Public?d:zm.Custom,i=ah[o].trackKey,null===p)return m===Um.Public&&Object(te.a)(i,{actionName:f}),[2];a=Object(tf.createWindowOpener)(),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,n(Object(nf.a)(p,r,d,f))];case 2:return s=e.sent().guid,m===Um.Public?Object(te.a)(i,{actionName:f}):Object(te.a)(i,{actionName:m}),c="doc"===d?"newdoc":"sheet"===d?"mosheet":d,s&&a(Object(ef.getFileUrl)(c,s)),[3,4];case 3:return l=e.sent(),this.handleHide(),u=l?l.toString().replace("Error: ",""):g()("从模板创建文件失败"),M.a.error(u),[3,4];case 4:return[2]}})})},r.handleTabChange=function(e){var t=Object.keys(ah)[e];Object(te.a)("100016",{actionName:ah[t].actionName})},r.renameCustomTemplate=function(i,a){return Object(E.__awaiter)(r,void 0,void 0,function(){var t,n,r,o;return Object(E.__generator)(this,function(e){switch(e.label){case 0:t=this.props.handleRename,e.label=1;case 1:return e.trys.push([1,3,,4]),[4,t(i,a)];case 2:return(n=e.sent())&&(r=this.state.custom,o=r.map(function(e){return e.guid===i?Object(E.__assign)(Object(E.__assign)({},e),{name:n}):e}),this.setState({custom:o}),M.a.success(g()("修改成功"))),[3,4];case 3:return e.sent(),M.a.error(g()("修改失败")),[3,4];case 4:return[2]}})})},r.deleteCustomTemplate=function(a){return Object(E.__awaiter)(r,void 0,void 0,function(){var t,n,r,o,i;return Object(E.__generator)(this,function(e){switch(e.label){case 0:return[4,(0,this.props.handleDelete)(a)];case 1:return t=e.sent(),n=t.errMsg,r=t.result,n?[2,M.a.error(n)]:(r&&(o=this.state.custom,i=o.filter(function(e){return e.guid!==a}),this.setState({custom:i}),M.a.success(g()("删除成功"))),[2])}})})},r.state={loading:!1,custom:r.getCustomTemplate(),tooltipVisible:!0},r}var uh,ph,dh=V.a.div.withConfig({componentId:"sc-3UiRol"})(ph=ph||Object(E.__makeTemplateObject)(["overflow:hidden;padding-right:1px;"],[""])),fh=(uh=O.a.PureComponent,Object(E.__extends)(mh,uh),mh.prototype.componentDidMount=function(){this.getParentFileInfo()},mh.prototype.componentDidUpdate=function(e){this.props.parentFile!==e.parentFile&&this.getParentFileInfo()},mh.prototype.render=function(){var e=this.props,t=e.me,n=e.team,r=e.parentFile,o=e.dropdownOptions,i=e.menus,a=this.state,s=a.parentPermissionLoaded,c=a.createMenuVisible,l=Object(ed.d)({me:t,team:n,folder:r,folderGuid:r?r.guid:"0"}).reason,u=!!l||!!r&&(r.permissions&&!r.permissions.childFileCreatable||!s),p=u?function(e,t,n){var r=ed.i.isEnterprisePremium(n)?g()("企业高级版"):g()("企业版"),o=__RUNTIME_ENV__.PRIVATE_DEPLOY?null:O.a.createElement("a",{href:"javascript:",onClick:function(){od("/pricing",n,!0)}},g()("了解更多")+" >");switch(e){case ed.a.NO_ACCESS_CREATE_OR_UPLOAD_FILE:case ed.a.FAILURE_READ_ONLY:return t===$p.Create?O.a.createElement("p",null,g()("抱歉，只有权限为“可以编辑”的协作者能新建文件")):O.a.createElement("p",null,g()("抱歉，只有权限为“可以编辑”的协作者能导入或上传文件"));case ed.a.FAILURE_PERSONAL_FREE:return t===$p.Create?O.a.createElement(O.a.Fragment,null,O.a.createElement("p",null,g()("您当前的版本为「基础版」，没有权限在协作者人数大于 15 人的文件夹里新建文件。您可以升级到「高级版」或「企业版」，获得更多权限。")),o):O.a.createElement(O.a.Fragment,null,O.a.createElement("p",null,g()("您当前的版本为「基础版」，没有权限在协作者人数大于 15 人的文件夹里导入或上传文件。您可以升级到「高级版」或「企业版」，获得更多权限。")),o);case ed.a.FAILURE_ENTERPRISE_EXPIRED_MEMBER:case ed.a.FAILURE_ENTERPRISE_EXPIRED_CREATOR_OR_ADMIN:case ed.a.FAILURE_TRIAL_EXPIRED:return t===$p.Create?O.a.createElement(O.a.Fragment,null,O.a.createElement("p",null,g()(Xp=Xp||Object(E.__makeTemplateObject)(["您的","已到期，不能新建文件，您可以续费","后正常使用。"],["您的","已到期，不能新建文件，您可以续费","后正常使用。"]),r,r)),o):O.a.createElement(O.a.Fragment,null,O.a.createElement("p",null,g()(Qp=Qp||Object(E.__makeTemplateObject)(["您的","已到期，不能导入或上传文件，您可以续费","后正常使用。"],["您的","已到期，不能导入或上传文件，您可以续费","后正常使用。"]),r,r)),o);case ed.a.FAILURE_NOT_ON_SEAT:return id(n)?t===$p.Create?O.a.createElement("p",null,g()(Jp=Jp||Object(E.__makeTemplateObject)(["您的","已到期，不能新建文件或文件夹，请联系企业管理员或直接续费。"],["您的","已到期，不能新建文件或文件夹，请联系企业管理员或直接续费。"]),r)):O.a.createElement("p",null,g()(Zp=Zp||Object(E.__makeTemplateObject)(["您的","已到期，不能导入/上传文件或文件夹，请联系企业管理员或直接续费。"],["您的","已到期，不能导入/上传文件或文件夹，请联系企业管理员或直接续费。"]),r)):t===$p.Create?O.a.createElement("p",null,g()("非企业席位成员，不能新建文件或文件夹，请联系企业创建者或直接购买席位。")):O.a.createElement("p",null,g()("非企业席位成员，不能导入/上传文件或文件夹，请联系企业创建者或直接购买席位。"));case ed.a.FAILURE_ENTERPRISE_DINGTALK:return t===$p.Create?O.a.createElement("p",null,g()("协作空间内新建文件仅限付费企业使用")):O.a.createElement("p",null,g()("协作空间内导入或上传文件仅限付费企业使用"))}return null}(l,$p.Create,t):null;return O.a.createElement(O.a.Fragment,null,O.a.createElement(dh,null,O.a.createElement(oa.a,Object(E.__assign)({disabled:u,overlay:O.a.createElement(Td,{menus:i,onMenuClick:this.handleMenuClick}),trigger:["hover","click"],onVisibleChange:this.handleCreateMenuVisibleChange,visible:c&&!u},o),"function"==typeof this.props.children?this.props.children(c,u,p):O.a.Children.only(this.props.children))),O.a.createElement(ch,{parentId:this.parentGuid,visible:this.state.templateVisible,onClose:this.handleTemplateClose}))},Object.defineProperty(mh.prototype,"parentGuid",{get:function(){var e=this.props,t=e.parentFile,n=e.me;return t?ed.i.isEnterpriseDingding(n)&&(ed.i.isSpace(t)||ed.i.isSpaceFile(t))?"0":t.guid:"0"},enumerable:!0,configurable:!0}),mh=Object(E.__decorate)([Object(R.a)(function(e){return{me:Object(y.a)(e),team:Object(P.a)(e),online:e.status.online,userGuide:e.userGuide}})],mh));function mh(){var r=null!==uh&&uh.apply(this,arguments)||this;return r.state={parentPermissionLoaded:!1,createMenuVisible:!1,templateVisible:!1},r.handleMenuClick=function(e,t,n){if("function"!=typeof r.props.onMenuClick||!1!==r.props.onMenuClick(e,t,n)){switch(t){case Nd.File:r.handleCreateFile(e,n);break;case Nd.Folder:r.handleCreateFolder();break;case Nd.Template:r.handleCreateTemplateFile()}r.setState({createMenuVisible:!1})}},r.handleCreateMenuVisibleChange=function(e){r.setState({createMenuVisible:e})},r.handleCreateFile=function(e,t){r.createFile(e,g()("无标题"),t)},r.handleCreateFolder=function(){return Object(E.__awaiter)(r,void 0,void 0,function(){var t;return Object(E.__generator)(this,function(e){switch(e.label){case 0:return[4,function(){var n=document.createElement("div");return document.body.appendChild(n),new Promise(function(t){Object(cl.render)(O.a.createElement(Ud,{onClose:function(e){void 0===e&&(e=""),Object(cl.unmountComponentAtNode)(n),n.remove(),t(e)}}),n)})}()];case 1:return(t=e.sent())&&this.createFile("folder",t),[2]}})})},r.handleCreateTemplateFile=function(){var e=r.props.userGuide;r.setState({templateVisible:!0}),!1===e.get("desktop_create_file_by_template")&&r.props.dispatch(rd("desktop_create_file_by_template"))},r.handleTemplateClose=function(){r.setState({templateVisible:!1})},r.getParentFileInfo=function(){return Object(E.__awaiter)(r,void 0,void 0,function(){var t,n,r;return Object(E.__generator)(this,function(e){switch(e.label){case 0:return t=this.props,n=t.dispatch,(r=t.parentFile)?[3,1]:(this.setState({parentPermissionLoaded:!0}),[3,3]);case 1:return[4,n(Object(p.e)(r.guid))];case 2:e.sent(),this.setState({parentPermissionLoaded:!0}),e.label=3;case 3:return[2]}})})},r.createFile=function(o,i,a){return Object(E.__awaiter)(r,void 0,void 0,function(){var t,n,r;return Object(E.__generator)(this,function(e){switch(e.label){case 0:return t=a?Object(tf.createWindowOpener)():function(e){return location.href=e},i=i.replace(/^\s+/g,""),[4,this.props.dispatch(Object(p.a)(o,i,this.parentGuid))];case 1:return n=e.sent(),r=Object(ef.getFileUrl)(o,n),t(r),[2]}})})},r}var hh,bh=i(37),gh=(hh=O.a.PureComponent,Object(E.__extends)(_h,hh),_h.prototype.componentDidMount=function(){this.props.dispatch(A("professional_docs"))},_h.prototype.render=function(){return this.props.children(this.menus)},Object.defineProperty(_h.prototype,"menus",{get:function(){var e={newdoc:{type:"newdoc",method:Nd.File,body:Ld({icon:Object(Sd.getCreateIcon)("doc"),name:g()("文档"),blank:!0,dataTest:"create-file-doc"})},modoc:{type:"modoc",method:Nd.File,body:Ld({icon:Object(Sd.getCreateIcon)("modoc"),name:O.a.createElement(O.a.Fragment,null,g()("文档"),O.a.createElement(Dd,null,g()("专业版"))),blank:!0,dataTest:"create-file-modoc"})},mosheet:{type:"mosheet",method:Nd.File,body:Ld({icon:Object(Sd.getCreateIcon)("sheet"),name:g()("表格"),blank:!0,dataTest:"create-file-sheets"})},sheet:{type:"sheet",method:Nd.File,body:Ld({icon:Object(Sd.getCreateIcon)("sheet"),name:g()("表格"),blank:!0,dataTest:"create-file-sheet"})},slide:{type:"slide",method:Nd.File,body:Ld({icon:Object(Sd.getCreateIcon)("slide"),name:g()("幻灯片"),blank:!0,dataTest:"create-file-slide"})},mindmap:{type:"mindmap",method:Nd.File,body:Ld({icon:Object(Sd.getCreateIcon)("mindmap"),name:g()("思维导图"),blank:!0,dataTest:"create-file-mindmap",beta:!0})},form:{type:"form",method:Nd.File,body:Ld({icon:Object(Sd.getCreateIcon)("form"),name:g()("表单"),blank:!0,dataTest:"create-file-form",beta:!0})},board:{type:"board",method:Nd.File,body:Ld({icon:Object(Sd.getCreateIcon)("board"),name:g()("白板"),blank:!0,dataTest:"create-file-board",beta:!0})},folder:{type:"folder",method:Nd.Folder,body:Ld({icon:Object(Sd.getCreateIcon)("folder"),name:g()("文件夹"),blank:!1,dataTest:"create-file-folder"})},template:{type:"template",method:Nd.Template,body:O.a.createElement(Ad,null)}},t=this.props.alphaFeatures,n=(!Object(F.isSelfHosted)()||Object(F.getBoolean)("SELF_HOSTED_MANAGE_DOCX"))&&t.professional_docs||Object(bh.isDev)();return[e.newdoc,n?e.modoc:void 0,e.mosheet,e.slide,e.mindmap,e.form,e.board,e.folder,"divider",e.template].filter(function(e){return!!e})},enumerable:!0,configurable:!0}),_h=Object(E.__decorate)([Object(R.a)(function(e){return{alphaFeatures:e.alphaFeatures}})],_h));function _h(){return null!==hh&&hh.apply(this,arguments)||this}var vh,yh=i(513),Eh=i.n(yh),Oh=i(9),xh=(vh=d.Component,Wf()(Th,vh),zf()(Th,[{key:"render",value:function(){var t=this,e=this.props,n=e.className,r=e.supportedType,o=e.onClick,i=e.children,a=e.disabled,s=e.onChange;return O.a.createElement(Sh,{className:n,onClick:o,disabled:a},O.a.createElement("form",{encType:"multipart/form-data",method:"post",action:"javascript:;",role:"form"},O.a.createElement("input",{"data-test":"import-file",type:a?null:"file",ref:function(e){return t.input=e},accept:r,onClick:function(e){e.target.value=null,e.stopPropagation()},onChange:s}),i))}}]),Th);function Th(){return Uf()(this,Th),Gf()(this,(Th.__proto__||Object.getPrototypeOf(Th)).apply(this,arguments))}xh.propTypes={className:Kf.a.string,supportedType:Kf.a.string,children:Kf.a.node,onClick:Kf.a.func,disabled:Kf.a.bool,onChange:Kf.a.func},xh.defaultProps={className:"",children:""};var Ch,wh,Sh=V.a.div.withConfig({componentId:"xx3png-0"})(["position:relative;display:inline-block;width:128px;height:28px;padding:0 15px;line-height:28px;text-align:center;border:1px solid ",";border-radius:2px;overflow:hidden;color:",";text-decoration:none;text-indent:0;transition:opacity 0.3s,border-color 0.3s;background-image:linear-gradient(",",#f0f0f0);font-size:12px;font-weight:bold;cursor:pointer;input{width:0;height:0;visibility:hidden;}&:hover{border:1px solid ",";background-image:linear-gradient(",",#f0f0f0);}",";"],Oh.c,Oh.g,Oh.e,Oh.f,Oh.e,function(e){return e.disabled&&Object(z.css)(["background-color:#f7f7f7;border-color:#e5e5e5;background-image:none;color:#ccc;cursor:not-allowed;&:hover{border-color:#e5e5e5;background-image:none;}"])}),jh=xh,Ih=i(177),Ah=i(345),kh=i(163),Nh=i(113),Ph=i(497),Rh=i.n(Ph),Dh=(wh=d.Component,Wf()(Lh,wh),zf()(Lh,[{key:"render",value:function(){var t=this;return this.state.show?O.a.createElement(Mh,null,O.a.createElement(Fh,{innerRef:function(e){t.progressNode=e}})):null}},{key:"progress",set:function(e){if(this.progressNode){var t="scaleX("+(this.progress_=e)/this.props.max+")",n=this.progressNode.style;n.transform=t,n.webkitTransform=t}},get:function(){return this.progress_}}]),Lh);function Lh(e){Uf()(this,Lh);var r=Gf()(this,(Lh.__proto__||Object.getPrototypeOf(Lh)).call(this,e));return r.start=function(){r.setState({show:!0},function(){r.progress=r.props.min,requestAnimationFrame(r.increase)})},r.finish=function(){r.state.show&&(r.progress=r.props.max,setTimeout(function(){r.setState({show:!1})},220))},r.increase=function(){var e=r.props,t=e.step,n=e.block;r.progress<n&&(r.progress+=t,requestAnimationFrame(r.increase))},r.state={show:!1},r.progress_=0,r}Dh.propTypes={max:Kf.a.number,min:Kf.a.number,block:Kf.a.number,step:Kf.a.number},Dh.defaultProps={max:100,min:0,block:80,step:1};var Mh=V.a.div.withConfig({componentId:"sc-19eq0nf-0"})(["position:fixed;top:0;left:0;right:0;z-index:120;height:2px;pointer-events:none;"]),Fh=V.a.div.withConfig({componentId:"sc-19eq0nf-1"})(["position:relative;height:2px;background-color:",";transform-origin:0;transform:scaleX(0);transition:transform 0.2s ease;&::after{content:'';position:absolute;right:0;width:100px;height:100%;box-shadow:0 0 10px ",",0 0 5px ",";transform:rotate(3deg) translate(0,-4px);}"],Oh.h,Oh.h,Oh.h),Uh=Dh;function Bh(){}function zh(e,t){return ki()(e,t&&t.toLowerCase())}function Vh(e,t,n,r){var o=e&&e.name.includes("xlsx"),i=e&&e.name&&o?50:20;return o&&r.import_size_unlimited?t():1024*i*1024<(e instanceof File?e.size:e&&e.fileSize)?n(i):t()}var Gh={init:function(e,t){if(this.instance)return this.instance;var n=t||document.createElement("div");return document.body.appendChild(n),this.instance=Object(cl.render)(O.a.createElement(Uh,e),n),this.start=this.instance.start,this.finish=this.instance.finish,this.instance},start:Bh,finish:Bh},Hh=(Wh.prototype.append=function(e,t){this[e]=t},Wh);function Wh(){}var Yh=function(e){e&&e.reset()},Kh=function(e,t,n,r){void 0===r&&(r={}),Rh()(0,e,Object(E.__assign)({userId:t.id,fileId:n.toString()},r))};var $h=i(179);function qh(e){if(299<e.status)throw Error(g()("导入出错"));return e.json()}var Xh=function(e,t,n){Object(te.a)("100009",{moduleName:g()("桌面右侧"),submoduleName:g()("导入"),actionName:g()("表格后端导入"),fileFormat:e,importSucceed:t,importTime:n,fileUrl:L()(window.cow,"currentFile.guid")})};function Qh(){Gh.finish(),M.a.destroy()}function Jh(e){Qh();var t=Object(Se.a)({title:g()("表格导入失败"),description:g()(e),footer:[d.createElement(U.a,{key:"ok",type:"black",onClick:function(){return t()}},g()("好的"))]})}function Zh(e,t,n){void 0===n&&(n={});var r=e.fileType,o=e.importId,i=e.file,a=e.form,s=e.startImport,c=e.setImportable;"function"==typeof c&&c(!0),Xh(r,0===t,(new Date).valueOf()-s.valueOf()),Object(te.b)("import",{guid:n.guid||"",file_format:r,result_type:"sheet",file_size_before:i.size,upload_duration:new Date-s,is_success:0===t?"yes":"no",request_id:o,platform:"web"}),function(e){e&&e.reset()}(a)}function eb(i,e){var t=i.fileName,a=i.setImportable,s=[{confirmTitle:g()("表格导入成功"),confirmDesc:t&&g()(nb=nb||Object(E.__makeTemplateObject)(["您导入的「","」已经成功，是否查看"],["您导入的「","」已经成功，是否查看"]),t.replace(/\.xlsx$/,""))},{confirmTitle:g()("表格导入失败"),confirmDesc:g()(rb=rb||Object(E.__makeTemplateObject)(["您的表格解析时产生了错误。请打开另存为 Excel 工作簿(*.xlsx) 后再导入。"],["您的表格解析时产生了错误。请打开另存为 Excel 工作簿(*.xlsx) 后再导入。"]))},{confirmTitle:g()("表格导入失败"),confirmDesc:g()(ob=ob||Object(E.__makeTemplateObject)(["您的表格有密码保护，请取消加密后再导入。"],["您的表格有密码保护，请取消加密后再导入。"]))},{confirmTitle:g()("表格导入失败"),confirmDesc:g()(ib=ib||Object(E.__makeTemplateObject)(["您的表格解析后的数据大于 80M，超过平台限制。无法成功导入。"],["您的表格解析后的数据大于 80M，超过平台限制。无法成功导入。"]))},{confirmTitle:g()("表格导入失败"),confirmDesc:g()(ab=ab||Object(E.__makeTemplateObject)(["您的表格有引用无效的内链接，请删除后再导入。"],["您的表格有引用无效的内链接，请删除后再导入。"]))},{confirmTitle:g()("表格导入失败"),confirmDesc:g()(sb=sb||Object(E.__makeTemplateObject)(["您的表格过大导致解析失败。请检查表格中有无冗余数据，请尝试删除冗余的空白行列后再导入。"],["您的表格过大导致解析失败。请检查表格中有无冗余数据，请尝试删除冗余的空白行列后再导入。"]))},{confirmTitle:g()("表格导入失败"),confirmDesc:g()(cb=cb||Object(E.__makeTemplateObject)(["您的表格是 Strict Open XML 格式，不支持导入。请打开另存为 Excel 工作簿(*.xlsx) 后再导入。"],["您的表格是 Strict Open XML 格式，不支持导入。请打开另存为 Excel 工作簿(*.xlsx) 后再导入。"]))}],c=Object($h.a)(),n=e&&e.status;if(0!==n)return Jh(e.message),c.reject(e),Zh(i,n,e.data||{}),c;var r=e.data.taskId,l=360,u=function(){fetch(Object(bh.getApi)()+"/files/import/excel/progress?taskId="+r,{method:"GET",headers:{"X-Requested-With":"XMLHttpRequest"},credentials:"include"}).then(qh).then(function(e){var t,n,r=e&&e.status,o={};{if(0===r)return n=(t=e.data).progress,o=t.file,"function"==typeof a&&a(!0),100===n?(function(e,t){Qh();var n=t.confirmTitle,r=t.confirmDesc,o=Object(Se.a)({title:n,description:r,footer:[d.createElement(U.a,{key:"ok",type:"black",onClick:function(){return location.href=Object(ef.getFileUrl)(e.type,e.guid)}},g()("立刻查看")),d.createElement(U.a,{key:"cancel",type:"outline",onClick:function(){return o()}},g()("稍后再说"))]})}(o,s[0]),c.resolve(void 0),null):l<0?(Jh(e.message),c.reject("timeout"),null):(l--,setTimeout(u,5e3/(360-l<3?5:1)));"function"==typeof a&&a(!0),Jh(e.message),c.reject(e)}return Zh(i,r,o),null},function(e){return"function"==typeof a&&a(!0),tb(i),c.reject(e),c})};return setTimeout(u,1e3),c}function tb(e){Qh(),M.a.error(g()("导入出错，请重试。")),Zh(e,-1)}var nb,rb,ob,ib,ab,sb,cb,lb=function(e,t,n,r,o,i,a,s){void 0===s&&(s={}),"function"==typeof a&&a(!1);var c=new Date,l=!(!o||!o.office_excel_import_async),u=n&&n.name.split(".").slice(0,-1).join(".");Gh.init(),Gh.start(),M.a.success(g()("正在导入表格，导入已在后台运行，成功后会在此标签页提示您，处理大文件耗时较长，在此期间您可以进行其他操作"),1e7);var p=function(e){var t=e.file,n=e.importType,r=e.fileName,o=e.folder,i=e.async,a=e.after,s=t instanceof File?new FormData:new Hh,c=o&&o.guid||"0";return s.append("alpha","true"),n&&"sheet"===n?s.append("type","sheet"):s.append("type","mosheet"),s.append("name",r),t instanceof File?s.append("file",t):(t&&s.append("fileGuid",t.guid),s.append("folder",c)),s.append("parentId",c),a&&s.append("after",a),i&&s.append("isAsync","1"),s}({file:n,importType:i,fileName:u,folder:e,async:l,after:s.after}),d=Object(F.isSelfHosted)()?Object(bh.getApi)():Object(bh.isDev)()?"https://xxport.shimodev.com":"https://xxport.shimo.im",f={fileName:u,fileType:t,importId:"",file:n,form:r,startImport:c,async:l,setImportable:a};return fetch(d+"/files/import/excel",{method:"POST",headers:p instanceof Hh?{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json"}:{"X-Requested-With":"XMLHttpRequest"},body:p instanceof Hh?JSON.stringify(p):p,credentials:"include"}).then(qh).then(eb.bind(void 0,f),tb.bind(void 0,f))},ub=i(499),pb=i.n(ub);var db,fb=(db=cn.EventEmitter,Object(E.__extends)(mb,db),mb.prototype.upload=function(o){return Object(E.__awaiter)(this,void 0,void 0,function(){var t,n,r;return Object(E.__generator)(this,function(e){switch(e.label){case 0:return[4,this.getToken([o])];case 1:return t=E.__read.apply(void 0,[e.sent(),1]),n=t[0],[4,this.uploadFile(o,n)];case 2:if(0<(r=e.sent()).code)throw new Error("upload failed");return[2,r.data.url]}})})},mb.prototype.abort=function(){try{this.xhrQueue.forEach(function(e){return e.abort()})}catch(e){}},mb.prototype.auth=function(){return Object(E.__awaiter)(this,void 0,void 0,function(){var t;return Object(E.__generator)(this,function(e){switch(e.label){case 0:return this.authTime=Date.now(),[4,fetch(this.config.apiUrl+"/upload/token",{method:"POST",credentials:"include"})];case 1:return[4,e.sent().json()];case 2:return t=e.sent().data.accessToken,[2,this.accessToken=t]}})})},mb.prototype.getToken=function(a){return Object(E.__awaiter)(this,void 0,void 0,function(){var t,n,r,o,i;return Object(E.__generator)(this,function(e){switch(e.label){case 0:if(!this.accessToken)throw new Error("No Auth");return t=this.config,n=t.server,r=t.type,o="server="+n+"&type="+r,[4,fetch(this.config.uploaderUrl+"/token?"+o,{method:"POST",headers:{authorization:"bearer "+this.accessToken,"content-type":"application/json"},body:JSON.stringify(a.map(function(e){return e.name}))})];case 1:if(401!==(i=e.sent()).status)return[3,4];if(Date.now()-this.authTime<86400)throw new Error("Auth failed");return[4,this.auth()];case 2:return e.sent(),[4,this.getToken(a)];case 3:return[2,e.sent()];case 4:return[4,i.json()];case 5:return[2,e.sent()]}})})},mb);function mb(e,t){void 0===t&&(t=!0);var n=db.call(this)||this;return n.authTime=0,n.xhrQueue=[],n.uploadFile=function(d,f){return Object(E.__awaiter)(n,void 0,void 0,function(){var p=this;return Object(E.__generator)(this,function(e){return[2,new Promise(function(e,t){var n,r,o=new XMLHttpRequest;o.open("POST",f.serverUrl);var i=new FormData;try{for(var a=Object(E.__values)(pb()(f)),s=a.next();!s.done;s=a.next()){var c=Object(E.__read)(s.value,2),l=c[0],u=c[1];i.append(l,u)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}i.append("file",d),o.onload=function(){e(JSON.parse(o.responseText))},o.onerror=function(e){t(e)},o.onloadend=function(){p.xhrQueue=p.xhrQueue.filter(function(e){return e!==o})},p.config.progressEventName&&o.upload&&(o.upload.onprogress=function(e){p.emit(p.config.progressEventName,e.loaded/e.total)}),o.send(i),p.xhrQueue.push(o)})]})})},n.config=e,n.accessToken=e.accessToken,t&&!n.accessToken&&n.auth(),n}var hb,bb,gb=i(498);function _b(a,e,s,c,l,t,u,p){return void 0===p&&(p={}),Object(E.__awaiter)(this,void 0,void 0,function(){var o,t,i,n,r;return Object(E.__generator)(this,function(e){switch(e.label){case 0:return Gh.start(),M.a.success(g()("正在导入...")),"function"==typeof u&&u(!1),o=+new Date,(t=gb()).init(),i=Object($h.a)(),"function"!=typeof createImageBitmap?[3,2]:[4,(n=new fb({apiUrl:Object(bh.getHost)()+"/api",uploaderUrl:Object(bh.getUploaderUrl)().replace("/token",""),server:Object(F.getString)("UPLOADER_TYPE"),type:"images"},!1)).auth()];case 1:e.sent(),(r=n.accessToken)&&t.postMessage({type:"uploaderConf",accessToken:r,apiUrl:Object(bh.getHost)()+"/api",uploaderUrl:Object(bh.getUploaderUrl)().replace("/token",""),server:Object(F.getString)("UPLOADER_TYPE")}),e.label=2;case 2:return s&&t.postMessage("toJS"in s?s.toJS():s),t.addEventListener("message",function(n){if(Gh.finish(),n.data.error&&("function"==typeof u&&u(!0),M.a.destroy(),"string"==typeof n.data.error?M.a.error(g()(hb=hb||Object(E.__makeTemplateObject)(["导入失败，",""],["导入失败，",""]),n.data.error)):M.a.error(g()("导入出错，请重试。"))),n.data.value instanceof Array&&0<n.data.value.length){var r=s&&s.name.replace(".xmind","")||"",e=n.data.value.map(function(e,t){return function(e){var o=e.type,i=e.name,a=e.content,s=e.folder,c=e.after;return Object(E.__awaiter)(this,void 0,void 0,function(){var t,n,r;return Object(E.__generator)(this,function(e){switch(e.label){case 0:return[4,fetch(Object(bh.getHost)()+"/lizard-api/files/",{method:"POST",headers:{"content-type":"application/json"},credentials:"include",body:JSON.stringify({type:o,name:i,content:a,folder:s,after:c})})];case 1:return t=e.sent(),n={headers:t.headers,ok:t.ok},t.ok?[4,t.json()]:[3,3];case 2:return r=e.sent(),[3,4];case 3:r=void 0,e.label=4;case 4:return[2,(n.data=r,n)]}})})}({type:"mindmap",name:1<n.data.value.length?r+"-"+(e.name||t):r,content:e.value,folder:a?a.guid:0,after:p.after})});Promise.all(e).then(function(e){var t=Object(E.__read)(e,1)[0];if(c&&c.reset(),!t.ok)throw t;Object(te.b)("import",{guid:t.data.guid,file_format:l,result_type:"mindmap",file_size_before:s instanceof File?s.size:s&&s.fileSize,upload_duration:new Date-o,is_success:"yes",request_id:t.headers.get("x-request-id"),platform:"web"}),i.resolve(void 0),"function"==typeof u&&u(!0);var n=Object(Se.a)({title:g()("思维导图导入成功"),description:g()(bb=bb||Object(E.__makeTemplateObject)(["您导入的「","」已经成功，是否查看"],["您导入的「","」已经成功，是否查看"]),r),footer:[d.createElement(U.a,{key:"ok",type:"black",onClick:function(){location.href=Object(ef.getFileUrl)(t.data.type,t.data.guid)}},g()("立刻查看")),d.createElement(U.a,{key:"cancel",type:"outline",onClick:function(){n()}},g()("稍后再说"))]})}).catch(function(e){i.reject(e),Object(te.b)("import",{guid:"",file_format:l,result_type:"mindmap",file_size_before:s instanceof File?s.size:s&&s.fileSize,upload_duration:new Date-o,is_success:"no",request_id:e&&e.headers?e.headers.get("x-request-id"):"",platform:"web"}),"function"==typeof u&&u(!0)})}}),[2,i]}})})}function vb(e,t,n,r,o,i,a,s){var c=o?o.target.form:void 0;return Vh(r,function(){return yb(e,t,r,"new_import",c,n,i,a,s)},function(e){M.a.error(g()(Eb=Eb||Object(E.__makeTemplateObject)(["暂不支持超过 ","M 的文件，请拆分文件后上传"],["暂不支持超过 ","M 的文件，请拆分文件后上传"]),e)),Object(te.a)("100009",{moduleName:g()("桌面右侧"),submoduleName:g()("导入"),actionName:g()("文件超过 20 M")})},n)}var yb=function(e,t,n,r,o,i,a,s,c){var l=n&&n.name.split(".").pop();return zh(["xlsx","richxls","xls","csv"],l)?(Object(te.a)("100009",{moduleName:g()("桌面右侧"),submoduleName:g()("导入"),actionName:g()("前端已发起API请求"),fileFormat:l}),lb(e,l,n,o,i,a,s,c)):zh(["doc","docx","txt","md"],l)?(Object(te.a)("100009",{moduleName:g()("桌面右侧"),submoduleName:g()("导入"),actionName:g()("前端已发起API请求"),fileFormat:l}),function(e,i,a,s,c,t,l,n){void 0===n&&(n={}),Gh.start(),M.a.success(g()("正在导入...")),"function"==typeof l&&l(!1);var r=a instanceof File?new FormData:new Hh,o=a?a.name.split(".").slice(0,-1).join("."):"",u=e&&e.guid||0;if(r.append("alpha","true"),"modoc"===t?r.append("type","modoc"):r.append("type","newdoc"),r.append("name",o),a instanceof File)if("md"===c)try{r.append("file",new File([a],a.name,{type:"text/markdown"}))}catch(e){r.append("file",a)}else r.append("file",a);else a&&r.append("fileGuid",a.guid),r.append("folder",u);r.append("parentId",u+""),n.after&&r.append("after",n.after);var p=+new Date,d="",f=Object(F.isSelfHosted)()?Object(bh.getApi)():Object(bh.isDev)()?"https://xxport.shimodev.com":"https://xxport.shimo.im";return fetch(f+"/files/import",{method:"POST",headers:r instanceof Hh?{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json"}:{"X-Requested-With":"XMLHttpRequest"},body:r instanceof Hh?JSON.stringify(r):r,credentials:"include"}).then(function(e){if(d=e&&e.headers.get("x-request-id"),!(299<e.status))return e.json()}).then(function(e){Gh.finish(),M.a.destroy();var t=e.error,n=void 0!==e&&!t;if(Object(te.b)("import",{guid:n?e.guid:"",file_format:c,result_type:n?Object(ef.toFileTypeStr)(e.type,!0):"",file_size_before:a&&a instanceof File?a.size:a&&a.fileSize,upload_duration:new Date-p,is_success:n?"yes":"no",request_id:d,platform:"web"}),n){var r=new Date-p;Kh("0016",i,u,{type:"timing",value:r}),1e4<=r&&Kh("0017",i,u);var o=Object(ef.getFileUrl)(e.type,e.guid);Object(te.a)({moduleName:g()("桌面右侧"),submoduleName:g()("导入"),actionName:g()("文档后端导入"),fileFormat:c,importSucceed:"true",fileUrl:o}),location.href=o}else M.a.error(t||g()("导入出错，请重试。")),Object(te.a)({moduleName:g()("桌面右侧"),submoduleName:g()("导入"),actionName:g()("上传文件错误"),errorMessage:t||g()("服务端返回数据异常"),fileFormat:c,importSucceed:"false"}),Kh("0019",i,u);Yh(s),"function"==typeof l&&l(!0)},function(e){M.a.destroy(),M.a.error(e.message),"function"==typeof l&&l(!0),Object(te.b)("import",{guid:"",file_format:c,result_type:"",file_size_before:a instanceof File?a.size:a&&a.fileSize,upload_duration:new Date-p,is_success:"no",request_id:d,platform:"web"})}).catch(function(e){Object(te.a)("100009",{moduleName:g()("桌面右侧"),submoduleName:g()("导入"),actionName:g()("上传文件错误"),errorMessage:e.message,fileFormat:c,importSucceed:"false"}),M.a.destroy(),M.a.error(g()("导入出错，请重试。")),Kh("0019",i,u),Yh(s)})}(e,t,n,o,l,a,s,c)):zh(["xmind"],l)?(Object(te.a)("100009",{moduleName:g()("桌面右侧"),submoduleName:g()("导入"),actionName:g()("前端已发起API请求"),fileFormat:l}),_b(e,0,n,o,l,0,s,c)):(M.a.destroy(),M.a.error(g()("暂不支持导入该格式的文件，请重新选择 .xlsx / .docx / .doc / .txt / .md 格式的文件导入")),void Object(te.a)("100009",{moduleName:g()("桌面右侧"),submoduleName:g()("导入"),actionName:g()("导入格式不支持"),fileFormat:l}))};var Eb,Ob,xb,Tb,Cb,wb,Sb={commonImport:vb,beforeImport:function(e,t,n,r,o){var i=Object(kh.checkBeforeUploadFile)({me:e,folder:t});if(i.disabled){switch(Object(te.a)("100009",{moduleName:g()("桌面右侧"),submoduleName:g()("导入"),actionName:g()("权限问题"),permissionReason:i.reason}),i.reason){case Nh.CONSTANTS.FAILURE_PERSONAL_FREE:!function(){var e=Object(Se.a)({title:g()("操作失败"),description:d.createElement("div",null,d.createElement("div",null,g()("基础版帐号不能在超过15人协作的文件夹内创建／移入文件，升级高级版无此限制")),d.createElement("a",{href:"/pricing",target:"_blank",onClick:function(){e()}},g()("免费升级高级版"))),footer:[d.createElement(U.a,{key:"ok",type:"black",href:"/pricing",target:"_blank",onClick:function(){e()}},g()("购买高级版")),d.createElement(U.a,{key:"cancel",type:"outline",onClick:function(){e()}},g()("取消"))]})}();break;case Nh.CONSTANTS.FAILURE_TRIAL_EXPIRED:!function(){var e=Object(Se.a)({title:g()("操作失败"),description:d.createElement("div",null,d.createElement("div",null,g()("您的试用已到期，不能创建／移入文件，升级企业版无此限制")),d.createElement("a",{target:"_blank",href:"/pricing"},g()("了解更多企业版特权"))),footer:[d.createElement(U.a,{key:"ok",type:"black",href:"/enterprise/billing",target:"_blank",onClick:function(){e()}},g()("升级企业版")),d.createElement(U.a,{key:"cancel",type:"outline",onClick:function(){e()}},g()("取消"))]})}();break;case Nh.CONSTANTS.FAILURE_ENTERPRISE_EXPIRED_CREATOR_OR_ADMIN:!function(){var e=Object(Se.a)({title:g()("操作失败"),description:d.createElement("div",null,d.createElement("div",null,g()("您的企业版已到期，不能创建／移入文件，续费企业版无此限制")),d.createElement("a",{target:"_blank",href:"/pricing"},g()("了解更多企业版特权"))),footer:[d.createElement(U.a,{key:"ok",type:"black",href:"/enterprise/billing",target:"_blank",onClick:function(){e()}},g()("续费企业")),d.createElement(U.a,{key:"cancel",type:"outline",onClick:function(){e()}},g()("取消"))]})}();break;case Nh.CONSTANTS.FAILURE_ENTERPRISE_EXPIRED_MEMBER:!function(){var e=Object(Se.a)({title:g()("操作失败"),description:d.createElement("div",null,d.createElement("div",null,g()("您的企业版已到期，不能创建／移入文件，续费企业版无此限制")),d.createElement("a",{target:"_blank",href:"/pricing"},g()("了解更多企业版特权"))),footer:[d.createElement(U.a,{key:"ok",type:"black",href:"/enterprise/billing",target:"_blank",onClick:function(){e()}},g()("续费企业")),d.createElement(U.a,{key:"cancel",type:"outline",onClick:function(){e()}},g()("取消"))]})}();break;case Nh.CONSTANTS.FAILURE_NOT_ON_SEAT:!function(){var e=Object(Se.a)({title:g()("操作失败"),description:g()(Ch=Ch||Object(E.__makeTemplateObject)(["您是非席位成员，不能在超过15人协作的文件夹内创建／移入文件，请联系企业创建者将您设置为席位成员"],["您是非席位成员，不能在超过15人协作的文件夹内创建／移入文件，请联系企业创建者将您设置为席位成员"])),footer:[d.createElement(U.a,{key:"ok",type:"black",onClick:function(){e()}},g()("确定"))]})}()}return!1}return!!Object(Ih.a)(e,n)&&(o&&o(),!0)},handleImport:function(n,r,o,i,a,s){return function(e){var t=e?"length"in e?e[0]:e.target instanceof HTMLInputElement&&e.target.files&&0<e.target.files.length&&e.target.files[0]:void 0;return vb(n,r,o,t,"length"in e?void 0:e,a,i,s)}},handleDropImport:function(n,r,o){return function(e){var t=e[0];return vb(n,r,o,t)}},canIImport:function(e){switch(e){case"xmind":return!Object(Ah.a)()&&!Object(x.c)()&&"function"==typeof ArrayBuffer&&"function"==typeof FileReader;default:return!0}}},jb=i(176),Ib=V()(jh).withConfig({componentId:"sc-1mZkf2"})(xb=xb||Object(E.__makeTemplateObject)(["border:none;background:transparent;text-align:inherit;padding:0;display:inline-block;line-height:33px;padding-left:0;font-weight:normal;input{position:absolute;}&:hover{border:none;background:transparent;}"],[""])),Ab=V()(U.a).withConfig({componentId:"sc-1mZkf2-1"})(Tb=Tb||Object(E.__makeTemplateObject)(["position:relative;width:38px;min-width:38px;height:28px;margin:11px 0 11px 14px;"],[""])),kb=V()(jb.a).withConfig({componentId:"sc-1mZkf2-2"})(Cb=Cb||Object(E.__makeTemplateObject)(["display:block;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);"],[""])),Nb=V.a.div.withConfig({componentId:"sc-1mZkf2-3"})(wb=wb||Object(E.__makeTemplateObject)(["width:160px;white-space:normal;"],[""])),Pb=(Ob=O.a.PureComponent,Object(E.__extends)(Rb,Ob),Rb.prototype.componentDidMount=function(){this.props.dispatch(Object(Qa.b)())},Rb.prototype.render=function(){var t=this,e=this.props,n=e.parentFile,r=e.file;return n||0===r.parentId?O.a.createElement(gh,null,function(e){return O.a.createElement(fh,{parentFile:n,menus:Object(E.__spread)(e,t.extraMenus),onMenuClick:t.handleMenuClick,dropdownOptions:t.dropdownOptions},function(e,t,n){return O.a.createElement(nl.a,{trigger:"hover",title:t?O.a.createElement(Nb,null,n):null,placement:"bottom",align:{offset:[1,0]}},O.a.createElement(Ab,{type:"primary",size:"s","data-test":"create-file",disabled:t,active:e},O.a.createElement(kb,{width:"18px",height:"18px"})))})}):null},Object.defineProperty(Rb.prototype,"extraMenus",{get:function(){var e=this.props.online;return[{method:Nd.Custom,type:"uploadFile",body:O.a.createElement("span",{"data-test":"upload-file"},O.a.createElement(Ib,{innerRef:this.importRef,onClick:this.handleImportButtonClick,disabled:!e,onChange:this.handleImportFile,supportedType:".doc,.docx,.xlsx,.richxls,.txt,.md,.csv,application/vnd.ms-excel"+(Sb.canIImport("xmind")?",.xmind":"")},O.a.createElement(Ed,{backgroundUrl:Eh.a}),g()("导入")))}]},enumerable:!0,configurable:!0}),Rb=Object(E.__decorate)([Object(R.a)(function(e,t){var n=t.file?Object(k.b)(e,t.file.guid):null;return{parentFile:n?Object(N.b)(e,n):null}})],Rb));function Rb(){var l=null!==Ob&&Ob.apply(this,arguments)||this;return l.importRef=O.a.createRef(),l.dropdownOptions={showTip:!0},l.state={isImportFinished:!0},l.handleImportButtonClick=function(){var e=l.props,t=e.userGuide,n=e.online,r=e.me;if(n){if(!Object(Ih.a)(r))return;!1===t.get("first_time_import_file")&&l.props.dispatch(rd("first_time_import_file")),l.importRef.current.input.click()}},l.handleImportFile=function(e){var t=Sb.beforeImport,n=Sb.handleImport,r=l.props,o=r.me,i=r.team,a=r.userGuide,s=r.alphaFeatures,c=r.parentFile;l.state.isImportFinished?t(o,c,i,a,function(){return n(c||{guid:"0"},o,s,function(e){return l.setState({isImportFinished:e})})(e)}):M.a.error(g()("请等待上次导入完成"))},l.handleMenuClick=function(e){"form"===e&&Object(te.a)({moduleName:g()("文件内 header 左上角"),actionName:g()("新建表单")})},l}i.d(t,"a",function(){return $b});var Db,Lb,Mb,Fb,Ub,Bb,zb,Vb,Gb,Hb,Wb=G.c.isFilePublicReadOnly,Yb=G.c.isFileAuthorized,Kb=G.c.typeToText,$b=(Db=O.a.PureComponent,Object(E.__extends)(qb,Db),qb.prototype.componentDidMount=function(){var e=this.props,t=e.file,n=e.dispatch,r=e.me;n(Object(p.f)(t.guid)),r.team&&n(j("force_team_share"));var o=L()(t,"permissions.editable",!1);o||"commentator"!==t.role||M.a.error({content:g()("您的权限为只能评论")}),o||"reader"!==t.role||M.a.error({content:g()("您的权限为只能阅读")}),r.id<0&&o&&function(e){var t=B.a.open({closable:!1,maskClosable:!1,maskStyle:X,body:O.a.createElement(a,{file:e,destroy:function(){return t()}}),width:480,footer:null}).destroy}(t),n(A("lock_file")),A("professional_docs"),n(A("import_size_unlimited")),n(A("can_use_video_meeting"))},qb.prototype.render=function(){var e=this.props,t=e.file,n=e.me,r=e.team,o=e.parentFolder,i=e.saveStatusText,a=e.saveStatus,s=e.saveOffline,c=e.alphaFeatures,l=e.templateLimit,u=e.editor,p=e.online,d=e.socket,f=e.dispatch,m=e.getMenuItems,h=e.collaboratorsClient,b=e.userGuide,g=L()(t,"permissions.editable",!1),_=Wb(t),v=t&&Yb(t),y=n&&0<n.id;return O.a.createElement("div",{className:"file-page-header"},O.a.createElement(ve,{className:"page-header-container"},O.a.createElement(ye,{"data-test":"page-header-left"},y?O.a.createElement(O.a.Fragment,null,O.a.createElement(sp,{file:t,parentFolder:o,me:n,confirmBeforeLeave:this.handleConfirmBeforeLeave}),O.a.createElement(Np,{file:t,me:n}),O.a.createElement(Pb,{file:t,userGuide:b,alphaFeatures:c,me:n,team:r,dispatch:f,online:p})):O.a.createElement(we,{"data-test":"file-header-logo"},O.a.createElement(Yu,{onClick:this.handleLogoClick})),O.a.createElement(Yp,{file:t,readonly:!g,dispatch:f,online:p}),O.a.createElement(wp,{file:t,me:n,dispatch:f}),t.isLocked&&O.a.createElement(Vc,{file:t,onUnlockFile:this.handleUnlockFile}),!t.isLocked&&O.a.createElement(tc,{status:a,text:i,offline:s}),O.a.createElement(Tc,{me:n})),O.a.createElement(Ee,{"data-test":"page-header-middle"},O.a.createElement(ke,null,function(e){return e.content?O.a.createElement(He,{onClick:e.onClick,type:e.type,link:e.link},e.content):null})),O.a.createElement(Oe,{className:"page-header-right","data-test":"page-header-right"},!_&&O.a.createElement(Ac.b,{file:t,me:n,editor:u,collaboratorsClient:h}),y&&O.a.createElement(xe,{"data-test":"file-header-user-menu"},O.a.createElement(us,{onMenuClick:this.handleUserMenuClick})),O.a.createElement(Te,{"data-test":"file-header-custom-wrapper"},this.props.customButtonPanel?this.props.customButtonPanel:null),!y&&O.a.createElement($u,{fileType:t.type}),c.can_use_video_meeting&&O.a.createElement(Fl,{me:n,file:t,meetingReady:!!d}),v&&O.a.createElement(O.a.Fragment,null,O.a.createElement(Pc,{online:p,file:t,team:r,me:n,parentFileGuid:o?o.guid:"0"}),O.a.createElement(Dc,{file:t,getShareUrl:this.props.getShareUrl,online:p})),O.a.createElement(vu,{file:t,parentFolder:o,me:n,team:r,online:p,dispatch:f,alphaFeatures:c,templateLimit:l,menuItems:m,onMenuClick:this.handleFileMenuClick,history:this.props.history,location:this.props.location,extra:this.props.menuExtraProps}))),!Object(F.isSelfHosted)()&&!Object(x.a)()&&O.a.createElement(Ce,null,O.a.createElement(Xt,Object(E.__assign)({},this.props,{position:Z.PCRightBottomCard}))))},qb=Object(E.__decorate)([R.b,Object(R.a)(function(e,t){var n=Object(k.b)(e,t.file.guid);return{parentGuid:n,parentFolder:Object(N.b)(e,n),team:Object(P.a)(e),alphaFeatures:e.alphaFeatures,online:e.status.online,templateLimit:e.templateLimit,userGuide:e.userGuide}}),vl(),Ss()],qb));function qb(){var i=null!==Db&&Db.apply(this,arguments)||this;return i.state={},i.handleConfirmBeforeLeave=function(e){var t=i.props,n=t.history,r=t.online;"fail"!==t.saveStatus||r?e(n):Object(Se.a)({title:g()("离开此页面？"),description:g()("当前页面存在未同步离线数据，离开页面可能导致数据同步失败，确定要离开吗？"),confirmFun:function(){window.onbeforeunload=null,e(n)}})},i.handleUserMenuClick=function(e){var t=i.props.file;-1<["download","downloadWechat"].indexOf(e)&&Object(te.a)({moduleName:g()("文件内 header 右上角下载 App"),actionName:g()(Lb=Lb||Object(E.__makeTemplateObject)(["","副本"],["","副本"]),Kb(t.type))})},i.handleUnlockFile=function(){i.props.file.permissions.unlockable&&i.props.onUnlockFile()},i.handleFileMenuClick=function(e,t,n){var r=n.file,o=i.props.onMenuClick;switch(e){case Ou.FILE_MENU_ADD_TO_SHORTCUT:Object(te.a)({moduleName:g()("文件内 header 右上角更多菜单"),actionName:g()(Mb=Mb||Object(E.__makeTemplateObject)(["将","添加到快速访问"],["将","添加到快速访问"]),Kb(r.type))});break;case Ou.FILE_MENU_DELETE:Object(te.a)({moduleName:g()("文件内 header 右上角更多菜单"),actionName:g()(Fb=Fb||Object(E.__makeTemplateObject)(["删除",""],["删除",""]),Kb(r.type))});break;case Ou.FILE_MENU_DUPLICATE:Object(te.a)({moduleName:g()("文件内 header 右上角更多菜单"),actionName:g()(Ub=Ub||Object(E.__makeTemplateObject)(["创建","副本"],["创建","副本"]),Kb(r.type))});break;case Ou.FILE_MENU_MOVE:Object(te.a)({moduleName:g()("文件内 header 右上角更多菜单"),actionName:g()(Bb=Bb||Object(E.__makeTemplateObject)(["移动",""],["移动",""]),Kb(r.type))});break;case Ou.FILE_MENU_MUTE:Object(te.a)({moduleName:g()("文件内 header 右上角更多菜单"),actionName:g()(zb=zb||Object(E.__makeTemplateObject)(["将","置为消息免打扰"],["将","置为消息免打扰"]),Kb(r.type))});break;case Ou.FILE_MENU_STAR:Object(te.a)({moduleName:g()("文件内 header 右上角更多菜单"),actionName:r.starred?g()(Vb=Vb||Object(E.__makeTemplateObject)(["取消收藏",""],["取消收藏",""]),Kb(r.type)):g()(Gb=Gb||Object(E.__makeTemplateObject)(["收藏",""],["收藏",""]),Kb(r.type))});break;case Ou.FILE_MENU_TOGGLE_LOCK:return r.isLocked?i.props.onUnlockFile():i.props.onLockFile()}o(e,t,n)},i.handleLogoClick=function(){var e=i.props.file;Object(te.a)({moduleName:g()("文件内 header 左上角 logo"),actionName:g()(Hb=Hb||Object(E.__makeTemplateObject)(["删除",""],["删除",""]),Kb(e.type,e.isSpace))})},i}},function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"getMenuItem",function(){return k}),n.d(r,"keys",function(){return K}),n.d(r,"callbacks",function(){return $});var o={};n.r(o),n.d(o,"getMenuItem",function(){return X}),n.d(o,"keys",function(){return Q}),n.d(o,"callbacks",function(){return J});var i={};n.r(i),n.d(i,"getMenuItem",function(){return Ce}),n.d(i,"keys",function(){return we}),n.d(i,"callbacks",function(){return Se});var a={};n.r(a),n.d(a,"getMenuItem",function(){return Ae}),n.d(a,"keys",function(){return ke}),n.d(a,"callbacks",function(){return Ne});var s={};n.r(s),n.d(s,"getMenuItem",function(){return Jr}),n.d(s,"keys",function(){return Zr}),n.d(s,"callbacks",function(){return eo});var c={};n.r(c),n.d(c,"getMenuItem",function(){return oo}),n.d(c,"keys",function(){return io}),n.d(c,"callbacks",function(){return ao});var l={};n.r(l),n.d(l,"getMenuItem",function(){return Oo}),n.d(l,"keys",function(){return xo}),n.d(l,"callbacks",function(){return To});var u={};n.r(u),n.d(u,"getMenuItem",function(){return zo}),n.d(u,"keys",function(){return Vo}),n.d(u,"callbacks",function(){return Go});var p={};n.r(p),n.d(p,"getMenuItem",function(){return si}),n.d(p,"callbacks",function(){return ci}),n.d(p,"keys",function(){return li});var d={};n.r(d),n.d(d,"getMenuItem",function(){return yi}),n.d(d,"keys",function(){return Ei}),n.d(d,"callbacks",function(){return Oi});var f={};n.r(f),n.d(f,"getMenuItem",function(){return Ti}),n.d(f,"keys",function(){return Ci}),n.d(f,"callbacks",function(){return wi});var m={};n.r(m),n.d(m,"getMenuItem",function(){return ji}),n.d(m,"keys",function(){return Ii}),n.d(m,"callbacks",function(){return Ai});var h=n(2),b=n(0),g=n.n(b),_=n(20),v=n(222),y=n(40),E=n(26),O=n(1),x=n.n(O),T=n(10),C=n(21),w=n(832),S=n(187),j=n(19),I=S.c.typeToText,A=S.e.middleTruncateString,k=function(e){var t=e.online;return g.a.createElement(v.a,{key:C.FILE_MENU_DELETE,disabled:!t},g.a.createElement(E.c,{disabled:!t},g.a.createElement(E.f,null,g.a.createElement(E.a,null,x()(L=L||Object(h.__makeTemplateObject)(["删除"],["删除"]))))))};function N(e,t){var n=e.file,r=I(n.type);Object(y.a)({title:x()("确认删除"),description:x()(M=M||Object(h.__makeTemplateObject)(["确认删除","吗？删除后，所有协作者都无法访问此",""],["确认删除","吗？删除后，所有协作者都无法访问此",""]),r,r),confirmFun:function(){return function(i,a){return Object(h.__awaiter)(this,void 0,void 0,function(){var t,n,r,o;return Object(h.__generator)(this,function(e){switch(e.label){case 0:t=i.file,n=i.location,r=t.isFromSVC,o=t.type,e.label=1;case 1:return e.trys.push([1,6,,7]),r?[4,a(Object(w.p)([t.guid]))]:[3,3];case 2:return e.sent(),[3,5];case 3:return[4,a(Object(w.o)(t.guid))];case 4:e.sent(),e.label=5;case 5:return T.a.success(x()("删除成功")),"folder"===o&&n.pathname.indexOf("/favorites")<0&&R(i),-1<n.pathname.indexOf(t.guid)&&R(i,!0),[3,7];case 6:return e.sent(),T.a.error(x()("删除失败")),[3,7];case 7:return[2]}})})}(e,t)},okText:x()("确认删除")})}function P(e,t){var n=e.file,r=I(n.type),o=Object(y.a)({title:x()("退出共享"),description:g.a.createElement("div",null,x()("你不是"),r,x()("的创建者"),g.a.createElement("br",null),x()("继续此操作会退出"),r,x()("共享"),g.a.createElement("br",null),x()("但不会删除"),r),footer:[g.a.createElement(j.a,{key:"exit",type:"black",onClick:function(){!function(r,o){Object(h.__awaiter)(this,void 0,void 0,function(){var t,n;return Object(h.__generator)(this,function(e){switch(e.label){case 0:t=r.file,n=r.location,e.label=1;case 1:return e.trys.push([1,3,,4]),[4,o(Object(w.d)(t.guid))];case 2:return e.sent(),T.a.success(x()(F=F||Object(h.__makeTemplateObject)(["已从此","的共享中退出"],["已从此","的共享中退出"]),A(t.name,22,4))),-1<n.pathname.indexOf(t.guid)&&R(r,!0),[3,4];case 3:return e.sent(),T.a.error(x()("操作失败")),[3,4];case 4:return[2]}})})}(e,t),o()}},x()("退出共享"))]})}function R(e,t){void 0===t&&(t=!1);var n=e.parentFolder,r=e.history,o=n?n.guid:"0";if(o.match(/^[1|0]$/))t?location.href="/desktop":r.push("/desktop");else{var i="/"+(n&&n.isSpace?"space":"folder")+"/"+o;t?location.href=i:r.push(i)}}function D(e){var t=e.checked,n=e.reason,r=e.index,o=e.onChange;return g.a.createElement(ie,{onClick:function(){return o(r)}},g.a.createElement(ae,{type:"radio",size:"m",checked:t,value:n}),g.a.createElement(se,null,"0"===n?x()("其他原因"):n))}var L,M,F,U,B,z,V,G,H,W,Y,K=[C.FILE_MENU_DELETE],$=[function(n,r){return Object(h.__awaiter)(void 0,void 0,void 0,function(){var t;return Object(h.__generator)(this,function(e){if((t=r.file).isLocked)return T.a.error(x()("操作失败， 该文件已被锁定，请解锁后重试！")),[2];switch(Object(_.c)({file:t}).reason){case _.a.ONLY_DELETE_FILE:N(r,n);break;case _.a.ONLY_EXIT_SHARE:P(r,n);break;default:return[2]}return[2]})})}],q=n(177),X=function(e){var t=e.file,n=e.online,r=t.permissions.exportable;return g.a.createElement(v.a,{key:C.FILE_MENU_DUPLICATE,disabled:!n||!r},g.a.createElement(E.c,{disabled:!n||!r},g.a.createElement(E.a,null,x()("创建副本"))))},Q=[C.FILE_MENU_DUPLICATE],J=[function(s,c){return Object(h.__awaiter)(void 0,void 0,void 0,function(){var t,n,r,o,i,a;return Object(h.__generator)(this,function(e){switch(e.label){case 0:if(t=c.file,n=c.me,r=c.parentFolder,!Object(q.a)(n))return[2];if(o=t.permissions&&t.permissions.exportable,"0"===(i=o&&r?r.guid:"0")&&t.isFromSVC)return T.a.error({content:x()("没有权限访问该文件所在协作空间，无法创建副本")}),[2];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,s(Object(w.c)([t.guid],i))];case 2:return e.sent(),T.a.success({content:"0"===i?x()("副本已保存到「我的桌面」"):x()(U=U||Object(h.__makeTemplateObject)(["副本已保存到「","」",""],["副本已保存到「","」",""]),r.name,r.isSpace?x()("协作空间"):x()("文件夹"))}),[3,4];case 3:return(a=e.sent())&&403===a.status?T.a.error({content:a.message||x()("没有权限访问，无法创建副本")}):T.a.error({content:x()("创建副本失败，请稍后再试")}),[3,4];case 4:return[2]}})})}],Z=n(32),ee=n(4),te=n.n(ee),ne=n(232),re=n(105),oe=te.a.div.withConfig({componentId:"sc-17YukI"})(B=B||Object(h.__makeTemplateObject)(["margin-bottom:20px;&::after{clear:both;content:'';display:table;}"],[""])),ie=te.a.div.withConfig({componentId:"sc-17YukI-1"})(z=z||Object(h.__makeTemplateObject)(["float:left;width:50%;margin-bottom:5px;height:29px;text-align:left;cursor:pointer;"],[""])),ae=te()(re.a).withConfig({componentId:"sc-17YukI-2"})(V=V||Object(h.__makeTemplateObject)(["margin-right:10px;"],[""])),se=te.a.span.withConfig({componentId:"sc-17YukI-3"})(G=G||Object(h.__makeTemplateObject)(["display:inline-block;vertical-align:middle;"],[""])),ce=te()(ne.a).withConfig({componentId:"sc-17YukI-4"})(H=H||Object(h.__makeTemplateObject)(["width:382px;margin-bottom:10px;"],[""])),le=te()(ne.a).withConfig({componentId:"sc-17YukI-5"})(W=W||Object(h.__makeTemplateObject)(["width:382px;> textarea{resize:none;min-height:72px;}"],[""])),ue=(Y=g.a.PureComponent,Object(h.__extends)(pe,Y),pe.prototype.render=function(){var n=this,e=this.props,r=e.selectedIndex,t=e.reasonInfo,o=e.email;return g.a.createElement(g.a.Fragment,null,g.a.createElement(oe,null,this.props.reasons.map(function(e,t){return g.a.createElement(D,{key:t,index:t,reason:e,checked:t===r,onChange:n.handleChangeSelectedIndex})})),3===r?g.a.createElement(g.a.Fragment,null,g.a.createElement(ce,{type:"text",value:o,onChange:this.handleChangeEmail,placeholder:x()("填写举报人邮箱（必填）"),required:!0}),g.a.createElement(le,{type:"textarea",value:t,onChange:this.handleChangeReasonInfo,placeholder:x()("请提供有效证明材料，如疑似抄袭请填写原文链接或描述内容出处（必填）"),required:!0})):g.a.createElement(le,{type:"textarea",value:t,onChange:this.handleChangeReasonInfo,placeholder:x()("如有需要，请填写举报详情，也可留下您的联系方式，处理后我们会尽快联系您。")}))},pe);function pe(){var t=null!==Y&&Y.apply(this,arguments)||this;return t.handleChangeSelectedIndex=function(e){t.props.onChange({selectedIndex:e})},t.handleChangeEmail=function(e){t.props.onChange({email:e})},t.handleChangeReasonInfo=function(e){t.props.onChange({reasonInfo:e})},t}var de=n(11),fe=S.b.getApi,me=new RegExp('^(([^<>()\\[\\]\\\\.,;:\\s@"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@"]+)*)|(".+"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$'),he=[x()("政治敏感"),x()("疑似诈骗"),x()("低俗色情"),x()("抄袭／侵权"),x()("垃圾广告"),"0"];function be(d,f,m){return Object(h.__awaiter)(this,void 0,void 0,function(){var t,n,r,o,i,a,s,c,l,u,p;return Object(h.__generator)(this,function(e){switch(e.label){case 0:if(!function(e){var t=e.selectedIndex,n=e.email,r=e.reasonInfo;if(3===t){if(!n)return T.a.error(x()("邮箱不能为空")),!1;if(!me.test(n))return T.a.error(x()("邮箱格式不对")),!1;if(!r)return T.a.error(x()("请输入详细原因")),!1}return!0}(d))return[2];t=window.navigator.plugins,n=Array.from(t).map(function(e){return e.name}).join(),r=window.navigator.userAgent,o=d.email,i=d.reasonInfo,a=d.selectedIndex,s=0<f.id?f.id:""+n+r,c=m.guid,l={guid:c,userId:s,email:o,reportReason:he[a],reportReasonInfo:i},u=Object.keys(l).reduce(function(e,t){var n=t+"="+encodeURIComponent(l[t]);return 0<e.length?e.concat("&"+n):e.concat(n)},[]).join(""),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,fetch(fe()+"/files/report",{credentials:"include",method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:u})];case 2:return e.sent(),T.a.success(x()("举报已收到，感谢您的反馈")),[3,4];case 3:throw p=e.sent(),T.a.error(x()("抱歉，您的网络状况不佳，请再提交一次")),new Error(p);case 4:return[2]}})})}var ge,_e=(ge=g.a.PureComponent,Object(h.__extends)(ve,ge),ve.prototype.componentDidUpdate=function(e,t){(3!==t.selectedIndex&&3===this.state.selectedIndex||3===t.selectedIndex&&3!==this.state.selectedIndex)&&this.setState({reasonInfo:""})},ve.prototype.render=function(){var e=this.props,t=e.visible,n=e.onClose,r=this.state,o=r.selectedIndex,i=r.reasonInfo,a=r.email;return g.a.createElement(Z.a,{title:x()("请选择举报的理由"),visible:t,width:"460px",okText:x()("举报"),onCancel:n,onOk:this.handleSubmit},g.a.createElement(ue,{selectedIndex:o,reasonInfo:i,email:a,onChange:this.handleDataChange,reasons:he}))},ve);function ve(){var t=null!==ge&&ge.apply(this,arguments)||this;return t.state={email:"",reasonInfo:"",selectedIndex:0},t.handleSubmit=function(){return Object(h.__awaiter)(t,void 0,void 0,function(){var t,n,r;return Object(h.__generator)(this,function(e){t=this.props,n=t.file,r=t.me;try{be(this.state,r,n),this.props.onClose()}catch(e){}return[2]})})},t.handleDataChange=function(e){t.setState(e)},t}function ye(e){var t=e.type,n=e.size,r=e.className,o=e.style;return g.a.createElement(mt,{src:ft(t),size:n,className:r,style:o})}var Ee,Oe,xe,Te=S.c.typeToText,Ce=function(e){var t=e.online,n=e.file,r=Te(n.type);return g.a.createElement(v.a,{key:C.FILE_MENU_REPORT,disabled:!t},g.a.createElement(E.c,{disabled:!t},g.a.createElement(E.a,null,x()(Ee=Ee||Object(h.__makeTemplateObject)(["举报",""],["举报",""]),r))))},we=[C.FILE_MENU_REPORT],Se=[function(e,t){!function(e,t){var n=document.createElement("div");document.body.appendChild(n),Object(de.render)(g.a.createElement(_e,{me:t,file:e,onClose:function(){Object(de.unmountComponentAtNode)(n),n.remove()},visible:!0}),n)}(t.file,t.me)}],je=n(57),Ie=S.c.typeToText,Ae=function(e){var t=e.file,n=Ie(t.type);return g.a.createElement(je.SubMenu,{key:C.FILE_MENU_HELP,title:g.a.createElement(E.a,null,x()("帮助"))},g.a.createElement(v.a,{key:C.FILE_MENU_TOGGLE_USER_GUIDE},g.a.createElement(E.d,null,x()(Oe=Oe||Object(h.__makeTemplateObject)(["","使用指南"],["","使用指南"]),n))),g.a.createElement(v.a,{key:C.FILE_MENU_TOGGLE_HOTKEYS},g.a.createElement(E.d,null,x()(xe=xe||Object(h.__makeTemplateObject)(["","快捷键"],["","快捷键"]),n))))},ke=[],Ne=[],Pe=n(27),Re=n(852),De=n(111),Le=n(543),Me=n(851),Fe=n(854),Ue=n(3),Be=n.n(Ue),ze=n(129),Ve=n.n(ze),Ge=n(130),He=n.n(Ge),We=n(131),Ye=n.n(We),Ke=n(167),$e=n.n(Ke),qe=n(168),Xe=n.n(qe),Qe=n(166),Je=n.n(Qe),Ze=n(532),et=n.n(Ze),tt=n(533),nt=n.n(tt),rt=n(132),ot=n.n(rt),it=n(133),at=n.n(it),st=n(170),ct=n.n(st),lt=n(171),ut=n.n(lt),pt=n(169),dt=n.n(pt);ye.propTypes={type:Be.a.string,size:Be.a.string,className:Be.a.string,style:Be.a.object};var ft=function(e){switch(e){case"doc":return Ve.a;case"sheet":return He.a;case"slide":return Ye.a;case"mindmap":return $e.a;case"form":return Xe.a;case"folder":return Je.a;case"folder-shared":return et.a;case"shortcut_doc":return nt.a;case"shortcut_sheet":return ot.a;case"shortcut_slide":return at.a;case"shortcut_mindmap":return ct.a;case"shortcut_form":return ut.a;case"shortcut_folder":return dt.a}return""},mt=te.a.img.withConfig({componentId:"sc-1cfzrop-0"})(["width:",";height:",";display:inline-block;"],function(e){return e.size||"15px"},function(e){return e.size||"15px"}),ht=ye;function bt(e){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _t(e,t){return!t||"object"!==bt(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function vt(e){return(vt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yt(e,t){return(yt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Et=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ot=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),_t(this,vt(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yt(e,t)}(t,g.a.Component),function(e,t,n){t&&gt(e.prototype,t),n&&gt(e,n)}(t,[{key:"render",value:function(){return g.a.createElement("svg",Et({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"},this.props),g.a.createElement("path",{fill:"#333",d:"M40 22H15.6l11.2-11.2L24 8 8 24l16 16 2.8-2.8L15.6 26H40z"}))}}]),t}(),xt=n(9),Tt=n(371),Ct=n(531),wt=n.n(Ct);function St(e){return(St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function It(e,t){return!t||"object"!==St(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function At(e){return(At=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kt(e,t){return(kt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Nt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),It(this,At(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kt(e,t)}(t,g.a.Component),function(e,t,n){t&&jt(e.prototype,t),n&&jt(e,n)}(t,[{key:"render",value:function(){return g.a.createElement("svg",Nt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},this.props),g.a.createElement("path",{fill:"none",stroke:"#aaa",strokeLinecap:"round",d:"M8 3.5l8.5 8.5L8 20.5"}))}}]),t}();function Rt(e){return(Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lt(e,t){return!t||"object"!==Rt(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Mt(e){return(Mt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ft(e,t){return(Ft=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ut=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Lt(this,Mt(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ft(e,t)}(t,g.a.Component),function(e,t,n){t&&Dt(e.prototype,t),n&&Dt(e,n)}(t,[{key:"render",value:function(){this.SVG_COMPONENT_ID=this.SVG_COMPONENT_ID||0;var e="c8e58e91556ff3e9c0a345a0fff5903f0_"+this.SVG_COMPONENT_ID++;return g.a.createElement("svg",Ut({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 40 40"},this.props),g.a.createElement("linearGradient",{id:e,gradientUnits:"userSpaceOnUse",x1:"-922.938",y1:"380.857",x2:"-922.938",y2:"379.857",gradientTransform:"matrix(16 0 0 -28.201 14787 10747.548)"},g.a.createElement("stop",{offset:"0",stopColor:"#6c9fe2"}),g.a.createElement("stop",{offset:"1",stopColor:"#80b3f5"})),g.a.createElement("path",{d:"M28 35.2V7H12v28.2l8-8 8 8z",fill:"url(#".concat(e,")")}))}}]),t}();function zt(e){return(zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gt(e,t){return!t||"object"!==zt(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Ht(e){return(Ht=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wt(e,t){return(Wt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Yt,Kt,$t,qt,Xt,Qt,Jt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Gt(this,Ht(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wt(e,t)}(t,g.a.Component),function(e,t,n){t&&Vt(e.prototype,t),n&&Vt(e,n)}(t,[{key:"render",value:function(){this.SVG_COMPONENT_ID=this.SVG_COMPONENT_ID||0;var e="13f4f1edcf1f2dae17b47453044124b40_"+this.SVG_COMPONENT_ID++;return g.a.createElement("svg",Jt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 24"},this.props),g.a.createElement("path",{d:"M22.5 24s.1-4.9-.5-5.4c-.6-.6-1.3-2.5-4.5-2.9-.2 0-.3-.1-.5-.2.5-1.1.3-2.4.3-2.4.1.1 0-.7 0-.7s-.9-1.1-1.5-2.4c.9-1.2 1-2.8 1-2.8V3.7s-.1-.7-.4-1.5c.5-.7 1.2-1.3 2.3-1.3l2.4 1c2.8 0 3.2 3.4 3.2 3.4v3.4s-.1 2.6-1.9 3.5c0 0 0 .8.1.7.1 0-.6 3.4 2.4 3.9 3.1.4 4.4 2.3 5 2.8V24h-7.4zm-2.4-4.6c.6.6.5 4.5.5 4.5H0v-4.5c.2-.5 1.9-2.6 5.1-3 2.7-.3 2.1-3.9 2.2-3.8.1.1 0-.7 0-.7S5.6 9.8 5.6 7.8V4.6S5.5 0 8.8 0l2.5 1c2.9 0 3.6 3.6 3.6 3.6v3.5s-.2 2.7-2 3.7c0 0-.1.8 0 .7s-.9 3.5 2.3 4c3.3.5 4.2 2.4 4.9 2.9z",fill:"#fff"}),g.a.createElement("linearGradient",{id:e,gradientUnits:"userSpaceOnUse",x1:"-619.135",y1:"-202.818",x2:"-619.135",y2:"-201.818",gradientTransform:"matrix(30 0 0 24 18589 4867.64)"},g.a.createElement("stop",{offset:"0",stopColor:"#abadb0"}),g.a.createElement("stop",{offset:"1",stopColor:"#b6b8ba"})),g.a.createElement("path",{d:"M22.5 24s.1-4.9-.5-5.4c-.6-.6-1.3-2.5-4.5-2.9-.2 0-.3-.1-.5-.2.5-1.1.3-2.4.3-2.4.1.1 0-.7 0-.7s-.9-1.1-1.5-2.4c.9-1.2 1-2.8 1-2.8V3.7s-.1-.7-.4-1.5c.5-.7 1.2-1.3 2.3-1.3l2.4 1c2.8 0 3.2 3.4 3.2 3.4v3.4s-.1 2.6-1.9 3.5c0 0 0 .8.1.7.1 0-.6 3.4 2.4 3.9 3.1.4 4.4 2.3 5 2.8V24h-7.4zm-2.4-4.6c.6.6.5 4.5.5 4.5H0v-4.5c.2-.5 1.9-2.6 5.1-3 2.7-.3 2.1-3.9 2.2-3.8.1.1 0-.7 0-.7S5.6 9.8 5.6 7.8V4.6S5.5 0 8.8 0l2.5 1c2.9 0 3.6 3.6 3.6 3.6v3.5s-.2 2.7-2 3.7c0 0-.1.8 0 .7s-.9 3.5 2.3 4c3.3.5 4.2 2.4 4.9 2.9z",fill:"url(#".concat(e,")"),fillOpacity:".4"}))}}]),t}(),en=n(535),tn=n.n(en),nn=n(534),rn=n.n(nn),on=te.a.div.withConfig({componentId:"sc-jTGSu"})(Yt=Yt||Object(h.__makeTemplateObject)(["font-size:12px;color:#a5a5a5;.rc-tree{padding:0;[role='treeitem']{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;position:relative;}.rc-tree-switcher,.rc-tree-iconEle{display:none;}.rc-tree-node-content-wrapper{padding:0;height:auto;width:100%;cursor:auto;}.rc-tree-child-tree{padding-left:0;&.collapse{overflow:hidden;}&.collapse-active{transition:height 0.1s ease;}}.rc-tree-treenode-selected{.rc-tree-node-selected{background-color:transparent;border:none;opacity:1;}}}"],[""])),an=te.a.div.withConfig({componentId:"sc-jTGSu-1"})(Kt=Kt||Object(h.__makeTemplateObject)(["width:14px;height:14px;transform:rotate(","deg);transition:all 0.1s;display:flex;align-items:center;justify-content:center;visibility:",";svg{width:50%;height:50%;path{transition:fill 0.1s;}}"],["","",""]),function(e){return e.expanded?0:-90},function(e){return e.isLeaf?"hidden":"visible"}),sn=te.a.div.withConfig({componentId:"sc-jTGSu-2"})($t=$t||Object(h.__makeTemplateObject)(["display:flex;align-items:center;padding:4px;padding-right:10px;padding-left:","px;margin:4px;user-select:none;cursor:",";color:",";","{path{fill:",";}}"],["","","","","",""]),function(e){return 10*e.level},function(e){return e.disabled?"pointer":e.isDumb?"default":"pointer"},function(e){return e.disabled?"#c6c7c9":""},an,function(e){return e.selected?"#000":e.disabled?"#c6c7c9":"#bbb"}),cn=te.a.div.withConfig({componentId:"sc-jTGSu-3"})(qt=qt||Object(h.__makeTemplateObject)(["display:flex;align-items:center;transition:color 0.1s;flex:1;min-width:0;"],[""])),ln=te.a.div.withConfig({componentId:"sc-jTGSu-4"})(Xt=Xt||Object(h.__makeTemplateObject)(["width:26px;height:26px;text-align:center;svg{width:18px;height:18px;position:relative;top:4px;opacity:0.6;}"],[""])),un=te.a.div.withConfig({componentId:"sc-jTGSu-5"})(Qt=Qt||Object(h.__makeTemplateObject)(["flex-shrink:0;width:26px;height:26px;background-size:22px;background-repeat:no-repeat;background-position:center;svg{height:100%;width:100%;path{transition:fill 0.1s;}}"],[""])),pn=(n(827),n(186));function dn(e){return(dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mn(e,t){return!t||"object"!==dn(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function hn(e){return(hn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bn(e,t){return(bn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var gn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_n=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),mn(this,hn(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bn(e,t)}(t,g.a.Component),function(e,t,n){t&&fn(e.prototype,t),n&&fn(e,n)}(t,[{key:"render",value:function(){return g.a.createElement("svg",gn({xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 30 30"},this.props),g.a.createElement("g",{fill:"none",fillRule:"evenodd"},g.a.createElement("path",{d:"M0 0h30v30H0z"}),g.a.createElement("path",{fill:"#B2B3B6",d:"M2 4h26v22H2V4zm2 4v16h22V8H4zm4 12h14v2H8v-2z"})))}}]),t}();function vn(e){return(vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function En(e,t){return!t||"object"!==vn(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function On(e){return(On=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xn(e,t){return(xn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Tn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),En(this,On(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xn(e,t)}(t,g.a.Component),function(e,t,n){t&&yn(e.prototype,t),n&&yn(e,n)}(t,[{key:"render",value:function(){return g.a.createElement("svg",Tn({xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 30 30"},this.props),g.a.createElement("g",{fill:"none",fillRule:"evenodd"},g.a.createElement("path",{d:"M0 0h30v30H0z"}),g.a.createElement("path",{fill:"#B2B3B6",fillRule:"nonzero",d:"M3 10v17h24V10H3zm13 7.17a3.001 3.001 0 1 1-2 0V14h2v3.17z"}),g.a.createElement("path",{stroke:"#B2B3B6",strokeWidth:"3",d:"M11 9V7c0-2.28 1.79-4 4-4s4 1.72 4 4v2"})))}}]),t}();function wn(e){return(wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jn(e,t){return!t||"object"!==wn(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function In(e){return(In=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function An(e,t){return(An=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var kn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),jn(this,In(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&An(e,t)}(t,g.a.Component),function(e,t,n){t&&Sn(e.prototype,t),n&&Sn(e,n)}(t,[{key:"render",value:function(){return g.a.createElement("svg",kn({xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 30 30"},this.props),g.a.createElement("path",{fill:"#B2B3B6",d:"M26 27V9h-4v18h-2V2H4v25H2v1h26v-1h-2zM13 7h4v3h-4V7zm0 6h4v3h-4v-3zm4 6v3h-4v-3h4zM11 7v3H7V7h4zm0 6v3H7v-3h4zm0 6v3H7v-3h4z"}))}}]),t}(),Pn=n(29),Rn=n.n(Pn);function Dn(e){return(Dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ln(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mn(e,t){return!t||"object"!==Dn(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Fn(e){return(Fn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Un(e,t){return(Un=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Bn,zn,Vn,Gn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Mn(this,Fn(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Un(e,t)}(t,g.a.Component),function(e,t,n){t&&Ln(e.prototype,t),n&&Ln(e,n)}(t,[{key:"render",value:function(){return g.a.createElement("svg",Gn({className:"icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"200",height:"200"},this.props),g.a.createElement("defs",null,g.a.createElement("style",null)),g.a.createElement("path",{d:"M1024 256L512 768 0 256z",fill:"#BBB"}))}}]),t}(),Wn=te.a.div.withConfig({componentId:"sc-3KMU8z"})(zn=zn||Object(h.__makeTemplateObject)(["text-overflow:ellipsis;white-space:nowrap;overflow:hidden;"],[""])),Yn=te.a.div.withConfig({componentId:"sc-3KMU8z-1"})(Vn=Vn||Object(h.__makeTemplateObject)(["max-width:145px;text-align:left;word-break:break-word;"],[""])),Kn=(Bn=g.a.PureComponent,Object(h.__extends)($n,Bn),$n.prototype.componentDidMount=function(){this.handleMouseEnter()},$n.prototype.render=function(){var e=this.props,t=e.title,n=e.placement;return this.state.visible?g.a.createElement(Pe.a,{title:g.a.createElement(Yn,null,t),placement:n},this.renderContent()):this.renderContent()},$n.prototype.renderContent=function(){var e=this.props,t=e.className,n=e.style;return g.a.createElement(Wn,{innerRef:this.elRef,onMouseMove:this.handleMouseEnter,className:t,style:n},this.props.children)},$n);function $n(){var r=null!==Bn&&Bn.apply(this,arguments)||this;return r.elRef=g.a.createRef(),r.state={visible:!1},r.handleMouseEnter=function(){if(r.elRef.current){var e=r.elRef.current,t=e.scrollWidth>e.clientWidth,n=r.props.forced;r.setState({visible:t||!!n})}},r}var qn,Xn="sm-tree-node",Qn=(qn=g.a.PureComponent,Object(h.__extends)(Jn,qn),Jn.prototype.render=function(){var e,t=this.props,n=t.icon,r=t.node.name,o=t.level,i=t.expanded,a=t.selected,s=t.disabled,c=t.disabledReason,l=t.isLeaf,u=t.isRoot,p=t.isDumb;return g.a.createElement(sn,{className:Rn()(Xn,(e={},e[Xn+"-select"]=a,e[Xn+"-disable"]=s,e)),selected:a,disabled:s,isDumb:p,level:o,onClick:this.handleClick,onDoubleClick:this.handleDoubleClick},!p&&g.a.createElement(an,{className:Xn+"-switcher",expanded:i,isLeaf:l,onClick:this.handleSwitcherClick},g.a.createElement(Hn,null)),g.a.createElement(cn,null,!p&&!n&&g.a.createElement(un,{className:Xn+"-title-icon"}),n&&g.a.createElement(ln,null,n),g.a.createElement(Kn,{className:Xn+"-title-text",title:c||r,forced:s,placement:"right",style:{marginLeft:(u?15:5)+"px",color:p?"#c8c8c8":"inherits"}},r)))},Jn);function Jn(){var o=null!==qn&&qn.apply(this,arguments)||this;return o.handleClick=function(e){e.preventDefault(),e.stopPropagation();var t=o.props,n=t.node,r=t.isDumb;n.disabled&&r||o.props.onClick(n)},o.handleDoubleClick=function(e){e.preventDefault(),e.stopPropagation();var t=o.props.node;t.disabled||o.props.onDoubleClick(t)},o.handleSwitcherClick=function(e){e.preventDefault(),e.stopPropagation();var t=o.props.node;t.disabled||o.props.onDoubleClick(t)},o}var Zn,er=g.a.createElement(_n,null),tr=g.a.createElement(Cn,null),nr=g.a.createElement(Nn,null),rr=(Zn=g.a.PureComponent,Object(h.__extends)(or,Zn),or.prototype.render=function(){var e=this.props,t=e.className,n=e.expandedKeys,r=e.selectedKeys,o=e.treeData;return g.a.createElement(on,{className:t},g.a.createElement(pn.b,{showIcon:!1,expandedKeys:n,selectedKeys:r},this.renderTreeNodes(o)))},or);function or(){var d=null!==Zn&&Zn.apply(this,arguments)||this;return d.renderTreeNodes=function(e,t){void 0===e&&(e={}),void 0===t&&(t=0);var n,r,o=[];for(var i in e)e[i]&&e[i].guid&&o.push((n=e[i],r=t,n.childNodes?g.a.createElement(pn.a,{title:d.renderMyNode(n,r),key:n.guid,active:!1},d.renderTreeNodes(n.childNodes,r+1)):g.a.createElement(pn.a,{title:d.renderMyNode(n,r),key:n.guid,active:!1})));return o},d.renderMyNode=function(e,t){var n,r=e.guid,o=e.name,i=e.shareMode,a=e.disabled,s=d.props,c=s.expandedKeys,l=s.selectedKeys,u=c.includes(r||o),p=l.includes(r);return 0===t&&(n="0"===e.guid?er:"private"===i?tr:nr),g.a.createElement(Qn,{key:e.guid,node:e,icon:n,level:t,expanded:u,selected:p,disabled:a,onSwitcherClick:d.handleSwitcherClick,onClick:d.handleClick,onDoubleClick:d.handleDoubleClick})},d.handleSwitcherClick=function(e){var t,n=d.props.expandedKeys,r=e.guid,o=e.name,i=r||o;n.includes(i)?t=n.filter(function(e){return e!==i}):(t=Object(h.__spread)(n,[i]),d.props.getChildNodes(r)),d.props.onExpand(t)},d.handleClick=function(e){var t=e.guid;d.props.onSelect([t],e),d.handleSwitcherClick(e)},d.handleDoubleClick=function(e){d.handleSwitcherClick(e)},d}te()(Ot).withConfig({componentId:"sc-1GpRAg"})(ir=ir||Object(h.__makeTemplateObject)(["float:left;margin-right:18px;cursor:",";path{fill:",";}"],["","",""]),function(e){return e.disabled?"initial":"pointer"},function(e){return e.disabled?"#d2d2d2":"#333"});var ir,ar,sr,cr,lr,ur,pr,dr,fr,mr,hr,br,gr,_r,vr,yr,Er,Or,xr,Tr,Cr,wr,Sr=te.a.div.withConfig({componentId:"sc-1GpRAg-1"})(ar=ar||Object(h.__makeTemplateObject)(["margin-bottom:-20px;position:relative;"],[""])),jr=te.a.div.withConfig({componentId:"sc-1GpRAg-2"})(sr=sr||Object(h.__makeTemplateObject)(["overflow-x:hidden;font-size:16px;line-height:1.5;font-weight:600;color:",";max-width:300px;white-space:nowrap;text-overflow:ellipsis;"],["",""]),xt.b),Ir=(te()(Tt.a).withConfig({componentId:"sc-1GpRAg-3"})(cr=cr||Object(h.__makeTemplateObject)(["width:427px;margin-left:-14px;padding-top:4px;"],[""])),te.a.div.withConfig({componentId:"sc-1GpRAg-4"})(lr=lr||Object(h.__makeTemplateObject)(["margin-top:20px;overflow:hidden;"],[""]))),Ar=te.a.div.withConfig({componentId:"sc-1GpRAg-5"})(ur=ur||Object(h.__makeTemplateObject)(["float:right;&:nth-child(1){margin-right:10px;}"],[""])),kr=te()(j.a).withConfig({componentId:"sc-1GpRAg-6"})(pr=pr||Object(h.__makeTemplateObject)(["max-width:174px;overflow-x:hidden;white-space:nowrap;text-overflow:ellipsis;"],[""])),Nr=te()(j.a).withConfig({componentId:"sc-1GpRAg-7"})(dr=dr||Object(h.__makeTemplateObject)(["margin-left:10px;max-width:174px;overflow-x:hidden;white-space:nowrap;text-overflow:ellipsis;"],[""])),Pr=(te.a.div.withConfig({componentId:"sc-1GpRAg-8"})(fr=fr||Object(h.__makeTemplateObject)(["display:",";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);"],["",""]),function(e){return e.visible?"block":"none"}),te.a.div.withConfig({componentId:"sc-1GpRAg-9"})(mr=mr||Object(h.__makeTemplateObject)(["color:#dbdbdb;font-size:14px;line-height:1;display:flex;flex-direction:column;justify-content:center;align-items:center;height:100%;"],[""])),te.a.div.withConfig({componentId:"sc-1GpRAg-10"})(hr=hr||Object(h.__makeTemplateObject)(["width:50px;height:50px;margin-bottom:20px;background:url(",") no-repeat;background-size:50px 50px;"],["",""]),wt.a),te.a.ul.withConfig({componentId:"sc-1GpRAg-11"})(br=br||Object(h.__makeTemplateObject)(["margin:-7px -40px 0;height:315px;overflow-y:scroll;"],[""])),te.a.li.withConfig({componentId:"sc-1GpRAg-12"})(gr=gr||Object(h.__makeTemplateObject)(["height:45px;line-height:45px;padding:0 15px;margin:0 26px;list-style:none;overflow:hidden;cursor:",";opacity:",";&:hover{background-color:#f5f5f5;}"],["","",""]),function(e){return e.disabled?"default":"pointer"},function(e){return e.disabled?.5:1}),te.a.span.withConfig({componentId:"sc-1GpRAg-13"})(_r=_r||Object(h.__makeTemplateObject)(["overflow:hidden;display:inline-block;"],[""])),te()(ht).withConfig({componentId:"sc-1GpRAg-14"})(vr=vr||Object(h.__makeTemplateObject)(["float:left;margin-top:9px;margin-right:16px;"],[""])),te.a.span.withConfig({componentId:"sc-1GpRAg-15"})(yr=yr||Object(h.__makeTemplateObject)(["float:left;width:auto;max-width:240px;overflow-x:hidden;padding-right:5px;white-space:nowrap;text-overflow:ellipsis;color:#333;"],[""])),te()(Bt).withConfig({componentId:"sc-1GpRAg-16"})(Er=Er||Object(h.__makeTemplateObject)(["margin:13px 0 0 4px;float:left;"],[""])),te()(Zt).withConfig({componentId:"sc-1GpRAg-17"})(Or=Or||Object(h.__makeTemplateObject)(["margin:16px 0 0 4px;float:left;path{fill:#bebebe;}"],[""])),te()(Pt).withConfig({componentId:"sc-1GpRAg-18"})(xr=xr||Object(h.__makeTemplateObject)(["float:right;margin-top:15px;"],[""])),te()(rr).withConfig({componentId:"sc-1GpRAg-19"})(Tr=Tr||Object(h.__makeTemplateObject)(["height:320px;overflow:auto;.sm-tree-node{margin:0;padding-top:10px;padding-bottom:10px;color:#4a4a4a;font-size:14px;}.sm-tree-node-select{background-color:#f7f7f7;}.sm-tree-node-disable{color:#c6c7c9;.sm-tree-node-switcher{path{fill:#c6c7c9;}}.sm-tree-node-title-icon{background-image:url(",");}}.sm-tree-node-title-icon{background-image:url(",");width:26px;height:26px;background-size:100% 100%;background-repeat:no-repeat;svg{visibility:hidden;}}.sm-tree-node-title-text{margin-left:16px;}"],["","",""]),rn.a,tn.a)),Rr=n(181),Dr=n(828),Lr=n(72),Mr=n.n(Lr),Fr=n(373),Ur=(Cr=g.a.PureComponent,Object(h.__extends)(Br,Cr),Br.prototype.render=function(){var e=this.state,t=e.content,n=e.visible;return g.a.createElement(Fr.a,{title:x()("确认移动?"),content:t,visible:n,onVisibleChange:this.handleVisibleChange,onConfirm:this.handleConfirm,placement:"bottom",okType:"red",okText:x()("确认移动")},this.props.children)},Object.defineProperty(Br.prototype,"owner",{get:function(){var e=this.props,t=e.team,n=e.targetFile;return n&&"0"!==n.guid?x()("个人"):t?x()("其他企业"):x()("个人")},enumerable:!0,configurable:!0}),Br);function Br(){var s=null!==Cr&&Cr.apply(this,arguments)||this;return s.state={visible:!1,content:""},s.handleVisibleChange=function(c){return Object(h.__awaiter)(s,void 0,void 0,function(){var t,n,r,o,i,a,s;return Object(h.__generator)(this,function(e){switch(e.label){case 0:if(!1===c)return this.setState({visible:!1}),[2];if(t=this.props,n=t.currentFiles,r=t.isFromSameRoot,o=t.targetGuid,i=r(n[0].guid,"0"),a=this.isSameOwner(),r(o,"0")){if(a)return this.handleConfirm(),[2]}else if(!i&&(r(o,n[0].guid)||a))return this.handleConfirm(),[2];return[4,this.getConfirmContent()];case 1:return s=e.sent(),this.setState({visible:c,content:s}),[2]}})})},s.getConfirmContent=function(){return Object(h.__awaiter)(s,void 0,void 0,function(){var t,n,r,o,i,a,s,c,l;return Object(h.__generator)(this,function(e){return t=this.props,n=t.currentFiles,r=t.isFromSameRoot,o=t.targetGuid,i=r(n[0].guid,"0"),a=r(o,"0"),s=this.isSameOwner(),c=n[0],l="folder"===c.type?x()("文件夹"):x()("文件"),!a&&i?[2,g.a.createElement("div",null,x()("移动后:")," ",g.a.createElement("br",null),"1."," ","folder"===c.type?x()("文件夹（包括文件夹内所有文件）"):x()("文件"),x()("的当前协作者将失去访问权限")," ",g.a.createElement("br",null),"2. ",x()("协作空间成员将获得访问权限")," ",g.a.createElement("br",null),"3. ",x()("暂时不支持从协作空间移回桌面")," ",g.a.createElement("br",null),!s&&g.a.createElement("div",null,"4.",g.a.createElement("strong",null,"folder"===c.type?x()("文件夹"):x()("文件"),x()("所有权将发生变更"))))]:[2,g.a.createElement("div",null,x()(wr=wr||Object(h.__makeTemplateObject)(["正在将","移动到一个归属于","的位置。移动后，原文件的协作关系将被清空，所有权将归属于","，同时匹配目标位置的权限设置。"],["正在将","移动到一个归属于","的位置。移动后，原文件的协作关系将被清空，所有权将归属于","，同时匹配目标位置的权限设置。"]),l,this.owner,this.owner))]})})},s.isSameOwner=function(){var e=s.props,t=e.team,n=e.currentFiles,r=e.targetGuid,o=e.targetFile,i=n[0].teamId,a=o?o.teamId:0;return""===r||"0"===r?i===(t&&t.id)||!t&&!i:i===a||!i&&!a},s.handleConfirm=function(){var e=s.props.onConfirm;s.setState({visible:!1}),e()},s}var zr,Vr,Gr,Hr,Wr,Yr=(zr=g.a.PureComponent,Object(h.__extends)(Kr,zr),Kr.prototype.componentDidMount=function(){this.getChildNodes("1"),this.inSpace||this.getChildNodes("0")},Kr.prototype.render=function(){var e=this.props,t=e.currentFiles,n=e.team,r=e.dispatch,o=e.selectFile,i=this.state,a=i.moving,s=i.selectedKeys,c=i.treeData,l=i.expandedKeys,u=i.target;return g.a.createElement(Sr,null,g.a.createElement(jr,null,x()(Gr=Gr||Object(h.__makeTemplateObject)(["将 "," 个文件移动到"],["将 "," 个文件移动到"]),t.length)),g.a.createElement(Rr.a,null),g.a.createElement(Pr,{treeData:c,expandedKeys:l,selectedKeys:s,onSelect:this.handleNodeSelect,onExpand:this.handleNodeExpand,getChildNodes:this.getChildNodes}),g.a.createElement(Ir,null,g.a.createElement(Ar,null,g.a.createElement(Ur,{team:n,isFromSameRoot:this.isFromSameRoot,currentFiles:t,targetFile:u?o(u.guid):null,targetGuid:u?u.guid:"",onConfirm:this.handleMoveFiles,dispatch:r},g.a.createElement(kr,{type:"black",size:"s",disabled:!u&&!a},u&&!a&&x()(Hr=Hr||Object(h.__makeTemplateObject)(["移动"],["移动"])),u&&a&&x()(Wr=Wr||Object(h.__makeTemplateObject)(["移动中..."],["移动中..."])),!u&&x()("请选择文件夹"))),g.a.createElement(Nr,{type:"outline",size:"s",onClick:this.handleCancel},x()("取消")))))},Object.defineProperty(Kr.prototype,"inSpace",{get:function(){return this.props.currentFiles[0].isFromSVC},enumerable:!0,configurable:!0}),Kr.prototype.getFileTreePath=function(e){if(!e)return[];var t=this.props.selectFileAncestors(e).reverse();if(t.push(e),this.props.spaceIds.indexOf(e)<0&&"0"!==e){var n=this.props.selectFile(e);n&&!_.i.isSpaceFile(n)&&t.unshift("0")}return t},Kr.prototype.isNodeDisabled=function(e,t,n){var r=this.props,o=r.me,i=r.currentFiles;if(0<=i.map(function(e){return e.guid}).indexOf(e))return{disabled:!0,disabledReason:x()("不能移动到相同位置")};if("1"===t){if(!Object(_.g)(n))return{disabled:!0,disabledReason:x()("没有权限移动到该协作空间")};var a=i[0];if(!_.i.isSpaceFile(a)&&!Object(_.e)(a))return{disabled:!0,disabledReason:x()("不能将快捷方式移动到协作空间，请联系文件所有者操作")}}else if(Object(_.b)({me:o,file:i[0],toDir:n}).disabled)return{disabled:!0,disabledReason:x()("没有权限移动到该位置")};return{disabled:!1,disabledReason:""}},Kr=Object(h.__decorate)([Object(Dr.a)(function(t){return{me:Object(De.a)(t),team:Object(Le.a)(t),spaceIds:Object(Me.g)(t),desktopIds:Object(Me.a)(t),selectFile:function(e){return Object(Me.b)(t,e)},selectFileChildIds:function(e){return Object(Me.c)(t,e).toJS()},selectFileAncestors:function(e){return Object(Fe.a)(t,e)}}})],Kr));function Kr(){var s=null!==zr&&zr.apply(this,arguments)||this;return s.state={moving:!1,expandedKeys:[],selectedKeys:[],treeData:s.inSpace?{}:{0:{guid:"0",name:x()("我的桌面")}}},s.handleMoveFiles=function(){return Object(h.__awaiter)(s,void 0,void 0,function(){var t,n,r,o,i;return Object(h.__generator)(this,function(e){switch(e.label){case 0:if(t=this.state.target,n=this.props,r=n.currentFiles,o=n.dispatch,!t)return[2];this.setState({moving:!0}),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.moveFiles()];case 2:return e.sent(),T.a.success({content:x()(Vr=Vr||Object(h.__makeTemplateObject)([""," 个文件已移动至 ",""],[""," 个文件已移动至 ",""]),r.length,t.name)}),o(Object(w.e)(r[0].guid)),[3,4];case 3:return 403===(i=e.sent()).status&&(i.message=x()("移动失败，没有移动到目标位置的权限")),T.a.error({content:i.message||x()("移动失败")}),[3,4];case 4:return this.props.onClose(!0),[2]}})})},s.handleCancel=function(){s.props.onClose()},s.handleNodeSelect=function(e,t){s.setState({selectedKeys:e,target:t})},s.handleNodeExpand=function(e){s.setState({expandedKeys:e})},s.moveFiles=function(){return Object(h.__awaiter)(s,void 0,void 0,function(){var t,n,r,o,i,a,s,c;return Object(h.__generator)(this,function(e){switch(e.label){case 0:return t=this.state.target,n=this.props,r=n.currentFiles,o=n.dispatch,i=n.from,a=r.map(function(e){return e.guid}),[4,this.getFileTreePath(r[0].guid)];case 1:if(s=e.sent(),c=s[s.length-2],t.guid===c||this.isFolderDesktop(t.guid)&&this.isFolderDesktop(c))throw new Error(x()("目标文件夹已经存在该文件"));return[4,o(Object(w.l)({guids:a,target:t.guid,from:i}))];case 2:return[2,e.sent()]}})})},s.getChildNodes=function(n){return Object(h.__awaiter)(s,void 0,void 0,function(){var t;return Object(h.__generator)(this,function(e){switch(e.label){case 0:return t=this.props.dispatch,this.insertChildNode(n),"1"!==n?[3,2]:[4,t(Object(Re.b)(n))];case 1:return e.sent(),[3,4];case 2:return[4,t(Object(w.g)(n))];case 3:e.sent(),e.label=4;case 4:return this.insertChildNode(n),[2]}})})},s.insertChildNode=function(u){return Object(h.__awaiter)(s,void 0,void 0,function(){var t,n,r,o,i,a,s,c,l;return Object(h.__generator)(this,function(e){return t=this.state.treeData,n=this.props.selectFileChildIds(u),r=this.getFormatedNodes(n,u),"0"===u?(o=Object(h.__assign)(Object(h.__assign)({},t),((l={})[u]=Object(h.__assign)(Object(h.__assign)({},t[u]),{childNodes:r}),l)),this.setState({treeData:o})):"1"===u?(i=Mr()(Object(h.__assign)({},t),r),this.setState({treeData:i})):(a=Object(h.__assign)({},t),s=this.getFileTreePath(u),(c=this.getParentNode(s,a)).childNodes=Mr()(c.childNodes,r),this.setState({treeData:a})),[2]})})},s.getFormatedNodes=function(e,i){var a={};return e.forEach(function(e){var t=s.props.selectFile(e);if(t&&"folder"===t.type){var n=s.isNodeDisabled(e,i,t),r=n.disabled,o=n.disabledReason;a[e]={guid:e,name:t.name,disabled:r,disabledReason:o},_.i.isSpace(t)&&(a[e].shareMode=t.shareMode)}}),a},s.getParentNode=function(e,t,n){void 0===n&&(n=0);var r=e[n];return n<e.length-1?s.getParentNode(e,t[r].childNodes||{},n+1):t[r]},s.isFromSameRoot=function(e,t){var n=s.getFileTreePath(e);if("0"===t)return"0"===n[0];var r=s.getFileTreePath(t);return n[0]===r[0]},s.isFolderDesktop=function(e){return"0"===e||!e},s}var $r=n(79);function qr(e){var t=e.templateLimit,n=e.me.getIn(["membership","accountType"]);return t.valid?e.children:g.a.createElement(Pe.a,{trigger:"hover",theme:"white",title:g.a.createElement(E.e,null,x()(Qr=Qr||Object(h.__makeTemplateObject)(["","仅支持设置 "," 个自定义模板，您可以移除不需要的模板，或升级账户享受保存更多模板。"],["","仅支持设置 "," 个自定义模板，您可以移除不需要的模板，或升级账户享受保存更多模板。"]),"personal_premium"===n?x()("高级版"):x()("基础版"),t.limit),g.a.createElement(ro,{href:"/pricing"},x()("升级账户"))),placement:"left",getTooltipContainer:function(e){return e.parentNode}},e.children)}var Xr,Qr,Jr=function(e){var t=e.file,n=e.parentFolder,r=e.online,o=!Object(_.f)(t,n);return g.a.createElement(v.a,{key:C.FILE_MENU_MOVE,disabled:o||!r},g.a.createElement(Pe.a,{trigger:"hover",title:o?x()("您没有权限操作"):"",placement:"left"},g.a.createElement(E.c,{disabled:o||!r},g.a.createElement(E.a,null,x()("移动")))))},Zr=[C.FILE_MENU_MOVE],eo=[function(e,t){var n=t.file;n.isLocked?T.a.error(x()("操作失败，该文件已被锁定，请解锁后重试！")):function(e,r,o){void 0===o&&(o={}),new Promise(function(t){var n=Z.a.open({width:480,footer:null,closable:!0,onCancel:function(){return t(!1)},body:g.a.createElement($r.Provider,{store:e},g.a.createElement(Yr,Object(h.__assign)({currentFiles:r,onClose:function(e){n(),t(e)}},o)))}).destroy})}(window.shimo.store,[n])}],to=n(109),no=n(853),ro=te.a.a.withConfig({componentId:"sc-1MJVJW"})(Xr=Xr||Object(h.__makeTemplateObject)(["color:#6da0e3;display:block;cursor:pointer;margin-top:4px;text-decoration:none;text-align:left;"],[""])),oo=function(e){var t=e.online,n=e.file,r=e.templateLimit,o=n.permissions.exportable;return g.a.createElement(v.a,{key:C.FILE_MENU_SAVE_TEMPLATE,disabled:!t||!o||!r.valid},g.a.createElement(qr,Object(h.__assign)({},e),g.a.createElement(E.c,{disabled:!t||!o||!r.valid},g.a.createElement(E.a,null,x()("保存模板")))))},io=[C.FILE_MENU_SAVE_TEMPLATE],ao=[function(r,o){var i=o.file,a=document.createElement("div");document.body.appendChild(a);Object(de.render)(g.a.createElement(to.a,{title:x()("保存为模版"),defaultText:i.name,onOk:function(n){return void 0===n&&(n=""),Object(h.__awaiter)(void 0,void 0,void 0,function(){var t;return Object(h.__generator)(this,function(e){switch(e.label){case 0:Object(de.unmountComponentAtNode)(a),"newdoc"===(t=i.type)?t=-2:"sheet"===t?t=-3:"mosheet"===t?t=-4:"slide"===t?t=-5:"modoc"===t&&(t=-6),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,r(Object(w.r)(n.trim(),i.guid,t))];case 2:return e.sent().success?(T.a.success({content:x()("模板保存成功。在「新建」-「从模板新建」-「我的模板」中查看")}),-1!==o.templateLimit.limit&&r(Object(no.b)())):T.a.error({content:x()("模版保存失败")}),[3,4];case 3:return e.sent(),T.a.error({content:x()("模版保存失败")}),[3,4];case 4:return[2]}})})},onCancel:function(){Object(de.unmountComponentAtNode)(a)},visible:!0,errorText:x()("请输入模版名称")}),a)}];function so(e){return(so="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function co(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lo(e,t){return!t||"object"!==so(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function uo(e){return(uo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function po(e,t){return(po=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var fo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mo=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),lo(this,uo(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&po(e,t)}(t,g.a.Component),function(e,t,n){t&&co(e.prototype,t),n&&co(e,n)}(t,[{key:"render",value:function(){this.SVG_COMPONENT_ID=this.SVG_COMPONENT_ID||0;var e="9d3584a8595808abad54554fa5fcae570_"+this.SVG_COMPONENT_ID++;return g.a.createElement("svg",fo({xmlns:"http://www.w3.org/2000/svg",width:"10",height:"12",viewBox:"0 0 10 12"},this.props),g.a.createElement("defs",null,g.a.createElement("linearGradient",{id:e,x1:"50%",x2:"50%",y1:"0%",y2:"100%"},g.a.createElement("stop",{offset:"0%",stopColor:"#676B6F"}),g.a.createElement("stop",{offset:"100%",stopColor:"#A0A2A5"}))),g.a.createElement("path",{fill:"url(#".concat(e,")"),fillRule:"evenodd",d:"M8 10V8a3 3 0 1 1 6 0v2h1.5a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5v-6a.5.5 0 0 1 .5-.5H8zm1 0h4V8a2 2 0 1 0-4 0v2z",transform:"translate(-6 -5)"}))}}]),t}();function ho(e){return(ho="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function go(e,t){return!t||"object"!==ho(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function _o(e){return(_o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vo(e,t){return(vo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var yo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Eo=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),go(this,_o(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vo(e,t)}(t,g.a.Component),function(e,t,n){t&&bo(e.prototype,t),n&&bo(e,n)}(t,[{key:"render",value:function(){this.SVG_COMPONENT_ID=this.SVG_COMPONENT_ID||0;var e="997a0d57672f1ca5db75e7f6c48aca590_"+this.SVG_COMPONENT_ID++;return g.a.createElement("svg",yo({xmlns:"http://www.w3.org/2000/svg",width:"13",height:"12",viewBox:"0 0 13 12"},this.props),g.a.createElement("defs",null,g.a.createElement("linearGradient",{id:e,x1:"50%",x2:"50%",y1:"0%",y2:"100%"},g.a.createElement("stop",{offset:"0%",stopColor:"#676B6F"}),g.a.createElement("stop",{offset:"100%",stopColor:"#A0A2A5"}))),g.a.createElement("path",{fill:"url(#".concat(e,")"),fillRule:"evenodd",d:"M13 10V8a3 3 0 0 1 6 0v2h-1V8a2 2 0 1 0-4 0v2h1.5a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5v-6a.5.5 0 0 1 .5-.5H13z",transform:"translate(-6 -5)"}))}}]),t}(),Oo=function(e){var t=e.file,n=e.alphaFeatures,r=e.online;if(!t.isFromSVC||!n.lock_file)return null;var o=t.permissions.lockable||t.permissions.unlockable;return g.a.createElement(v.a,{key:C.FILE_MENU_TOGGLE_LOCK,disabled:!o||!r},g.a.createElement(Pe.a,{trigger:"hover",title:o?"":x()("您没有权限操作"),placement:"left"},g.a.createElement(E.c,{disabled:!o||!r},t.isLocked?g.a.createElement(Eo,{width:"11px",height:"11px"}):g.a.createElement(mo,{width:"11px",height:"11px"}),g.a.createElement("div",{style:{marginLeft:10}},t.isLocked?x()("取消锁定文件"):x()("锁定文件")))))},xo=[],To=[];function Co(e){return(Co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function So(e,t){return!t||"object"!==Co(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function jo(e){return(jo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Io(e,t){return(Io=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ao=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ko=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),So(this,jo(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Io(e,t)}(t,g.a.Component),function(e,t,n){t&&wo(e.prototype,t),n&&wo(e,n)}(t,[{key:"render",value:function(){this.SVG_COMPONENT_ID=this.SVG_COMPONENT_ID||0;var e="4a6e77a8ef05be7d2eec526cb909bc910_"+this.SVG_COMPONENT_ID++;return g.a.createElement("svg",Ao({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 40 40"},this.props),g.a.createElement("linearGradient",{id:e,gradientUnits:"userSpaceOnUse",x1:"-941.674",y1:"375.775",x2:"-941.674",y2:"374.775",gradientTransform:"matrix(23 0 0 -26 21679 9776.14)"},g.a.createElement("stop",{offset:"0",stopColor:"#676b6f"}),g.a.createElement("stop",{offset:"1",stopColor:"#a0a2a5"})),g.a.createElement("path",{d:"M27 9V6h2v3h3v2h-3v3h-2v-3h-3V9h3zm1.6 7c.1.6.2 1.2.2 1.8v1.9c0 3.1 2.2 8.3 2.2 8.3H9s2.2-5.2 2.2-8.3v-1.9c0-4.9 3.9-8.8 8.8-8.8.7 0 1.4.1 2 .2V13h3v3h3.6zm-4.8 13.1c-.5 1.7-2 2.9-3.8 2.9s-3.4-1.2-3.8-2.9h7.6z",fill:"url(#".concat(e,")")}))}}]),t}();function No(e){return(No="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Po(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ro(e,t){return!t||"object"!==No(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Do(e){return(Do=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Lo(e,t){return(Lo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Mo,Fo,Uo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bo=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ro(this,Do(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lo(e,t)}(t,g.a.Component),function(e,t,n){t&&Po(e.prototype,t),n&&Po(e,n)}(t,[{key:"render",value:function(){this.SVG_COMPONENT_ID=this.SVG_COMPONENT_ID||0;var e="819deb9a6b909d460f5e854162842e9c0_"+this.SVG_COMPONENT_ID++;return g.a.createElement("svg",Uo({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 40 40"},this.props),g.a.createElement("linearGradient",{id:e,gradientUnits:"userSpaceOnUse",x1:"-602.614",y1:"-201.588",x2:"-602.614",y2:"-200.588",gradientTransform:"matrix(22.6274 0 0 23 13655.896 4645.53)"},g.a.createElement("stop",{offset:"0",stopColor:"#676b6f"}),g.a.createElement("stop",{offset:"1",stopColor:"#a0a2a5"})),g.a.createElement("path",{d:"M12.2 13.8L9 10.6l1.4-1.4 21.2 21.2-1.4 1.4-3.8-3.8H9.1s2.2-5.2 2.2-8.3v-1.9c0-1.4.3-2.8.9-4zm2.8-3.2c1.4-1 3.2-1.6 5-1.6 4.9 0 8.8 3.9 8.8 8.8v1.9c0 1.8.7 4.3 1.4 6L15 10.6zm8.9 18.5c-.5 1.7-2 2.9-3.8 2.9s-3.4-1.2-3.8-2.9h7.6z",fill:"url(#".concat(e,")")}))}}]),t}(),zo=function(e){var t=e.online,n=e.file.mute;return g.a.createElement(v.a,{key:C.FILE_MENU_MUTE,disabled:!t},g.a.createElement(E.c,{disabled:!t},n?g.a.createElement(ko,{width:"22px",height:"22px"}):g.a.createElement(Bo,{width:"22px",height:"22px"}),n?x()("接收消息提醒"):x()("消息免打扰")))},Vo=[C.FILE_MENU_MUTE],Go=[function(r,o){return Object(h.__awaiter)(void 0,void 0,void 0,function(){var t,n;return Object(h.__generator)(this,function(e){switch(e.label){case 0:t=o.file,e.label=1;case 1:return e.trys.push([1,6,,7]),t.mute?[4,r(Object(w.w)(t.guid))]:[3,3];case 2:return e.sent(),T.a.success({content:x()(Mo=Mo||Object(h.__makeTemplateObject)(["「","」已设置为接收消息提醒"],["「","」已设置为接收消息提醒"]),t.name)}),[3,5];case 3:return[4,r(Object(w.m)(t.guid))];case 4:e.sent(),T.a.success({content:x()(Fo=Fo||Object(h.__makeTemplateObject)(["「","」已设置为消息免打扰"],["「","」已设置为消息免打扰"]),t.name)}),e.label=5;case 5:return[3,7];case 6:return(n=e.sent())&&n.message&&T.a.error(n.message),[3,7];case 7:return[2]}})})}];function Ho(e){return(Ho="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yo(e,t){return!t||"object"!==Ho(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Ko(e){return(Ko=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $o(e,t){return($o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var qo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xo=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Yo(this,Ko(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$o(e,t)}(t,g.a.Component),function(e,t,n){t&&Wo(e.prototype,t),n&&Wo(e,n)}(t,[{key:"render",value:function(){this.SVG_COMPONENT_ID=this.SVG_COMPONENT_ID||0;var e="3f4222813e0034806d834b8106f698c60_"+this.SVG_COMPONENT_ID++;return g.a.createElement("svg",qo({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 40 40"},this.props),g.a.createElement("linearGradient",{id:e,gradientUnits:"userSpaceOnUse",x1:"-935.25",y1:"380.426",x2:"-935.25",y2:"379.426",gradientTransform:"matrix(20 0 0 -28 18725 10658.92)"},g.a.createElement("stop",{offset:"0",stopColor:"#676b6f"}),g.a.createElement("stop",{offset:"1",stopColor:"#a0a2a5"})),g.a.createElement("path",{d:"M12.4 22H10v2h9v9.1l2 1.9V24h9v-2h-2.4c-.8-2.2-2.4-7.5-2.6-13h2V7H13v2h2c-.2 5.5-1.9 10.8-2.6 13z",fill:"url(#".concat(e,")")}))}}]),t}();function Qo(e){return(Qo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zo(e,t){return!t||"object"!==Qo(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ei(e){return(ei=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ti(e,t){return(ti=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ni,ri,oi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ii=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Zo(this,ei(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ti(e,t)}(t,g.a.Component),function(e,t,n){t&&Jo(e.prototype,t),n&&Jo(e,n)}(t,[{key:"render",value:function(){this.SVG_COMPONENT_ID=this.SVG_COMPONENT_ID||0;var e="38fe827a89e42f9ca70cac809ae2b78d0_"+this.SVG_COMPONENT_ID++;return g.a.createElement("svg",oi({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 40 40"},this.props),g.a.createElement("linearGradient",{id:e,gradientUnits:"userSpaceOnUse",x1:"-602.614",y1:"-211.006",x2:"-602.614",y2:"-210.006",gradientTransform:"matrix(22.6274 0 0 29 13656.896 6125.19)"},g.a.createElement("stop",{offset:"0",stopColor:"#676b6f"}),g.a.createElement("stop",{offset:"1",stopColor:"#a0a2a5"})),g.a.createElement("path",{d:"M26.6 24H22v11l-2-1.9V24h-9v-2h2.4c.6-1.6 1.7-5 2.2-9L10 7.4 11.4 6l21.2 21.2-1.4 1.4-4.6-4.6zm.9-5.6L16.1 7H28v2h-2c.1 3.4.8 6.8 1.5 9.4z",fill:"url(#".concat(e,")")}))}}]),t}(),ai=n(372),si=function(e){var t=e.online,n=e.file,r=e.shortcutIds;return g.a.createElement(v.a,{key:C.FILE_MENU_ADD_TO_SHORTCUT,disabled:!t},g.a.createElement(E.c,{disabled:!t},0<=r.indexOf(n.guid)?g.a.createElement(g.a.Fragment,null,g.a.createElement(ii,{width:"22px",height:"22px"}),x()("从快速访问移除")):g.a.createElement(g.a.Fragment,null,g.a.createElement(Xo,{width:"22px",height:"22px"}),x()("添加到快速访问"))))},ci=[Object(ai.a)(function(i,a){return Object(h.__awaiter)(void 0,void 0,void 0,function(){var t,n,r,o;return Object(h.__generator)(this,function(e){switch(e.label){case 0:t=a.shortcutIds,n=a.file,r=n.name,e.label=1;case 1:return e.trys.push([1,6,,7]),-1<t.indexOf(n.guid)?[4,i(Object(w.q)(n.guid))]:[3,3];case 2:return e.sent(),T.a.success({content:x()(ni=ni||Object(h.__makeTemplateObject)(["「","」已从快速访问移除"],["「","」已从快速访问移除"]),r)}),[3,5];case 3:return o=t[0],[4,i(Object(w.b)(n.guid,o))];case 4:e.sent(),T.a.success({content:x()(ri=ri||Object(h.__makeTemplateObject)(["「","」已添加到快速访问"],["「","」已添加到快速访问"]),r)}),e.label=5;case 5:return[3,7];case 6:return e.sent(),[3,7];case 7:return[2]}})})})],li=[C.FILE_MENU_ADD_TO_SHORTCUT];function ui(e){return(ui="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function di(e,t){return!t||"object"!==ui(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function fi(e){return(fi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mi(e,t){return(mi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var hi,bi,gi,_i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vi=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),di(this,fi(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mi(e,t)}(t,g.a.Component),function(e,t,n){t&&pi(e.prototype,t),n&&pi(e,n)}(t,[{key:"render",value:function(){this.SVG_COMPONENT_ID=this.SVG_COMPONENT_ID||0;var e="495d0b7251e249e48636b08b0ebe16d00_"+this.SVG_COMPONENT_ID++;return g.a.createElement("svg",_i({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 40 40"},this.props),g.a.createElement("linearGradient",{id:e,gradientUnits:"userSpaceOnUse",x1:"-922.938",y1:"380.857",x2:"-922.938",y2:"379.857",gradientTransform:"matrix(16 0 0 -28.201 14787 10747.548)"},g.a.createElement("stop",{offset:"0",stopColor:"#676b6f"}),g.a.createElement("stop",{offset:"1",stopColor:"#a0a2a5"})),g.a.createElement("path",{d:"M28 35.2V7H12v28.2l8-8 8 8z",fill:"url(#".concat(e,")")}))}}]),t}(),yi=function(e){var t=e.file.starred;return g.a.createElement(v.a,{key:C.FILE_MENU_STAR},g.a.createElement(E.c,null,t?g.a.createElement(Bt,{width:"22px",height:"22px"}):g.a.createElement(vi,{width:"22px",height:"22px"}),t?x()("已收藏"):x()("收藏")))},Ei=[C.FILE_MENU_STAR],Oi=[function(r,o){return Object(h.__awaiter)(void 0,void 0,void 0,function(){var t,n;return Object(h.__generator)(this,function(e){switch(e.label){case 0:return t=o.file,(n=o.me)&&n.id<0?(window.location.href="/login?redirect_url="+encodeURIComponent(window.location.href),[2]):t.starred?[4,r(Object(w.x)(t.guid))]:[3,2];case 1:return e.sent(),T.a.success({content:x()(hi=hi||Object(h.__makeTemplateObject)(["「","」已取消收藏"],["「","」已取消收藏"]),t.name)}),[3,4];case 2:return[4,r(Object(w.t)(t.guid))];case 3:e.sent(),T.a.success({content:x()(bi=bi||Object(h.__makeTemplateObject)(["「","」已收藏"],["「","」已收藏"]),t.name)}),e.label=4;case 4:return[2]}})})}],xi=n(103),Ti=function(e,t){return g.a.createElement(xi.a,{key:t})},Ci=[],wi=[],Si=S.c.typeToText,ji=function(e){var t=e.online,n=e.file,r=Si(n.type);return g.a.createElement(v.a,{key:C.FILE_MENU_FILE_INFO,disabled:!t},g.a.createElement(E.c,{disabled:!t},g.a.createElement(E.a,null,x()(gi=gi||Object(h.__makeTemplateObject)(["","信息"],["","信息"]),r))))},Ii=[],Ai=[],ki=n(284),Ni=n.n(ki);function Pi(e){return e.map(function(e){return e.getMenuItem})}function Ri(e){var o=Ni()(e.map(function(e){return e.keys})),i=Ni()(e.map(function(e){return e.callbacks}));return function(e,t,n){var r=o.indexOf(e);if(-1<r)return i[r](t,n)}}n.d(t,"composeMenuItems",function(){return Pi}),n.d(t,"composeMenuCallback",function(){return Ri}),n.d(t,"deleteFile",function(){return r}),n.d(t,"duplicate",function(){return o}),n.d(t,"fileReport",function(){return i}),n.d(t,"help",function(){return a}),n.d(t,"move",function(){return s}),n.d(t,"saveTemplate",function(){return c}),n.d(t,"toggleLock",function(){return l}),n.d(t,"toggleMute",function(){return u}),n.d(t,"toggleShortcut",function(){return p}),n.d(t,"toggleStar",function(){return d}),n.d(t,"divider",function(){return f}),n.d(t,"fileInfo",function(){return m})},function(e,t,n){"use strict";var r,o,i=n(2),a=n(0),s=n.n(a),c=n(4),l=n.n(c),u=n(82),p=l()(u.a).withConfig({componentId:"sc-3QTwXy"})(r=r||Object(i.__makeTemplateObject)(["height:100%;position:relative;.sm-tab-content{height:100%;}.sm-tab-navtabs{margin:0 30px;border-bottom:1px solid #d8d8d8;}.sm-tab-tab-pane{height:100%;position:relative;}"],[""])),d=n(350),f=(o=s.a.PureComponent,Object(i.__extends)(m,o),m.prototype.render=function(){var e=this.props,t=e.activeKey,n=e.tabOptions;return s.a.createElement(p,{activeKey:t,defaultActiveKey:t,onChange:this.handleChangeTab},n.map(function(e){var t=e.name,n=e.key,r=e.component;return s.a.createElement(d.a,{tab:t,size:"small",key:n},r)}))},m);function m(){var t=null!==o&&o.apply(this,arguments)||this;return t.state={firstVisible:!1},t.handleChangeTab=function(e){t.props.onActiveKeyChange(e)},t}var h,b,g=n(11),_=l.a.div.withConfig({componentId:"sc-2w16Rk"})(b=b||Object(i.__makeTemplateObject)(["position:fixed;right:0;transform:translateX(",");"],["",""]),function(e){return e.visible?"0":"100%"}),v=(h=s.a.PureComponent,Object(i.__extends)(y,h),Object.defineProperty(y.prototype,"sidebarContainer",{get:function(){return this._sidebarContainerEl||(this._sidebarContainerEl=document.createElement("div")),this._sidebarContainerEl},enumerable:!0,configurable:!0}),y.prototype.componentDidMount=function(){this.sidebarContainer.setAttribute("data-sidebar",""),document.body.appendChild(this.sidebarContainer)},y.prototype.componentWillUnmount=function(){this.sidebarContainer.remove()},y.prototype.componentDidUpdate=function(e){var t=this;!0===this.props.visible&&!1===e.visible?(this.asyncTaskHandler&&clearTimeout(this.asyncTaskHandler),this.setState({visible:!0,animationBeforeShow:!0}),this.asyncTaskHandler=setTimeout(function(){t.setState({animationBeforeShow:!1})},10)):!1===this.props.visible&&!0===e.visible&&(this.asyncTaskHandler&&clearTimeout(this.asyncTaskHandler),this.setState({animationBeforeHide:!0}),this.asyncTaskHandler=setTimeout(function(){t.setState({animationBeforeHide:!1,visible:!1})},this.props.animationDuration||10))},y.prototype.render=function(){var e=this.props.className;return this.state.visible?Object(g.createPortal)(s.a.createElement(_,{className:e,visible:this.state.visible&&!this.state.animationBeforeHide&&!this.state.animationBeforeShow},this.props.children),this.sidebarContainer):null},y);function y(e){var t=h.call(this,e)||this;return t.state={animationBeforeShow:!1,animationBeforeHide:!1,visible:t.props.visible},t.asyncTaskHandler=0,t}n.d(t,"a",function(){return C});var E,O,x=l()(v).withConfig({componentId:"sc-it99t"})(E=E||Object(i.__makeTemplateObject)(["width:350px;top:55px;bottom:0;box-shadow:0 1px 6px #cccccc;padding-top:15px;box-sizing:border-box;z-index:1001;background:#ffffff;transition:all 0.3s ease-in-out 0.1s;"],[""])),T=l.a.span.withConfig({componentId:"sc-it99t-1"})(O=O||Object(i.__makeTemplateObject)(["position:absolute;right:35px;top:33px;display:inline-block;font-size:14px;color:#c2c2c2;cursor:pointer;&:hover{color:#333333;}&:before{content:'\\2715';}"],[""]));function C(o){return function(r){return n=s.a.PureComponent,Object(i.__extends)(e,n),e.prototype.render=function(){var e=this.state,t=e.visible,n=e.activeKey;return s.a.createElement(s.a.Fragment,null,s.a.createElement(r,Object(i.__assign)({},this.props,{userGuidePanelVisible:t,userGuidePanelActiveKey:n,changeUserGuidePanelVisible:this.handleSidebarVisibleChange,changeUserGuidePanelActiveKey:this.handleActiveKeyChange})),s.a.createElement(x,{visible:t,animationDuration:400},s.a.createElement(s.a.Fragment,null,s.a.createElement(f,{tabOptions:this.tabOptions,activeKey:n,onActiveKeyChange:this.handleActiveKeyChange}),s.a.createElement(T,{onClick:this.handleCloseSidebar}))))},e;function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.tabOptions="function"==typeof o?o():o,t.state={visible:!1,activeKey:t.tabOptions[0]?t.tabOptions[0].key:""},t.handleSidebarVisibleChange=function(e){t.setState({visible:e})},t.handleActiveKeyChange=function(e){t.setState({activeKey:e})},t.handleCloseSidebar=function(){t.setState({visible:!1})},t}var n}}},,,function(e,t,n){"use strict";var r,o,i,a,s,c=n(2),l=n(0),u=n.n(l),p=n(11),d=n(82),f=n(350),m=n(176),h=n(4),b=n.n(h),g=b.a.div.withConfig({componentId:"sc-1wXmhD"})(o=o||Object(c.__makeTemplateObject)(["width:330px;height:100%;position:absolute;right:0;top:0;z-index:120;overflow-y:auto;overflow-x:hidden;background-color:#f9f9f9;box-shadow:0 0 5px 0 rgba(0,0,0,0.1);.sm-tab-container{width:100%;height:100%;.sm-tab-navtabs{position:relative;width:100%;height:47px;padding-left:20px;::after{content:'';display:block;border-bottom:1px solid #ddd;width:300px;position:absolute;bottom:5px;}.sm-tab-navtab{font-size:12px;font-weight:700;margin-right:20px;}}.sm-tab-content{width:100%;height:calc(100% - 47px);.sm-tab-tab-pane{width:100%;height:100%;}}}"],[""])),_=b.a.span.withConfig({componentId:"sc-1wXmhD-1"})(i=i||Object(c.__makeTemplateObject)(["width:12px;height:12px;padding:7px;color:#888;position:absolute;line-height:12px;right:22px;top:10px;z-index:1;svg path{fill:#c6c6c6;}svg:hover{cursor:pointer;path{fill:#5d5d5d;}}"],[""])),v=b()(m.a).withConfig({componentId:"sc-1wXmhD-2"})(a=a||Object(c.__makeTemplateObject)(["width:15px;height:15px;transform:translate(-2px,-2px) rotate(45deg);"],[""])),y=b.a.div.withConfig({componentId:"sc-1wXmhD-3"})(s=s||Object(c.__makeTemplateObject)(["width:100%;height:100%;> div{width:100%;height:100%;}"],[""])),E=(r=u.a.PureComponent,Object(c.__extends)(O,r),O.prototype.render=function(){var e=this.props,t=e.visible,n=e.onClose,r=e.className;return t?u.a.createElement(g,{className:r},u.a.createElement(_,{onClick:n},u.a.createElement(v,null)),this.renderTabs()):null},O.prototype.renderTabs=function(){var e=this.props,t=e.activeKey,n=e.file,r=e.tabOptions,o=e.onActiveKeyChange,i=e.count;return u.a.createElement(d.a,{className:"sm-sidebar",type:n.type,activeKey:t,defaultActiveKey:t,onChange:o},r.map(function(e){var t=e.name,n=e.key,r=e.ref,o=i[n];return u.a.createElement(f.a,{tab:t+("number"==typeof o?" ("+o+")":""),size:"small",key:n},u.a.createElement(y,{innerRef:r}))}))},O);function O(){return null!==r&&r.apply(this,arguments)||this}function x(r){return function(s){return t=u.a.PureComponent,Object(c.__extends)(e,t),e.prototype.componentDidUpdate=function(e,t){var n=this;if(t.activeKey!==this.state.activeKey||!t.visible&&this.state.visible){var r=this.state.tabOptions.find(function(e){return e.key===n.state.activeKey});r&&r.render()}},e.prototype.render=function(){var e=this.props.file,t=this.state,n=t.activeKey,r=t.visible,o=t.count,i=t.tabOptions,a=t.sidebarContainer;return u.a.createElement(u.a.Fragment,null,u.a.createElement(s,Object(c.__assign)({},this.props,{LEGACY_showSidebar:this.LEGACY_showSidebar,showSidebar:this.showSidebar,hideSidebar:this.handleClose,sidebarVisible:r,sidebarActiveKey:n,updateCount:this.handleUpdateCount,updateTabOptions:this.handleUpdateTabOptions})),a&&a.current&&Object(p.createPortal)(u.a.createElement(E,{file:e,visible:r,onClose:this.handleClose,onActiveKeyChange:this.handleActiveKeyChange,activeKey:n,tabOptions:i,count:o}),a.current))},e;function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.state={visible:!1,activeKey:"",count:r.reduce(function(e,t){return e[t.key]=t.count,e},{}),tabOptions:r},n.LEGACY_showSidebar=function(e){if(!1!==e.visible)switch(e.type){case"discordVisible":n.setState({visible:!0,activeKey:"discord"});break;case"historyVisible":n.setState({visible:!0,activeKey:"history"});break;case"revisionVisible":n.setState({visible:!0,activeKey:"revision"})}else n.setState({visible:!1})},n.showSidebar=function(e){n.setState({visible:!0,activeKey:e})},n.handleClose=function(){n.setState({visible:!1})},n.handleActiveKeyChange=function(e){n.setState({activeKey:e})},n.handleUpdateCount=function(e){n.setState({count:e})},n.handleUpdateTabOptions=function(e,t){n.setState({sidebarContainer:t,tabOptions:e,count:e.reduce(function(e,t){return e[t.key]=t.count,e},{})})},n}var t}}n.d(t,"a",function(){return x})},,function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return a});var r=n(16),o=n(111);function i(e){return e.teams.get("data")}function a(e){var t=e.me.id;return!t||t<0?Object(r.Map)({}):e.teams.getIn(["data",Object(o.a)(e).team])}},,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=n(2);n.p=__SM_CDN_HOST__+"/";var r=n(1);r.injectLizard=function(e){r.configure({fetchLocaleSync:function(){var t,e;if("undefined"==typeof lizardLocaleMessages||!Array.isArray(lizardLocaleMessages)||0===lizardLocaleMessages.length)return{};var n={};try{for(var r=c.__values(lizardLocaleMessages),o=r.next();!o.done;o=r.next()){var i=o.value;for(var a in i)if(i.hasOwnProperty(a))for(var s in i[a])i[a].hasOwnProperty(s)&&(n[s]=i[a][s]||n[s])}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n}}),r.setLocaleSync(e)},r.injectLizard(document.documentElement.lang)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertNever=function(e){throw new Error("unexpected type: "+JSON.stringify(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=n(294);t.interweave=function(n,r){return n.map(function(e,t){return t===n.length-1?e:""+e+r[t]}).join("")},t.getTextResult=function(e,t){return t&&t[e]};var l=/%(s|\d)/g;t.getInterpolateResult=function(e,t,n){try{if(!n)return;var r=c.sourceTextToKey({type:"interpolated",textParts:e}),o=n[r];if(!o)return;var i={},a=0;r.replace(l,function(e){return i[e]=t[a],a+=1,e});return"string"==typeof o?(s=i,o.replace(l,function(e){return null!==s[e]?String(s[e]):e})):void 0}catch(e){return}var s}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(661);t.getBoolean=function(e){var t=r.runtimeENV(e);return!(!t||"0"===t)},t.getString=function(e){if("UPLOADER_TYPE"===e)return"aws"===r.runtimeENV(e)?"aws":"qiniu";var t=r.runtimeENV(e);return"string"==typeof t?t:null},t.hasKey=function(e){return void 0!==r.runtimeENV(e)}},function(e,t,n){"use strict";(function(r){Object.defineProperty(t,"__esModule",{value:!0}),t.runtimeENV=function(e){var t="undefined"==typeof window?void 0===r?{}:r:window,n=t&&t.__RUNTIME_ENV__||{};return void 0===n[e]?n[function(e){return e.replace("SELF_HOSTED","PRIVATE_DEPLOY")}(e)]:n[e]}}).call(this,n(67))},,,,,,function(e,t,n){"use strict";e.exports=function(e,t){var n={};if(null==e||null!=t&&"function"!=typeof t)return n;for(var r in null==t&&(t=!0),e)!0!==t&&!t(e[r],r)||(n[r]=e[r]);return n}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(346);t.isAllowAddOutsider=r.isAllowAddOutsider;var o=n(742);t.isAllowInviteTeamMember=o.isAllowInviteTeamMember;var i=n(125);t.isPersonal=i.isPersonal,t.isPersonalFree=i.isPersonalFree,t.isPersonalPremium=i.isPersonalPremium,t.isEnterprise=i.isEnterprise,t.isEnterpriseStandard=i.isEnterpriseStandard,t.isEnterprisePremium=i.isEnterprisePremium,t.isEnterpriseDingding=i.isEnterpriseDingding,t.isNewDing=i.isNewDing,t.isOriginatedFromDingtalk=i.isOriginatedFromDingtalk,t.isNotOriginatedFromDingtalk=i.isNotOriginatedFromDingtalk,t.isExpired=i.isExpired,t.isTrial=i.isTrial;var a=n(156);t.isNotOnSeat=a.isNotOnSeat,t.isOnSeat=a.isOnSeat,t.isCreator=a.isCreator,t.isAdmin=a.isAdmin,t.isLimitedUser=a.isLimitedUser,t.isDisabledUser=a.isDisabledUser,t.isVerifiedEmail=a.isVerifiedEmail,t.isVerifiedMobile=a.isVerifiedMobile,t.isSpaceCreator=a.isSpaceCreator,t.isOrdinaryMemberOfTeam=a.isTeamMember;var s=n(163);t.isEnterpriseFile=s.isEnterpriseFile,t.isShortcut=s.isShortcut,t.isSpaceOrSpaceFile=s.isSpaceOrSpaceFile,t.isSpaceFile=s.isSpaceFile,t.isSpace=s.isSpace;var c=n(346);t.isOutsider=c.isOutsider,t.isOutsiderCollaborator=c.isOutsider,t.isEditor=c.isEditor,t.isOnlyReaderOrCommenter=c.isOnlyReaderOrCommenter,t.isBelongToTheSameEnterprise=c.isBelongToTheSameEnterprise,t.isFileAdmin=c.isFileAdmin,t.isInheritFromSpace=c.isInheritFromSpace},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t(125),o=t(156);r.checkInviteMemberDisabled=function(e){var t=e.me,n=e.team;return r.isAllowInviteTeamMember(t,n)?{disabled:!1}:{disabled:!0}},r.checkEnterpriseManagementDisabled=function(e){var t=e.me;return n.isEnterprise(t)&&(o.isCreator(t)||o.isAdmin(t))?{disabled:!1}:{disabled:!0}},r.isAllowInviteTeamMember=function(e,t){var n,r,o=null===(r=null===(n=t)||void 0===n?void 0:n.settings)||void 0===r?void 0:r.invite,i=e.teamRole;return!(!o||!i||"disabled"===i)&&0<=o.indexOf(i)}},,,,function(e,t){e.exports=function(i,e){var a=0,s={};i.addEventListener("message",function(e){var t=e.data;if("RPC"===t.type)if(t.id){var n=s[t.id];n&&(delete s[t.id],t.error?n[1](Object.assign(Error(t.error.message),t.error)):n[0](t.result))}else{var r=document.createEvent("Event");r.initEvent(t.method,!1,!1),r.data=t.params,i.dispatchEvent(r)}}),e.forEach(function(o){i[o]=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new Promise(function(e,t){var n=++a;s[n]=[e,t],i.postMessage({type:"RPC",id:n,method:o,params:r})})}})}},,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=["#A69ACA","#EC6E79","#F39801","#00A496","#FFD900","#674599","#83D4E7","#AF7C4F","#B8D200","#9D5B8B","#F15B1C","#41464B","#CD9F00","#47885E","#D7003B","#436EC9","#F897C7","#9C4109","#6E7A56","#83D4E7","#83609C","#F8DCDB","#E7C39C","#87B151","#9E0038","#B09FC9","#7DCFC8","#BEE7F0","#CD9F00","#CBAAC2","#F5C5C9","#CD8C28","#1A5A52","#9EB4E1","#406619","#CAB738","#F6C751","#8D699D","#613A14","#189DEC"],r=(i.prototype.setColorPalette=function(e){this._colorPalette=e,this.reset()},i.prototype.userColor=function(e){if(this._isCurrentUser(e))return"#5292F7";var t=this._userColorMap[e];return null==t&&(t=this._getColor(),this._userColorMap[e]=t),t},i.prototype.reset=function(){this._userColorMap={}},i.prototype._isCurrentUser=function(e){return e+""==this._currentUserId+""},i);function i(e,t){var n,r=this;this._colorPalette=o,this._userColorMap={},this._currentUserId=e,t&&(this._colorPalette=t),this._getColor=(n=0,function(){var e=r._colorPalette,t=e[n];return(n+=1)>e.length&&(n=0),t})}t.default=r},,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(47),o=n(355),i=n(784),a=n(361);function s(e){var t=new i(e),n=o(i.prototype.request,t);return r.extend(n,i.prototype,t),r.extend(n,t),n}var c=s(n(358));c.Axios=i,c.create=function(e){return s(a(c.defaults,e))},c.Cancel=n(362),c.CancelToken=n(796),c.isCancel=n(357),c.all=function(e){return Promise.all(e)},c.spread=n(797),e.exports=c,e.exports.default=c},function(e,t){e.exports=function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},function(e,t,n){"use strict";var o=n(47),r=n(356),i=n(785),a=n(786),s=n(361);function c(e){this.defaults=e,this.interceptors={request:new i,response:new i}}c.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method=e.method?e.method.toLowerCase():"get";var t=[a,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n},c.prototype.getUri=function(e){return e=s(this.defaults,e),r(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},o.forEach(["delete","get","head","options"],function(n){c.prototype[n]=function(e,t){return this.request(o.merge(t||{},{method:n,url:e}))}}),o.forEach(["post","put","patch"],function(r){c.prototype[r]=function(e,t,n){return this.request(o.merge(n||{},{method:r,url:e,data:t}))}}),e.exports=c},function(e,t,n){"use strict";var r=n(47);function o(){this.handlers=[]}o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(t){r.forEach(this.handlers,function(e){null!==e&&t(e)})},e.exports=o},function(e,t,n){"use strict";var r=n(47),o=n(787),i=n(357),a=n(358),s=n(794),c=n(795);function l(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(t){return l(t),t.baseURL&&!s(t.url)&&(t.url=c(t.baseURL,t.url)),t.headers=t.headers||{},t.data=o(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||a.adapter)(t).then(function(e){return l(t),e.data=o(e.data,e.headers,t.transformResponse),e},function(e){return i(e)||(l(t),e&&e.response&&(e.response.data=o(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},function(e,t,n){"use strict";var r=n(47);e.exports=function(t,n,e){return r.forEach(e,function(e){t=e(t,n)}),t}},function(e,t,n){"use strict";var o=n(47);e.exports=function(n,r){o.forEach(n,function(e,t){t!==r&&t.toUpperCase()===r.toUpperCase()&&(n[r]=e,delete n[t])})}},function(e,t,n){"use strict";var o=n(360);e.exports=function(e,t,n){var r=n.config.validateStatus;!r||r(n.status)?e(n):t(o("Request failed with status code "+n.status,n.config,null,n.request,n))}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,n){"use strict";var i=n(47),a=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,r,o={};return e&&i.forEach(e.split("\n"),function(e){if(r=e.indexOf(":"),t=i.trim(e.substr(0,r)).toLowerCase(),n=i.trim(e.substr(r+1)),t){if(o[t]&&0<=a.indexOf(t))return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}}),o}},function(e,t,n){"use strict";var r,o,i,a=n(47);function s(e){var t=e;return o&&(i.setAttribute("href",t),t=i.href),i.setAttribute("href",t),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}e.exports=a.isStandardBrowserEnv()?(o=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a"),r=s(window.location.href),function(e){var t=a.isString(e)?s(e):e;return t.protocol===r.protocol&&t.host===r.host}):function(){return!0}},function(e,t,n){"use strict";var s=n(47);e.exports=s.isStandardBrowserEnv()?{write:function(e,t,n,r,o,i){var a=[];a.push(e+"="+encodeURIComponent(t)),s.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),s.isString(r)&&a.push("path="+r),s.isString(o)&&a.push("domain="+o),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(362);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;e(function(e){n.reason||(n.reason=new r(e),t(n.reason))})}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var t;return{token:new o(function(e){t=e}),cancel:t}},e.exports=o},function(e,t,n){"use strict";e.exports=function(t){return function(e){return t.apply(null,e)}}},function(e,t,n){},,,,,,,,,,,,,,,,,,,,,function(r,i,o){(function(t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function e(){var e;try{e=i.storage.debug}catch(e){}return!e&&void 0!==t&&"env"in t&&(e=t.env.DEBUG),e}(i=r.exports=o(820)).log=function(){return"object"===("undefined"==typeof console?"undefined":n(console))&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},i.formatArgs=function(e){var t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+i.humanize(this.diff),!t)return;var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var r=0,o=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(r++,"%c"===e&&(o=r))}),e.splice(o,0,n)},i.save=function(e){try{null==e?i.storage.removeItem("debug"):i.storage.debug=e}catch(e){}},i.load=e,i.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},i.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),i.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],i.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},i.enable(e())}).call(this,o(78))},function(e,c,t){function n(e){var r;function s(){if(s.enabled){var o=s,e=+new Date,t=e-(r||e);o.diff=t,o.prev=r,o.curr=e,r=e;for(var i=new Array(arguments.length),n=0;n<i.length;n++)i[n]=arguments[n];i[0]=c.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var a=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,function(e,t){if("%%"===e)return e;a++;var n=c.formatters[t];if("function"==typeof n){var r=i[a];e=n.call(o,r),i.splice(a,1),a--}return e}),c.formatArgs.call(o,i),(s.log||c.log||void 0).apply(o,i)}}return s.namespace=e,s.enabled=c.enabled(e),s.useColors=c.useColors(),s.color=function(e){var t,n=0;for(t in e)n=(n<<5)-n+e.charCodeAt(t),n|=0;return c.colors[Math.abs(n)%c.colors.length]}(e),s.destroy=o,"function"==typeof c.init&&c.init(s),c.instances.push(s),s}function o(){var e=c.instances.indexOf(this);return-1!==e&&(c.instances.splice(e,1),!0)}(c=e.exports=n.debug=n.default=n).coerce=function(e){return e instanceof Error?e.stack||e.message:e},c.disable=function(){c.enable("")},c.enable=function(e){var t;c.save(e),c.names=[],c.skips=[];var n=("string"==typeof e?e:"").split(/[\s,]+/),r=n.length;for(t=0;t<r;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?c.skips.push(new RegExp("^"+e.substr(1)+"$")):c.names.push(new RegExp("^"+e+"$")));for(t=0;t<c.instances.length;t++){var o=c.instances[t];o.enabled=c.enabled(o.namespace)}},c.enabled=function(e){if("*"===e[e.length-1])return!0;var t,n;for(t=0,n=c.skips.length;t<n;t++)if(c.skips[t].test(e))return!1;for(t=0,n=c.names.length;t<n;t++)if(c.names[t].test(e))return!0;return!1},c.humanize=t(821),c.instances=[],c.names=[],c.skips=[],c.formatters={}},,function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,o,i=t(823),a=t(826);r.delay=a.delay,r.uuid=function(){return i.v4().replace(/-/g,"")},r.version="0.17.3",(n=r.Event||(r.Event={})).NEW_CHANGE="newEditorChange",n.NEW_CHANGE_SAVED_TO_STORAGE="newEditorChangeSavedToStorage",n.NEW_CHANGE_SAVE_TO_STORAGE_FAILED="newEditorChangeSaveToStorageFailed",n.SERVER_CHANGE_APPLIED="serverChangeApplied",n.SERVER_CHANGE_PROCESSED="serverChangeProcessed",n.ACCEPT="accept",n.ACCEPT_COMMIT="acceptCommit",n.ACCEPT_FAILED="acceptFailed",n.WAITING_FOR_CAN_HANDLE_SERVER_CHANGES="waitingForCanHandleServerChanges",n.BEFORE_SEND_REQUEST="beforeSendRequest",n.SEND_REQUEST_DONE="sendRequestDone",n.SEND_REQUEST_FAILED="sendRequestFailed",n.BEFORE_APPLY_CHANGE="beforeApplyChange",n.CHANGE="change",n.CHANGES="changes",n.SAVE_STATUS_CHANGE="saveStatusChange",n.COLLABORATOR="collaborator",n.EXTERNAL_CHANGES="external",n.SHIMO_SCRIPTS="shimoScripts",n.ENTER="enter",n.LEAVE="leave",n.SELECT="select",n.BROADCAST="broadcast",n.ERROR="error",n.WARNING="warning",n.NETWORK_CHANGE="networkChange",(o=r.STATUS_CHANGE||(r.STATUS_CHANGE={})).NETWORK_STATUS_OFFLINE="networkStatusOffline",o.SAVE_STATUS_INIT_OFFLINE="saveStatusInitOffline",o.SAVE_STATUS_REQ_TIMEDOUT="saveStatusRequestTimedout",o.SAVE_STATUS_NETWORK_OFFLINE="saveSatstusNetworkChangeOffline",r.debounce=function(r,o,i){var a;return function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return new Promise(function(e){var t=i&&!a;clearTimeout(a),a=setTimeout(function(){a=null,i||e(r.apply(void 0,n))},o),t&&e(r.apply(void 0,n))})}},r.colors=["#A69ACA","#EC6E79","#F39801","#00A496","#FFD900","#674599","#83D4E7","#AF7C4F","#B8D200","#9D5B8B","#F15B1C","#41464B","#CD9F00","#47885E","#D7003B","#436EC9","#F897C7","#9C4109","#6E7A56","#83D4E7","#83609C","#F8DCDB","#E7C39C","#87B151","#9E0038","#B09FC9","#7DCFC8","#BEE7F0","#CD9F00","#CBAAC2","#F5C5C9","#CD8C28","#1A5A52","#9EB4E1","#406619","#CAB738","#F6C751","#8D699D","#613A14","#189DEC"],r.last=function(e){if(0!==e.length)return e[e.length-1]};function s(e,t,n){this.message="Unknown error",this.code="ERR_UNKNOWN",this.version=r.version,this.message=e,this.code=t,n&&(this.origin=n,this.originStatus=n.status?String(n.status):"UnknownStatus",this.stack=n.message+n.stack)}r.CollaborationError=s,r.ERROR={ERR_CHANGE_NOT_CONTINUOUS:"ERR_CHANGE_NOT_CONTINUOUS",ERR_ASSERTION:"ERR_ASSERTION",ERR_FN_INVOKE:"ERR_FN_INVOKE",ERR_PULL:"ERR_PULL",ERR_SENDER:"ERR_SENDER",ERR_FILE_TOO_LARGE:"ERR_FILE_TOO_LARGE",ERR_APPLY_CHANGE:"ERR_APPLY_CHANGE",ERR_STORAGE_SET:"ERR_STORAGE_SET",ERR_PULL_4XX:"ERR_PULL_4XX",ERR_DISCONTINUOUS:"ERR_DISCONTINUOUS",ERR_CHANGES_DISCONTINUOUS:"ERR_CHANGES_DISCONTINUOUS"},r.noop=function(){},r.setReadonly=function(e){"function"==typeof e.disable&&e.disable(),"function"==typeof e.updateOptions&&e.updateOptions({editable:!1})},r.setEditable=function(e){"function"==typeof e.enable&&e.enable(),"function"==typeof e.updateOptions&&e.updateOptions({editable:!0})}},function(e,t,n){var r=n(824),o=n(825),i=o;i.v1=r,i.v4=o,e.exports=i},function(e,t,n){var m,h,b=n(368),g=n(369),_=0,v=0;e.exports=function(e,t,n){var r=t&&n||0,o=t||[],i=(e=e||{}).node||m,a=void 0!==e.clockseq?e.clockseq:h;if(null==i||null==a){var s=b();null==i&&(i=m=[1|s[0],s[1],s[2],s[3],s[4],s[5]]),null==a&&(a=h=16383&(s[6]<<8|s[7]))}var c=void 0!==e.msecs?e.msecs:(new Date).getTime(),l=void 0!==e.nsecs?e.nsecs:v+1,u=c-_+(l-v)/1e4;if(u<0&&void 0===e.clockseq&&(a=a+1&16383),(u<0||_<c)&&void 0===e.nsecs&&(l=0),1e4<=l)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");_=c,h=a;var p=(1e4*(268435455&(c+=122192928e5))+(v=l))%4294967296;o[r++]=p>>>24&255,o[r++]=p>>>16&255,o[r++]=p>>>8&255,o[r++]=255&p;var d=c/4294967296*1e4&268435455;o[r++]=d>>>8&255,o[r++]=255&d,o[r++]=d>>>24&15|16,o[r++]=d>>>16&255,o[r++]=a>>>8|128,o[r++]=255&a;for(var f=0;f<6;++f)o[r+f]=i[f];return t||g(o)}},function(e,t,n){var a=n(368),s=n(369);e.exports=function(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||a)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var i=0;i<16;++i)t[r+i]=o[i];return t||s(o)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.delay=function(t){return new Promise(function(e){setTimeout(e,t)})}},,function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return a});var r=n(79),o=n(108),i=o.withRouter,a=r.connect},function(e,t,n){"use strict";n.d(t,"a",function(){return m}),n.d(t,"b",function(){return b});var r,o=n(2),i=n(0),a=n.n(i),s=(r=a.a.createContext({})).Provider,c=r.Consumer,l={};function u(e,t){var n=l[e];n&&n.forEach(function(e){return e(t)})}var p;p=a.a.Component,Object(o.__extends)(d,p),d.prototype.render=function(){return a.a.createElement(s,{value:{publishEvent:u}},this.props.children)};function d(){return null!==p&&p.apply(this,arguments)||this}var f,m=(f=a.a.Component,Object(o.__extends)(h,f),h.prototype.componentDidMount=function(){this.dispose=function(e,t){var n=l[e];return n||(l[e]=n=[]),n.push(t),function(){n.splice(n.indexOf(t),1)}}(this.props.topic,this.props.onMessage)},h.prototype.componentWillUnmount=function(){this.dispose&&this.dispose()},h.prototype.render=function(){return null},h);function h(){return null!==f&&f.apply(this,arguments)||this}function b(e){var t,n;return n=a.a.Component,Object(o.__extends)(r,n),r.prototype.render=function(){var t=this,n=e;return a.a.createElement(c,null,function(e){return a.a.createElement(n,Object(o.__assign)({},e,t.props))})},(t=r).displayName="withMessenger",t;function r(){return null!==n&&n.apply(this,arguments)||this}}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(2),o=n(0);function s(e){var t,n=e.constructor;return(t={})[n.events.SHOW]="onShow",t[n.events.HIDE]="onHide",t[n.events.UNREAD]="onUnread",t[n.events.TOTAL]="onTotal",t}var a,i=(a=n.n(o).a.PureComponent,Object(r.__extends)(c,a),c.prototype.componentDidMount=function(){!this.state.ready&&this.props.discord&&this.bindDiscord()},c.prototype.componentDidUpdate=function(o){var i=this;if(this.state.ready||!this.props.discord){if(this.state.ready&&this.props.discord){var a=s(this.props.discord);Object.keys(a).forEach(function(e){var t=a[e],n=o[t],r=i.props[t];n!==r&&(n&&i.props.discord.off(e,n),r&&i.props.discord.on(e,r))})}}else this.bindDiscord()},c.prototype.componentWillUnmount=function(){this.state.ready&&this.props.discord&&this.unbindDiscord()},c.prototype.render=function(){return null},c);function c(){var i=null!==a&&a.apply(this,arguments)||this;return i.state={ready:!1},i.bindDiscord=function(){i.setState({ready:!0});var r=i.props.discord;if(r){var o=s(r);Object.keys(o).forEach(function(e){var t=o[e],n=i.props[t];n&&r.on(e,n)})}},i.unbindDiscord=function(){var r=i.props.discord;if(r){var o=s(r);Object.keys(o).forEach(function(e){var t=o[e],n=i.props[t];n&&r.off(e,n)})}},i}},function(e,t,n){"use strict";var r=n(1),o=n.n(r),i=n(0),a=n.n(i),s=n(27),c=n(52),l=n(2),u=n(4),p=n.n(u),d=n(19);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _,v,y,E,O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),h(this,b(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,a.a.Component),function(e,t,n){t&&m(e.prototype,t),n&&m(e,n)}(t,[{key:"render",value:function(){return a.a.createElement("svg",O({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},this.props),a.a.createElement("path",{d:"M6 15H3V4h14v11H9.2L6 18.2V15zm-.5-6.5v2h2v-2h-2zm3.5 0v2h2v-2H9zm3.5 0v2h2v-2h-2z",fill:"#555"}))}}]),t}(),T=p()(d.a).withConfig({componentId:"sc-1KRurB"})(_=_||Object(l.__makeTemplateObject)(["position:relative;margin:11px 0;width:38px;min-width:38px;height:28px;white-space:nowrap;"],[""])),C=p.a.p.withConfig({componentId:"sc-1KRurB-1"})(v=v||Object(l.__makeTemplateObject)(["transform:scale(0.83);"],[""])),w=p()(x).withConfig({componentId:"sc-1KRurB-2"})(y=y||Object(l.__makeTemplateObject)(["opacity:1;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);"],[""])),S=p.a.div.withConfig({componentId:"sc-1KRurB-3"})(E=E||Object(l.__makeTemplateObject)(["position:absolute;right:5px;top:1px;width:6px;height:6px;border:2px solid #fff;border-radius:100%;background:#8ab3e9;"],[""]));n.d(t,"a",function(){return I});function j(e){var t=e.active?o()("关闭讨论"):o()("查看讨论"),n=(Object(c.b)()?"⌘":"Ctrl")+"+Shift+D";return a.a.createElement("div",null,a.a.createElement("p",null,t),a.a.createElement(C,null,n))}var I=function(e){var t=e.onClick,n=e.active,r=e.unreadCount;return a.a.createElement(s.a,{placement:"bottom",mouseLeaveDelay:0,arrowPointAtCenter:!0,title:a.a.createElement(j,{active:n})},a.a.createElement(T,{onClick:t,type:"primary",size:"s",active:n},a.a.createElement(w,{width:"20px",height:"20px"}),0<r&&a.a.createElement(S,null)))}},function(e,t,n){"use strict";var s=n(2),r=n(1),b=n.n(r),o=n(485),g=n.n(o),i=n(185),c=n.n(i),f=n(42),m=n(18),d=n(851),h=n(46),_=n(114),v=n(6),l=n(230),a=n(7),u=n(16),p={initialStructure:Object(u.Map)({mirror:Object(u.Map)(),data:Object(u.Map)()}),createMirror:function(e,t,n){return e.update("data",function(e){return e.has(t)?e.set(n,e.get(t)).delete(t):e}).setIn(["mirror",t],n)},mirrorId:function(e,t){if("-"!==t[0])return t;var n=e.get("mirror");return n.has(t)?n.get(t):t},get:function(e,t,n){return e.getIn(["data",p.mirrorId(e,t)],n)},set:function(e,t,n){return p._set(e,t,Object(u.fromJS)(n))},push:function(e,t,n){var r=p.get(e,t,Object(u.List)());return p.set(e,t,r.push(Object(u.fromJS)(n)))},remove:function(e,t){return e.removeIn(["data",p.mirrorId(e,t)])},_set:function(e,t,n){return e.setIn(["data",p.mirrorId(e,t)],n)}},y=n(8),E=n(22),O=Object(v.c)(a.a.GET_COLLABORATORS,function(c){if(!c)throw new Error('"fileId" is required');return function(e){var t=e.dispatch,n=e.next,r=(0,e.getState)(),o=r.collaborators,i=r.files;c=h.a.mirrorId(i,c);var a=p.get(o,c),s="-"===c[0]?Promise.reject(new Error("Skip fetching collaborators of an unsynced file")):t(Object(y.get)("files/"+c+"/collaborators",{schema:[{user:m.c}],transformResponseBody:function(e){return e.map(function(e){return{user:e,role:e.role,sharedBy:e.sharedBy,permission:e.permission,owner:e.owner}})}})).then(function(e){n({fileId:c,collaborators:e})});return Object(v.j)({local:a&&t(Object(E.c)(a.toJS(),[{user:m.c}])),remote:s})}}),x=(Object(v.c)(a.a.ADD_COLLABORATOR,function(o,i){return function(e){var t=e.dispatch,n=e.getState,r=e.next;return"-"===(o=h.a.mirrorId(n().files,o))[0]?Promise.reject(new Error(b()("文件还未同步，请等待文件同步后重试"))):t(Object(y.post)("files/"+o+"/collaborators",{body:i,schema:m.c})).then(function(e){return r({fileId:o,data:{user:e,role:i.role,fromParent:!1,permission:"editable",owner:!1}})})}}),Object(v.c)(a.a.REMOVE_COLLABORATOR,function(o,i){return function(e){var t=e.dispatch,n=e.next,r=e.getState;return"-"===(o=h.a.mirrorId(r().files,o))[0]?Promise.reject(new Error(b()("文件还未同步，请等待文件同步后重试"))):t(Object(y.destroy)("files/"+o+"/collaborators/"+i)).then(function(){n({fileId:o,userId:i})})}}),Object(v.c)(a.a.UPDATE_COLLABORATOR_ROLE,function(o,i,a){return function(e){var t=e.dispatch,n=e.next,r=e.getState;return"-"===(o=h.a.mirrorId(r().files,o))[0]?Promise.reject(new Error(b()("文件还未同步，请等待文件同步后重试"))):t(Object(y.patch)("files/"+o+"/collaborators/"+i,{body:{role:a}})).then(function(){n({fileId:o,userId:i,role:a})})}}),Object(v.c)(a.a.TRANSFER_OWNER_ROLE,function(i,a,s){return void 0===s&&(s=!1),function(e){var t=e.dispatch,n=e.next,r=e.getState;if("-"===(i=h.a.mirrorId(r().files,i))[0])return Promise.reject(new Error(b()("文件还未同步，请等待文件同步后重试")));var o=s?"spaces/"+i+"/owner":"files/"+i;return t(Object(y.patch)(o,{body:{userId:a}})).then(function(e){n({fileId:i,userId:a,file:e})})}}),Object(v.c)(a.a.ADD_COLLABORATORS,function(c,r,o){return void 0===o&&(o="web"),function(e){var a=e.dispatch,s=e.next,t="files/"+c+"/collaborators/batch",n={collaborators:r};"wework"===o&&(t="files/"+c+"/collaborators/batch_wework",n={departments:r.departments,users:r.users});return a(Object(y.post)(t,{body:n})).then(function(e){var n=[],t=e.reduce(function(e,t){return"object"==typeof t?e.concat({user:t,role:t.role,sharedBy:t.sharedBy,permission:t.permission,owner:t.owner}):(n.push(t),e)},[]),r=Object(f.wormalize)(t,[{user:m.c}]),o=r.result,i=r.entities;return a(Object(E.c)(o,[{user:m.c}],i)).then(function(){a(Object(E.b)(i))}),s({fileId:c,data:o}),{successCount:o?o.length:0,errors:n}})}}),Object(v.c)(a.a.GET_SPACE_COLLABORATORS,function(c){if(!c)throw new Error('"fileId" is required');return function(e){var t=e.dispatch,n=e.next,r=(0,e.getState)(),o=r.collaborators,i=r.files;c=h.a.mirrorId(i,c);var a=p.get(o,c),s="-"===c[0]?Promise.reject(new Error("Skip fetching collaborators of an unsynced file")):t(Object(y.get)("space_files/"+c+"/collaborators",{schema:[{user:m.c}],transformResponseBody:function(e){return e.map(function(e){return{user:e,role:e.role,sharedBy:e.sharedBy,permission:e.permission,owner:e.owner}})},isIE:!1})).then(function(e){n({spaceId:c,collaborators:e})});return Object(v.j)({local:a&&t(Object(E.c)(a.toJS(),[{user:m.c}])),remote:s})}}),Object(v.c)(a.a.GET_EXTRA_CHILDREN_COLLABORATORS,function(t){return function(e){return(0,e.dispatch)(Object(y.get)("files/"+t+"/children/collaborators")).then(function(e){return e})}}),Object(v.c)(a.a.ADD_SPACE_COLLABORATORS,function(c,t){return function(e){var a=e.dispatch,s=e.next;return a(Object(y.post)("space_files/"+c+"/collaborators",t)).then(function(e){var n=[],t=e.reduce(function(e,t){return"object"==typeof t?e.concat({user:t,role:t.role,sharedBy:t.sharedBy,permission:t.permission,owner:t.owner}):(n.push(t),e)},[]),r=Object(f.wormalize)(t,[{user:m.c}]),o=r.result,i=r.entities;return a(Object(E.c)(o,[{user:m.c}],i)).then(function(){a(Object(E.b)(i))}),s({fileId:c,data:o}),{successCount:o?o.length:0,errors:n}})}}),Object(v.c)(a.a.REMOVE_SPACE_COLLABORATOR,function(o,i){return function(e){var t=e.dispatch,n=e.next,r=e.getState;return o=h.a.mirrorId(r().files,o),t(Object(y.destroy)("space_files/"+o+"/collaborators/"+i)).then(function(){n({spaceId:o,userId:i})})}}),n(31)),T=n.n(x);n.d(t,"t",function(){return j}),n.d(t,"x",function(){return I}),n.d(t,"m",function(){return A}),n.d(t,"w",function(){return k}),n.d(t,"y",function(){return N}),n.d(t,"A",function(){return P}),n.d(t,"n",function(){return R}),n.d(t,"u",function(){return D}),n.d(t,"z",function(){return L}),n.d(t,"j",function(){return M}),n.d(t,"g",function(){return F}),n.d(t,"e",function(){return U}),n.d(t,"a",function(){return B}),n.d(t,"c",function(){return z}),n.d(t,"o",function(){return V}),n.d(t,"p",function(){return G}),n.d(t,"d",function(){return H}),n.d(t,"l",function(){return W}),n.d(t,"s",function(){return K}),n.d(t,"r",function(){return $}),n.d(t,"f",function(){return q}),n.d(t,"i",function(){return X}),n.d(t,"b",function(){return Q}),n.d(t,"q",function(){return J}),n.d(t,"k",function(){return Z}),n.d(t,"v",function(){return ee}),n.d(t,"h",function(){return te});function C(e){var t=e.state,n=e.type,r=e.pollNewest,o=e.dispatch,i=e.next,a=!r&&t&&t.get("nextURL")||{lastTimestamp:Date.now()};return Object(v.j)({local:t&&o(Object(E.c)(t.toJS(),{list:[m.a]})),remote:o(Object(y.get)("files?type="+n+"&collaboratorCount=true&collaboratorCount"+("created"===n?"&excerpt=true":"")+"&limit="+w.pageSize()+"&"+c.a.stringify(a),{schema:{list:[m.a]}})).then(function(e){i({data:e,pollNewest:r})})})}var w=Object(v.d)(),S=Object(v.d)(),j=Object(v.c)(a.a.STAR_FILE,function(e){return{guid:e}}),I=Object(v.c)(a.a.UNSTAR_FILE,function(e){return{guid:e}}),A=Object(v.c)(a.a.MUTE_FILE,function(r){return function(e){var t=e.dispatch,n=e.next;return t(Object(y.put)("files/"+r+"/mute")).then(function(){n({guid:r})})}}),k=Object(v.c)(a.a.UNMUTE_FILE,function(r){return function(e){var t=e.dispatch,n=e.next;return t(Object(y.destroy)("files/"+r+"/mute")).then(function(){n({guid:r})})}}),N=Object(v.c)(a.a.UPDATE_FILE_NAME,function(e,t){return{guid:e,name:t}}),P=Object(v.c)(a.a.UPDATE_FILE_SHARE_MODE,function(i,a,s){return void 0===s&&(s=!1),function(e){var t=e.getState,n=e.dispatch,r=e.next,o=t().files;return"-"===(i=h.a.mirrorId(o,i))[0]?Promise.reject(new Error(b()("请等待同步后再修改共享状态"))):n(Object(y.patch)("files/"+h.a.mirrorId(o,i),{body:{shareMode:a,passwordProtected:s?1:0}})).then(function(){r({guid:i,shareMode:a,passwordProtected:s})})}}),R=Object(v.c)(a.a.SET_FILE_PASSWORD_PROTECTED,function(i){return function(e){var t=e.getState,n=e.dispatch,r=e.next,o=t().files;return"-"===(i=h.a.mirrorId(o,i))[0]?Promise.reject(new Error(b()("请等待同步后再修改共享状态"))):n(Object(y.patch)("files/"+i,{body:{passwordProtected:1}})).then(function(e){var t=e.password;r({guid:i,password:t})})}}),D=Object(v.c)(a.a.SET_FILE_PASSWORD_UNPROTECTED,function(i){return function(e){var t=e.getState,n=e.dispatch,r=e.next,o=t().files;return"-"===(i=h.a.mirrorId(o,i))[0]?Promise.reject(new Error(b()("请等待同步后再修改共享状态"))):n(Object(y.patch)("files/"+i,{body:{passwordProtected:0}})).then(function(){r({guid:i})})}}),L=Object(v.c)(a.a.UPDATE_FILE_SHARE_PASSWORD,function(i){return function(e){var t=e.getState,n=e.dispatch,r=e.next,o=t().files;return"-"===(i=h.a.mirrorId(o,i))[0]?Promise.reject(new Error(b()("请等待同步后再修改共享状态"))):n(Object(y.patch)("files/"+i,{body:{resetPassword:1}})).then(function(e){var t=e.password;r({guid:i,password:t})})}}),M=(Object(v.c)(a.a.GET_STARRED_FILES,function(){return Object(l.a)(function(e){var t=e.getState,n=e.dispatch,r=e.next,o=t().starred;return Object(v.j)({local:o&&n(Object(E.c)(o.toJS(),[m.a])),remote:n(Object(y.get)("files/starred",{schema:[m.a]})).then(r)})},"getStarredFiles")}),Object(v.c)(a.a.GET_DELETED_FILES,function(){return Object(l.a)(function(e){var t=e.getState,n=e.dispatch,r=e.next,o=t().deleted;return Object(v.j)({local:o&&n(Object(E.c)(o.toJS(),[m.a])),remote:n(Object(y.get)("trashes",{schema:[m.a]})).then(r)})},"getDeletedFiles")}),Object(v.c)(a.a.GET_RECENT_FILES,function(){return Object(l.a)(function(e){var t=e.getState,n=e.dispatch,r=e.next,o=t().recent;return Object(v.j)({local:o&&n(Object(E.c)(o.toJS(),[m.a])),remote:n(Object(y.get)("files/recent",{schema:[m.a]})).then(r)})},"getRecentFiles")}),Object(v.c)(a.a.GET_USED_FILES,function(i){return Object(l.a)(function(e){var t=e.getState,n=e.dispatch,r=e.next,o=t().used;return C({state:o,type:"used",pollNewest:i,dispatch:n,next:r})},"getUsedFiles")})),F=(Object(v.c)(a.a.GET_UPDATED_FILES,function(i){return Object(l.a)(function(e){var t=e.getState,n=e.dispatch,r=e.next,o=t().updated;return C({state:o,type:"updated",pollNewest:i,dispatch:n,next:r})},"getUpdatedFiles")}),Object(v.c)(a.a.GET_CREATED_FILES,function(i){return Object(l.a)(function(e){var t=e.getState,n=e.dispatch,r=e.next,o=t().created;return C({state:o,type:"created",pollNewest:i,dispatch:n,next:r})},"getCreatedFiles")}),Object(v.c)(a.a.GET_SHARED_FILES,function(i){return Object(l.a)(function(e){var t=e.getState,n=e.dispatch,r=e.next,o=t().shared;return C({state:o,type:"shared",pollNewest:i,dispatch:n,next:r})},"getSharedFiles")}),Object(v.c)(a.a.GET_UNREAD_SHARED_FILES,function(){return Object(l.a)(function(e){var t=e.dispatch,n=e.next;return t(Object(y.get)("files?type=shared&excerpt=true&collaboratorCount=true&page=1&marked=true&pageSize="+S.pageSize(),{schema:[m.a]})).then(n)},"getSharedFiles")}),Object(v.c)(a.a.GET_FILE_CHILDREN,function(p,d){return void 0===p&&(p="0"),void 0===d&&(d=!1),Object(l.a)(function(e){var t=e.dispatch,n=e.getState,r=e.next,o=n(),i=o.tree,a=o.files;p=h.a.mirrorId(a,p);var s,c=_.a.getChildren(i,p),l=c&&t(Object(E.c)(c.toJS(),[m.a]));if("-"===p[0])s=Promise.reject(new Error("Skip fetching children of an unsynced file "+p));else{var u=void 0;u=d?"files?collaboratorCount=true"+("0"===p?"":"&folder="+p):"files?excerpt=true&collaboratorCount=true"+("0"===p?"":"&folder="+p),s=t(Object(y.get)(u,{schema:[m.a]})).then(function(e){return r({parent:p,children:e})})}return Object(v.j)({local:l,remote:s})},"getFileChildren_"+p)})),U=Object(v.c)(a.a.GET_FILE,function(i,a){return void 0===a&&(a={}),Object(l.a)(function(e){var t=e.dispatch,n=e.getState;i=h.a.mirrorId(n().files,i);var r=t(Object(E.c)(i,m.a)).then(function(){if(!h.a.get(n().files,i))return Promise.reject(new Error("File "+i+" doesn't exist locally"))});a.collaboratorCount=!0,a._=Date.now();var o="-"===i[0]?Promise.reject(new Error("File "+i+" has not synced")):t(Object(y.get)("files/"+i+"?"+c.a.stringify(a),{schema:m.a}));return Object(v.j)({local:r,remote:o})},"getFile_"+i+"?"+c.a.stringify(a))}),B=(Object(v.c)(a.a.GET_FILES_GUIDE,function(){return function(e){return(0,e.dispatch)(Object(y.get)("files/guide"))}}),Object(v.c)(a.a.CREATE_FILE,function(e){var o=e.type,t=e.name,i=void 0===t?b()("无标题"):t,n=e.parent,a=void 0===n?"0":n,s=e.pool,r=e.mute,c=void 0!==r&&r,l=e.role,u=void 0===l?"owner":l,p=e.guid,d=void 0===p?"-"+g()("abcdefghijklmnopqrstuvwxyz0123456789",16).join(""):p,f=e.createdAt,m=void 0===f?(new Date).toString():f,h=e.isFromSVC;return function(e){var t=e.getState,n=e.next,r=t().me.id;return n({parent:a,data:{type:o,name:i,guid:d,user:r,mute:c,pool:s,role:u,updatedUser:r,lastUsedAt:m,lastAction:"edit",createdAt:m,updatedAt:m,isFromSVC:h}}),d}}),Object(v.c)(a.a.CREATE_FILE_SYNCHRONOUSLY,function(o,i,a,s,c){return void 0===i&&(i=b()("无标题")),void 0===a&&(a="0"),void 0===s&&(s=void 0),void 0===c&&(c={}),function(e){var t=e.dispatch,n=e.next,r=c.after;return t(Object(y.post)("files",{body:{type:o,name:i,folder:a,content:s,after:r},schema:m.a})).then(function(e){return n({guid:e,parent:a,options:c}),e})}})),z=(Object(v.c)(a.a.DUPLICATE_FILE,function(s,c){return function(e){var t=e.getState,n=e.next,r=e.dispatch,o=t(),i=o.files,a=o.me;return"-"===(s=h.a.mirrorId(i,s))[0]?Promise.reject(new Error(b()("文件还未同步，请等待文件同步后重试"))):r(Object(y.post)("files/"+s+"/action/duplicate",{schema:m.a})).then(function(e){return n({guid:e,sourceId:s,targetParentId:c,me:a}),h.a.get(t().files,e)})}}),Object(v.c)(a.a.DUPLICATE_FILES,function(s,c){return function(e){var n=e.getState,r=e.next,t=e.dispatch,o=n(),i=o.files,a=o.me;return s=s.map(function(e){return h.a.mirrorId(i,e)}),t(Object(y.post)("files/action/duplicate",{body:{fileGuids:s,folder:"0"===c?"Desktop":c},schema:[m.a]})).then(function(e){var t=e;return r({guids:t,sourceIds:s,targetParentId:c,me:a}),t.reduce(function(e,t){return h.a.get(n().files,t)},{})})}})),V=Object(v.c)(a.a.REMOVE_FILE,function(i,a){return function(e){var t=e.getState,n=e.dispatch,r=e.next,o=t().files;return"-"===(i=h.a.mirrorId(o,i))[0]?(r({guid:i}),Promise.resolve()):n(Object(y.destroy)((a?"spaces":"files")+"/"+i)).then(function(){return r({guid:i})})}}),G=(Object(v.c)(a.a.REMOVE_FILE_SHORTCUT,function(i,a){return function(e){var t=e.getState,n=e.dispatch,r=e.next,o=t().files;return i=i.map(function(e){return h.a.mirrorId(o,e)}),n(Object(y.post)("shortcuts/action/destroy",{body:{from:a,fileGuids:i}})).then(function(){return r({guids:i})})}}),Object(v.c)(a.a.REMOVE_FILES,function(i,a){return function(e){var t=e.getState,n=e.dispatch,r=e.next,o=t().files;return i=i.map(function(e){return h.a.mirrorId(o,e)}),n(Object(y.post)("files/action/destroy",{body:{folder:a,fileGuids:i},background:!0})).then(function(){return r({guids:i})})}})),H=(Object(v.c)(a.a.DELETE_TRASH,function(i,a){return void 0===a&&(a=i),function(e){var t=e.getState,n=e.dispatch,r=e.next,o=t().files;return"-"===(i=h.a.mirrorId(o,i))[0]?(r({guid:i}),Promise.resolve()):n(Object(y.destroy)("trashes/"+a)).then(function(){return r({guid:i})})}}),Object(v.c)(a.a.CANCEL_DELETE,function(i,a){return void 0===a&&(a=i),function(e){var t=e.getState,n=e.dispatch,r=e.next,o=t().files;return"-"===(i=h.a.mirrorId(o,i))[0]?(r({guid:i}),Promise.resolve()):n(Object(y.patch)("trashes/"+a,{body:{isTrashed:!1}})).then(function(){return r({guid:i})})}}),Object(v.c)(a.a.MARK_FILE,function(r){return function(e){var t=e.dispatch,n=e.next;return t(Object(y.destroy)("files/"+r+"/mark")).then(function(){return n({guid:r})})}}),Object(v.c)(a.a.MARK_ALL_SHARED_FILES,function(){return function(e){var t=e.dispatch,n=e.next;return t(Object(y.destroy)("files/marks/batch",{body:{type:"share"}})).then(n)}}),Object(v.c)(a.a.EXIT_FILE,function(s){return function(e){var t=e.getState,n=e.dispatch,r=e.next,o=t(),i=o.files,a=o.me;return"-"===(s=h.a.mirrorId(i,s))[0]?Promise.reject(new Error(b()("文件还未同步，请等待文件同步后重试"))):n(Object(y.destroy)("files/"+s+"/collaborators/"+a.id)).then(function(){return r({guid:s})})}})),W=Object(v.c)(a.a.MOVE_FILES,function(e){var c=e.guids,l=e.target,u=e.from,p=e.after;return function(e){var t=e.getState,n=e.next,r=e.dispatch,o=t().files;if("-"===(l=h.a.mirrorId(o,l))[0])return Promise.reject(new Error(b()("不能移动到未同步的文件夹")));c.forEach(function(e){"-"===h.a.mirrorId(o,e)&&Promise.reject(new Error(b()("不能移动未同步的文件")))});var i=""+u,a=""+l,s={fileGuids:c,to:a="0"===a?"Desktop":l,from:i="0"===i?"Desktop":u};return p&&(s.after=p),r(Object(y.post)("files/action/move",{body:s})).then(function(){n({guids:c,target:l,from:u,after:p})})}}),Y=Object(v.c)(a.a.MOVE_FILE,function(e){var a=e.guid,s=e.target,c=e.before,l=e.after,t=e.force,u=void 0===t||t;return function(e){var t=e.getState,n=e.next,r=e.dispatch,o=t().files;if("-"===(s=h.a.mirrorId(o,s))[0])return Promise.reject(new Error(b()("不能移动到未同步的文件夹")));if("-"===(a=h.a.mirrorId(o,a))[0])return u?n({guid:a,target:s,before:c,after:l}):Promise.reject(new Error(b()("不能移动未同步的文件")));var i={};return"0"!==s&&(i.to=s),c&&!l&&(i.before=c),l&&(i.after=l),r(Object(y.post)("files/"+a+"/action/move",{body:i})).then(function(){n({guid:a,target:s,before:c,after:l})})}}),K=(Object(v.c)(a.a.SORT_FILE,function(s,c,l){return function(e){var t=e.getState,n=e.next,r=e.dispatch,o=t(),i=o.files,a=o.status.online;return"-"===(s=h.a.mirrorId(i,s))[0]?Promise.reject(new Error(b()("不能移动未同步的文件"))):(c=c?h.a.mirrorId(i,c):null)&&"-"===c[0]?Promise.reject(new Error(b()("不能移动到未同步的文件之前"))):(a&&n({guid:s,before:c,parent:l}),r(Object(y.post)("files/"+s+"/action/sort",{body:{before:c,parent:l}})))}}),Object(v.c)(a.a.SEARCH_FILE,function(r,o,i){return void 0===o&&(o=0),void 0===i&&(i=6),function(e){var t=e.dispatch,n={keyword:r,page:o,pageSize:i};return t(Object(y.post)("search/files",{body:n,transformResponseBody:function(e){return e.results.forEach(function(e){e.type=Object(v.b)(e.type)}),e}}))}}),Object(v.c)(a.a.SEARCH_FILE,function(r,o,i,a){return void 0===i&&(i=12),void 0===a&&(a={}),function(e){var t=e.dispatch,n=T()({keyword:r,size:i,params:o},a);return t(Object(y.post)("search_v2/files",{body:n,transformResponseBody:function(e){return e.results.forEach(function(e){e.type=Object(v.b)(e.type)}),e}}))}})),$=Object(v.c)(a.a.SAVE_TEMPLATE,function(r,o,i){return function(e){var t=e.dispatch,n={name:r,originGuid:o,type:i};return t(Object(y.post)("templates",{body:n}))}}),q=Object(v.c)(a.a.GET_FILE_ANCESTORS,function(u,p){return void 0===p&&(p=!1),function(e){var t=e.dispatch,o=e.getState,i=e.next,r=o(),a=[u=h.a.mirrorId(r.files,u)];if(!function e(t){var n=_.a.getParent(r.tree,t);if(n){if(-1<a.indexOf(n))return;a.push(n),"0"!==n&&e(n)}}(u),"0"===a[a.length-1]||"1"===a[a.length-1])return t(Object(E.c)(a.slice(1,-1),[m.a])).then(function(){var e=a.slice(1),t=p?e:[e[0]];return l(o(),t)});var s={isSpace:!1},c=!1;return t(Object(y.get)("files/"+u+"/ancestors",{schema:[m.a],transformResponseBody:function(e){var t=e.ancestors?e.ancestors:e;return c=e.hasUnprivilegedParent||!1,s=t[0]||s,t}})).then(function(e){var t=s.isSpace||c;i({guid:u,ancestors:e,inSpace:t,hasUnprivilegedParent:c});var n=e.reverse().concat(t?"1":"0"),r=p?n:[n[0]];return l(o(),r)});function l(t,e){return e.map(function(e){return"0"===e||"1"===e?e:Object(d.b)(t,e)})}}}),X=(Object(v.c)(a.a.GET_WECHAT_SHARE_LINK,function(r){return function(e){var t=e.dispatch,n=e.getState;return"-"===(r=h.a.mirrorId(n().files,r))[0]?Promise.reject(new Error(b()("文件还未同步，请等待文件同步后重试"))):t(Object(y.post)("files/"+r+"/invite_links")).then(function(e){if(e&&e.wechatInviteLink)return e.wechatInviteLink;throw new Error(b()("创建邀请链接失败（没有 wechatInviteLink 属性）"))})}}),Object(v.c)(a.a.GET_WECHAT_SHARE_QR_LINK,function(r){return function(e){var t=e.dispatch,n=e.getState;return"-"===(r=h.a.mirrorId(n().files,r))[0]?Promise.reject(new Error(b()("文件还未同步，请等待文件同步后重试"))):t(Object(y.post)("files/"+r+"/invite_links")).then(function(e){if(e&&e.wechatQRLink)return e.wechatQRLink;throw new Error(b()("创建邀请链接失败（没有 wechatQRLink 属性）"))})}}),Object(v.c)(a.a.GET_SHORTCUTS,function(){return function(e){var t=e.dispatch,n=e.getState,r=e.next,o=n().shortcuts,i=o?t(Object(E.a)(o)):null,a=t(Object(y.get)("desktop_shortcuts?pageSize=-1",{schema:[m.a],transformResponseBody:function(e){return e.map(function(e){return Object(s.__assign)({},e.file)})}})).then(r);return Object(v.j)({local:i,remote:a})}})),Q=Object(v.c)(a.a.CREATE_SHORTCUT,function(r,o){return function(e){var t=e.dispatch,n=e.next;return t(Object(y.post)("files/"+r+"/desktop_shortcuts",{body:{before:o||void 0}})).then(function(){n({guid:r,before:o})})}}),J=(Object(v.c)(a.a.UPDATE_SHORTCUT,function(r,o){return function(e){var t=e.dispatch,n=e.next;return t(Object(y.patch)("files/"+r+"/desktop_shortcuts/verbose",{body:{before:o||void 0}})).then(function(){n({guid:r,before:o})})}}),Object(v.c)(a.a.REMOVE_SHORTCUT,function(r){return function(e){var t=e.dispatch,n=e.next;return t(Object(y.destroy)("files/"+r+"/desktop_shortcuts/verbose")).then(function(){n({guid:r})})}})),Z=(Object(v.c)(a.a.UPDATE_CURRENT_FOLDER,function(o,i){return function(e){var t=e.dispatch,n=(0,e.getState)().tree,r=_.a.getParent(n,o);return r!==i?t(F(r)):Promise.resolve()}}),Object(v.c)(a.a.BG_SYNC_FILE,function(l,u){return function(e){var n=e.dispatch,t=e.getState,r=e.next;function o(){return h.a.get(t().files,l)}var i=o();if(!i)return Promise.reject(new Error("File not found "+l));if(u.has("isNew")){var a=_.a.getParent(t().tree,l),s={folder:a,name:i.name,type:i.type};return n(Object(y.post)("files",{body:s,background:!0,timeout:1e4})).then(function(e){if(o()){var t=e.guid;return n(Object(E.c)({file:e.guid},{file:m.a})).then(function(){r({guid:l,mirrorTo:t,resolved:u.subtract(["starred"]).toJS()})})}}).catch(function(e){if(e.offline)throw e;if("0"===a)throw e;return n(Y({guid:i.guid,target:"0",force:!0}))})}if(u.has("starred")){var c=i.starred?y.put:y.destroy;return n(c("files/"+l+"/star",{background:!0,timeout:1e4})).then(function(){var e=o();e&&e.starred===i.starred&&r({guid:l,resolved:["starred"]})}).catch(function(e){if(e.offline)throw e;r({guid:l,resolved:["starred"]})})}return u.has("name")?n(Object(y.patch)("files/"+l,{body:{name:i.name},background:!0,timeout:1e4})).then(function(){var e=o();e&&e.name===i.name&&r({guid:l,resolved:["name"]})}).catch(function(e){if(e.offline)throw e;r({guid:l,resolved:["name"]})}):u.has("duplicateAction")?Promise.resolve(r({guid:l,resolved:["duplicateAction","user","updatedUser"]})):Promise.reject(new Error("Unhandled property(ies) in "+u.toJS()+", ask @lvquan for further information!"))}}),Object(v.c)(a.a.PUSH_DESTROY_FILE,function(e){return{guid:e}}),Object(v.c)(a.a.PUSH_CREATE_FILE,function(e,t,n,r){return{guid:e,parent:t,role:n,byAddCollaborator:r}}),Object(v.c)(a.a.PUSH_CHECK_FILE_MOVED,function(e,t){return{guid:e,parent:t}}),Object(v.c)(a.a.PUSH_SORT_FILE,function(e,t){return{guid:e,before:t}}),Object(v.c)(a.a.PUSH_STAR_FILE,function(e){return{guid:e}}),Object(v.c)(a.a.PUSH_UNSTAR_FILE,function(e){return{guid:e}}),Object(v.c)(a.a.PUSH_MARK_FILE,function(e){return{guid:e}}),Object(v.c)(a.a.PUSH_MARK_ALL_FILES_WITH_IDS,function(e){return{ids:e}}),Object(v.c)(a.a.PUSH_UPDATE_COLLABORATOR_COUNT,function(e){var l=e.type,u=e.fileGuid,p=e.collaboratorCount,d=e.collaborators;return function(e){var t=e.dispatch,n=e.next,r=e.getState;if(d&&!(d.length<=0)&&r().me.id!==d[0].id){var o=Object(f.wormalize)(d[0],m.c),i=o.result,a=o.entities,s=i,c=function(){t(Object(E.c)(s,m.c,a)).then(function(){return t(Object(E.b)(a))}).then(function(){n({type:l,guid:u,collaboratorCount:p,userId:s,owner:!1,permission:"editable",role:d[0].role||"editor"})})};r().collaborators.getIn(["data",u])?c():t(O(u)).then(function(){c()})}}}),Object(v.c)(a.a.VERIF_PASSWORD,function(r,o){return Object(l.a)(function(e){var t=e.dispatch,n=e.next;return t(Object(y.get)("files/"+r+"/action/verify_password?password="+o)).then(function(e){return n({guid:r,result:e}),e})},"sos:verifyPassword")}),Object(v.c)(a.a.VALIDATE_PASSWORD,function(t){return function(e){return(0,e.dispatch)(Object(y.get)("files/"+t+"/needPassword"))}}),Object(v.c)(a.a.IS_INCLUDE_LINK_FILE,function(t){return function(e){return(0,e.dispatch)(Object(y.get)("files/"+t+"/shortcuts")).then(function(e){return!!e.length})}}),Object(v.c)(a.a.DO_EXPORT_FILE,function(i,a,s,e,c){return void 0===e&&(e=!1),function(e){var t=e.dispatch,n=1,r=encodeURIComponent(s.replace("#","_")),o="xlsx"===i;return t(Object(y.get)("files/"+a+"/export?type="+i+"&file="+a+"&returnJson="+n+"&name="+r+(o?"&isAsync=1":""),{timeout:12e4,allocateResponse:c}))}}),Object(v.c)(a.a.LOCK_FILE,function(r){return function(e){var t=e.dispatch,n=e.next;return t(Object(y.put)("files/"+r+"/lock")).then(function(){n({guid:r})})}})),ee=Object(v.c)(a.a.UNLOCK_FILE,function(r){return function(e){var t=e.dispatch,n=e.next;return t(Object(y.destroy)("files/"+r+"/lock")).then(function(){n({guid:r})})}}),te=(Object(v.c)(a.a.GET_WATERMARK,function(r){return function(e){var t=e.dispatch,n=e.next;return t(Object(y.get)("files/"+r+"/watermark")).then(function(e){var t=e.status;n({guid:r,status:t})})}}),Object(v.c)(a.a.GET_FILE_CREATOR,function(r){return function(e){var t=e.dispatch,n=e.next;return t(Object(y.get)("files/"+r+"/creator")).then(function(e){return n({creator:e,guid:r})})}}))},,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"e",function(){return l}),n.d(t,"f",function(){return u}),n.d(t,"h",function(){return p}),n.d(t,"c",function(){return d}),n.d(t,"g",function(){return f}),n.d(t,"a",function(){return m}),n.d(t,"b",function(){return h}),n.d(t,"d",function(){return b});var r=n(16),o=(n(23),n(49)),i=n.n(o),a=(n(490),n(491),n(59)),s=n(114),c=n(46);function l(e){return e.files}function u(e){return e.shortcuts||Object(r.List)()}function p(e){return e.used&&e.used.get("list")||Object(r.List)()}function d(e,t,n){return void 0===n&&(n=Object(r.List)()),null==t?n:s.a.getChildren(e.tree,t)||n}function f(e){return s.a.getChildren(e.tree,"1")||Object(r.List)()}function m(e){return s.a.getChildren(e.tree,"0")||Object(r.List)()}function h(e,t,n){return b(l(e),t,n)}function b(e,t,n){if(!t)return null;var r=c.a.get(e,t);if(!r&&n){var o=t.toLowerCase();(t=e.get("data").findKey(function(e,t){return t.toLowerCase()===o&&!!e}))&&(r=c.a.get(e,t))}return r}Object(a.createSelector)(l,function(e){return e.recent||Object(r.List)()},function(t,e){return e.map(function(e){return e?c.a.get(t,e):null}).filter(i.a)}),Object(a.createSelector)(l,p,function(t,e){return e.map(function(e){return e?c.a.get(t,e):null}).filter(i.a)}),Object(a.createSelector)(l,function(e){return e.deleted||Object(r.List)()},function(t,e){return e.map(function(e){return e?c.a.get(t,e):null}).filter(i.a)}),Object(a.createSelector)(l,function(e){return e.starred||Object(r.List)()},function(t,e){return e.map(function(e){return e?c.a.get(t,e):null}).filter(i.a)})},function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return c});var i=n(2),r=n(1),a=n.n(r),u=n(18),p=n(46),d=n(114),f=n(6),m=n(8),h=n(22),o=n(7),s=(Object(f.c)(o.a.DEMO_FILE,function(e){return{guid:e}}),Object(f.c)(o.a.GET_SPACES,function(l){return void 0===l&&(l="1"),function(e){var t=e.dispatch,n=e.getState,r=e.next,o=n(),i=o.files,a=o.tree;l=p.a.mirrorId(i,l);var s=d.a.getChildren(a,l),c=s&&t(Object(h.c)(s.toJS(),[u.a]));return Object(f.j)({local:c,remote:t(Object(m.get)("spaces",{schema:[u.a],transformResponseBody:b})).then(function(e){return r({parent:l,children:e})})})}}));Object(f.c)(o.a.GET_SPACE_TEAM,function(r){return function(e){var t=e.dispatch,n=e.next;return t(Object(m.get)("spaces/"+r)).then(function(e){n(Object(i.__assign)({guid:r},e))})}});function b(e){return(e&&e.nodes||[]).map(function(e){return Object(i.__assign)(Object(i.__assign)({},e),{isSpace:!0})})}Object(f.c)(o.a.CREATE_SPACE,function(r){return function(e){var t=e.dispatch,n=e.next;return t(Object(m.post)("spaces",{body:r})).then(function(e){return n(Object(i.__assign)(Object(i.__assign)({},e),{isSpace:!0})),Object(i.__assign)(Object(i.__assign)({},e),{isSpace:!0})})}}),Object(f.c)(o.a.UPDATE_SPACE,function(e){var r=e.guid,o=Object(i.__rest)(e,["guid"]);return function(e){var t=e.dispatch,n=e.next;return t(Object(m.patch)("spaces/"+r,{body:o})).then(function(e){return n(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({guid:r},o),e),{isSpace:!0})),r})}}),Object(f.c)(o.a.COVERT_TO_SPACE,function(t){return function(e){return(0,e.dispatch)(Object(m.post)("files/"+t+"/convert")).then(function(e){})}});var c=Object(f.c)(o.a.SPACE.GET_SIZE,function(){return function(e){var t=e.dispatch,n=e.next;return t(Object(m.get)("spaces/size")).then(n)}});Object(f.c)(o.a.SPACE.SORT,function(e){var o=e.guid,i=e.beforeGuid;return function(e){var t=e.dispatch,n=e.next,r=(0,e.getState)();return"-"===(o=p.a.mirrorId(r.files,o))[0]?Promise.reject(new Error(a()("不能移动未同步的文件"))):(i=i?p.a.mirrorId(r.files,i):null)&&"-"===i[0]?Promise.reject(new Error(a()("不能移动到未同步的文件之前"))):t(Object(m.post)("spaces/"+o+"/action/sort",{body:{beforeGuid:i}})).then(function(){n({guid:o,beforeGuid:i})})}})},function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a});var r=n(7),s=n(6),d=n(8),c=n(22),o=Object(s.c)(r.a.GET_TEMPLATES,function(){return function(e){var t=e.getState,n=e.dispatch,r=e.next,o=t().templates,i="object"==typeof o?n(Object(c.a)(o)):void 0,a=n(Object(d.get)("files/action/all_templates")).then(function(e){return r(e)});return Object(s.j)({local:i,remote:a})}}),i=Object(s.c)(r.a.CREATE_FILE_BY_TEMPLATE,function(s,c,l,u,p){return void 0===p&&(p={}),function(e){var t=e.getState,n=e.dispatch,r=e.next,o=Date.now(),i=t().collaborators.get("data").get(c),a=i?i.size:1;return l="doc"===l?"newdoc":l,n(Object(d.post)("files/action/create_by_template",{body:{templateGuid:s,parentGuid:c,after:p.after}})).then(function(e){return r({parent:c,data:{type:l,name:u,guid:e.guid,user:t().me.id,mute:!1,pool:"",role:"owner",updatedUser:t().me.id,lastUsedAt:o,lastAction:"edit",createdAt:o,updatedAt:o,collaboratorCount:a,options:p}}),{guid:e.guid}})}}),a=Object(s.c)(r.a.GET_TEMPLATE_LIMITS,function(){return function(e){var t=e.dispatch,n=e.next;return t(Object(d.get)("templates/valid")).then(n)}})},function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return a});var r=n(114),o=n(46);function i(e,t){return r.a.getParent(e.tree,t)}function a(e,t){for(var n=[];t;)(t=r.a.getParent(e.tree,t))&&("0"===t||"1"===t||!o.a.get(e.files,t)||-1<n.indexOf(t))&&(t=null),t&&n.push(t);return n}},function(e,t,n){"use strict";n.d(t,"b",function(){return x}),n.d(t,"d",function(){return T}),n.d(t,"f",function(){return C}),n.d(t,"e",function(){return w}),n.d(t,"c",function(){return S}),n.d(t,"a",function(){return j});var o,p=n(2),r=n(1),c=n.n(r),i=n(31),l=n.n(i),a=n(23),u=n.n(a),s=n(515),d=n.n(s),f=n(516),m=n.n(f),g=n(18),h=n(543),b=n(6),_=n(230),v=n(8),y=n(22),E=n(7),O=Object(b.c)(E.a.LOGOUT,function(){return function(e){var t=e.getState,n=e.storage,r=e.next;return o||(t().me.token?(r(void 0),_.a.clear(),o=n.getAllKeys().then(function(e){return n.mremove(e.filter(function(e){return d()(e,"sos:")}))}).then(function(){o=null}).catch(function(){o=null})):Promise.resolve())}}),x=(Object(b.c)(E.a.REMOVE_CURRENT_USER),Object(b.c)(E.a.REGISTER,function(e,n){var r=e.email,o=e.password,i=e.name,a=e.mobile,s=e.mobileVerifyCode,c=e.withTeam,l=e.teamName,u=e.teamType,p=e.teamScale,d=e.province,f=e.city,m=e.avatar,h=e.referer,b=e.inviter;return function(e){var t=e.dispatch;return c?t(O()).then(function(){return t(Object(v.post)("users",{body:{email:r,password:o,name:i,mobile:a,mobileVerifyCode:s,withTeam:!0,teamName:l,teamType:u,teamScale:p,province:d,city:f,inviter:b,avatar:m,referer:h},schema:g.c,geetestHeaders:n}))}):t(O()).then(function(){return t(Object(v.post)("users",{body:{email:r,password:o,name:i,mobile:a,mobileVerifyCode:s,avatar:m,referer:h,inviter:b},schema:g.c,geetestHeaders:n}))})}}),Object(b.c)(E.a.GENERIC_LOGIN,function(i,a,s){return function(e){var n=e.dispatch,r=e.next,t=e.api,o=l()({scope:"write",client_id:t.id,client_secret:t.secret,grant_type:i},a);return n(O()).then(function(){return n(Object(v.post)("oauth/token",{body:o,geetestHeaders:s}))}).then(function(e){var t=e.access_token;return n(Object(v.get)("users/me",{token:t,schema:g.c})).then(function(e){r({token:t,id:e})})})}}),Object(b.c)(E.a.LOGIN_WITH_CORS_SESSION,function(){return function(e){var t=e.dispatch,n=e.next;return t(O()).then(function(){return t(Object(v.get)("users/me",{schema:g.c}))}).then(function(e){return n({id:e})})}}),Object(b.c)(E.a.SET_CURRENT_USER),Object(b.c)(E.a.GET_USER,function(n){return function(e){var t=e.dispatch;return Object(b.j)({local:t(Object(y.c)(n,g.c)),remote:t(Object(v.get)("users/"+n,{schema:g.c}))})}}),Object(b.c)(E.a.GET_USER_BY_EMAIL,function(r){return function(e){var t=e.dispatch,n=e.next;return t(Object(v.get)("users/email?email="+encodeURIComponent(r),{schema:g.c})).then(function(e){return n(e),e})}}),Object(b.c)(E.a.GET_USER_BY_MOBILE,function(r){return function(e){var t=e.dispatch,n=e.next;return t(Object(v.get)("users/mobile?mobile="+encodeURIComponent(r),{schema:g.c})).then(function(e){return n(e),e})}}),Object(b.c)(E.a.GET_WECHAT_BINDING_STATUS,function(){return function(e){var t=e.dispatch,n=e.next,r=(0,e.getState)().me.id;return t(Object(v.get)("users/me/wechat")).then(function(e){var t=e.bound;n({id:r,bound:t})})}}),Object(b.c)(E.a.BIND_WECHAT,function(i){return function(e){var t=e.dispatch,n=e.getState,r=e.next,o=n().me.id;return t(Object(v.post)("wechat/action/bind",{body:{code:i,type:"app"}})).then(function(e){var t=e.success,n=e.msg;if(!t)return Promise.reject(new Error(n));r({id:o})})}}),Object(b.c)(E.a.UNBIND_WECHAT,function(){return function(e){var t=e.dispatch,n=e.getState,r=e.next,o=n().me.id;return t(Object(v.post)("wechat/action/unbind")).then(function(){return r({id:o})})}}),Object(b.c)(E.a.UPDATE_EMAIL,function(i,e){var a=e.currentPassword,s=e.password,c=e.premium;return function(e){var t=e.dispatch,n=e.getState,r=e.next,o=n().me.id;return t(Object(v.patch)("users/me",{body:{email:i,currentPassword:a,password:s,premium:c}})).then(function(e){var t=e.email;return r({id:o,email:t,premium:c})})}}),Object(b.c)(E.a.BIND_ACCOUNT_EMAIL,function(e){var i=e.email,a=e.code,s=e.premium;return function(e){var t=e.dispatch,n=e.getState,r=e.next,o=n().me.id;return t(Object(v.post)("users/"+o+"/action/bind_email",{body:{email:i,code:a,premium:s}})).then(function(){return r({id:o,email:i,premium:s})})}}),Object(b.c)(E.a.CHECK_REGISTRATION_BY_EMAIL,function(t){return function(e){return(0,e.dispatch)(Object(v.get)("users/email?email="+encodeURIComponent(t))).then(function(){return!0}).catch(function(e){if(404===e.status)return!1;throw e})}}),Object(b.c)(E.a.CHECK_REGISTRATION_BY_MOBILE,function(t){return function(e){return(0,e.dispatch)(Object(v.get)("users/mobile?mobile="+encodeURIComponent(t))).then(function(){return!0}).catch(function(e){if(404===e.status)return!1;throw e})}}),Object(b.c)(E.a.UPDATE_USERNAME,function(o){return function(e){var t=e.dispatch,n=e.next,r=(0,e.getState)().me.id;return t(Object(v.patch)("users/me",{body:{name:o}})).then(function(){n({id:r,name:o})})}}),Object(b.c)(E.a.GET_RECENT_CONTACTS,function(){return function(e){var t=e.dispatch,n=e.next,r=e.getState,o=r().recentContacts,i=Object(h.a)(r())&&Object(h.a)(r()).id,a=o?t(Object(y.c)(o.toJS(),[g.c])):Promise.reject(new Error(c()("尚未同步过最近联系人"))),s=t(Object(v.post)("search?type=recent_contact&pageSize=-1"+(i?"&teamId="+i:""),{body:{keyword:"*"},schema:[g.c],transformResponseBody:function(e){return u()(e,"recent_contact.results",[]).map(function(e){return l()({isVerified:0<e.status},e)})}})).then(function(e){return n(e)});return Object(b.j)({local:a,remote:s})}}),Object(b.c)(E.a.DELETE_RECENT_CONTACT,function(r){return function(e){var t=e.dispatch,n=e.next;return t(Object(v.destroy)("users/me/recent_contacts/"+r)).then(function(){return n({userId:r})})}}),Object(b.c)(E.a.GET_ADD_USER_INVITATION_LINK,function(){return function(e){return(0,e.dispatch)(Object(v.get)("teams/mine/invite_state")).then(function(e){return e.inviteGuid})}})),T=(Object(b.c)(E.a.CLOSE_INVITATION_LINK,function(){return function(e){return(0,e.dispatch)(Object(v.destroy)("teams/mine/invite_state"))}}),Object(b.c)(E.a.OPEN_INVITATION_LINK,function(){return function(e){return(0,e.dispatch)(Object(v.post)("teams/mine/invite_state",{}))}}),Object(b.c)(E.a.GET_TEAM_FROM_INVITATION_LINK,function(e){var t=e.inviteGuid;return function(e){return(0,e.dispatch)(Object(v.get)("teams/invite?inviteGuid="+t)).then(function(e){return e})}}),Object(b.c)(E.a.INVITE_TEAM_MEMBERS,function(t){return function(e){return(0,e.dispatch)(Object(v.post)("departments/action/add_users_to_department_by_account",{body:{accounts:t,departmentID:1}}))}})),C=(Object(b.c)(E.a.RESET_PASSWORD,function(e){var t=e.email;return function(e){return(0,e.dispatch)(Object(v.post)("users/action/reset_password",{body:{email:t}}))}}),Object(b.c)(E.a.RESET_PASSWORD_BY_CODE,function(e){var t=e.mobile,n=e.email,r=e.verifyCode,o=e.password;return function(e){return(0,e.dispatch)(Object(v.post)("users/action/reset_password_by_code",{body:{mobile:t,email:n,verifyCode:r,password:o}}))}}),Object(b.c)(E.a.UPDATE_PASSWORD,function(i,a){return function(e){var t=e.dispatch,n=e.getState,r=e.next,o=n().me.id;return t(Object(v.patch)("users/me",{body:{currentPassword:i,password:a}})).then(r({id:o}))}})),w=(Object(b.c)(E.a.UPDATE_AVATAR,function(a,s){return function(e){var t,r=e.dispatch,o=e.getState,i=e.next;if("function"==typeof File&&a instanceof File)t=a.type.split("/").pop()||"jpg";else{if("string"!=typeof a)throw new Error("avatarURI is not valid");if(t=(a.split(".").pop(),"jpg").toLowerCase(),!s)switch(t){case"gif":s="image/gif";break;case"jpg":case"jpeg":s="image/jpeg";break;case"png":s="image/png";break;default:s=void 0}}return r(Object(v.post)("action/create_upload_forms?type=avatar",{body:[t]})).then(function(e){var t=Object(p.__read)(e,1)[0],n=new FormData;return"function"==typeof File&&a instanceof File?n.append("file",a):n.append("file",{uri:a,type:s}),Object.keys(t).forEach(function(e){n.append(e,t[e])}),fetch("https://up.qbox.me",{body:n,method:"POST"}).then(function(e){return e.json()}).then(function(e){var t=e.data.images,n=o().me.id;return r(Object(v.patch)("users/me",{body:{avatar:t}})).then(function(){i({id:n,avatar:t})})})})}}),Object(b.c)(E.a.SEARCH_RECENT_CONTACTS_AND_TEAM_MEMBERS,function(s,t,c,n,r){return function(e){return(0,e.dispatch)(Object(v.post)("search?type=recent_contact,team_member,department&page=0&pageSize=100",{body:{keyword:t,teamId:c,guid:n,fileId:r}})).then(function(e){var t=e.recent_contact.results,n=e.team_member.results,r=e.department.results.map(function(e){e.type=2;var t=e.permission;return t&&(e.role=t.role,e.permission=t.permission),e}),o=n.map(function(e){e.team=c;var t=e.permission;return t&&(e.permission=t.permission),e}),i=t.map(function(e){var t=e.permission;return t&&(e.permission=t.permission),e}),a=r.concat(m()(i,o,"id"));return{id:s,data:a}})}}),Object(b.c)(E.a.SEND_MOBILE_CAPTCHA,function(e,o,i,a){var s=e.mobile,c=e.type,t=e.countryCode,l=void 0===t?"+86":t;return function(e){var t=e.dispatch,n="voice"===c?{mobile:l+s,type:c}:{mobile:l+s},r="action/send_verification_code";return a&&(r+="_"+a),t(Object(v.post)(r,{body:Object(p.__assign)(Object(p.__assign)({},n),{scenes:i}),geetestHeaders:o}))}})),S=(Object(b.c)(E.a.SEND_MOBILE_CAPTCHA,function(e,o){var i=e.mobile,a=e.type,t=e.countryCode,s=void 0===t?"+86":t;return function(e){var t=e.dispatch,n="voice"===a?{mobile:s+i,type:a}:{mobile:s+i},r=Object(v.encodeFormData)(Object(p.__assign)(Object(p.__assign)({},n),o));return t(Object(v.post)("auth/code/send_verification_code",{body:r}))}}),Object(b.c)(E.a.SEND_EMAIL_CAPTCHA,function(e,t){var n=e.email,r=e.scenes;return function(e){return(0,e.dispatch)(Object(v.post)("action/send_email_code",{body:{email:n,scenes:r},geetestHeaders:t}))}}),Object(b.c)(E.a.GET_GEETEST_CAPTCHA,function(t){return void 0===t&&(t="web"),function(e){return(0,e.dispatch)(Object(v.post)("captchas",{body:{type:t}}))}})),j=(Object(b.c)(E.a.GET_GEETEST_CAPTCHA,function(t){return void 0===t&&(t="web_login"),function(e){return(0,e.dispatch)(Object(v.get)("auth/geetest/captcha?scene="+t))}}),Object(b.c)(E.a.VERIFY_CAPTCHA,function(e){var t=e.mobile,n=e.email,r=e.code,o=e.scenes;return function(e){return(0,e.dispatch)(Object(v.post)("action/verify_verification_code",{body:{mobile:t,email:n,code:r,scenes:o}}))}}),Object(b.c)(E.a.VERIFY_ACCOUNT_PASSWORD,function(e){var r=e.password;return function(e){var t=e.dispatch,n=(0,e.getState)().me.id;return t(Object(v.post)("users/"+n+"/action/verify_password",{body:{password:r}}))}}),Object(b.c)(E.a.BIND_MOBILE_NUMBER,function(e){var i=e.mobile,a=e.captcha,t=e.countryCode,s=void 0===t?"+86":t;return function(e){var t=e.dispatch,n=e.next,r=(0,e.getState)().me.id,o={mobile:s+i,mobileVerifyCode:a};return t(Object(v.patch)("users/me",{body:Object(p.__assign)({},o)})).then(n({id:r,mobile:i}))}}),Object(b.c)(E.a.BIND_MOBILE_ACCOUNT,function(e){var i=e.mobile,a=e.captcha,t=e.countryCode,s=void 0===t?"+86":t,n=e.filing,c=void 0!==n&&n,l=e.password,u=e.premium;return function(e){var t=e.dispatch,n=e.next,r=(0,e.getState)().me.id,o={mobile:s+i,mobileVerifyCode:a,filing:c,password:l,premium:u};return t(Object(v.post)("users/"+r+"/action/bind_mobile",{body:Object(p.__assign)({},o)})).then(function(e){var t=e.isMobileAccount;return n({id:r,mobile:i,countryCode:s,isMobileAccount:t,premium:u})})}}));Object(b.c)(E.a.UPDATE_MOBILE,function(e){var o=e.mobile,i=e.password,a=e.lastCode,s=e.code,c=e.authToken,t=e.countryCode,l=void 0===t?"+86":t;return function(e){var t=e.dispatch,n=e.next,r=(0,e.getState)().me.id;return t(Object(v.post)("users/"+r+"/action/change_mobile",{body:{mobile:l+o,password:i,lastCode:a,authToken:c,code:s}})).then(function(){return n({id:r,mobile:o,countryCode:l})})}}),Object(b.c)(E.a.SET_MERGE_VIEWED,function(){return function(e){return(0,e.dispatch)(Object(v.patch)("users/me",{body:{viewedMergePrompt:!0}}))}}),Object(b.c)(E.a.MERGE_ACCOUNT,function(e){var t=e.email,n=e.password;return function(e){return(0,e.dispatch)(Object(v.post)("users/me/action/merge_account",{body:{email:t,password:n}}))}}),Object(b.c)(E.a.GET_BINDING_INFO_BY_CODE,function(t){return function(e){return(0,e.dispatch)(Object(v.get)("wechat/action/binding_info?code="+t))}}),Object(b.c)(E.a.GET_BINDING_INFO_BY_EMAIL,function(t){return function(e){return(0,e.dispatch)(Object(v.get)("wechat/action/binding_info?email="+t))}}),Object(b.c)(E.a.GET_BINDING_INFO_BY_MOBILE,function(t){return function(e){return(0,e.dispatch)(Object(v.get)("wechat/action/binding_info?mobile="+encodeURIComponent(t)))}}),Object(b.c)(E.a.SET_ANONYMOUS_USER,function(t){return function(e){(0,e.next)({id:t})}}),Object(b.c)(E.a.GET_ACTIVITIES_LIST,function(){return function(e){var t=e.dispatch,n=e.next,r=(0,e.getState)().me.id;return t(Object(v.get)("activities")).then(function(e){if(Array.isArray(e)){var t=e.map(function(e){return e.actTypes});n({id:r,activitiesList:t})}})}})}]]);
//# sourceMappingURL=shimo.c0c4a6c0.js.map