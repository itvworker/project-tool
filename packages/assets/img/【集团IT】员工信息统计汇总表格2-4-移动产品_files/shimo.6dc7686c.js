(window.webpackJsonplizard_service_sheet=window.webpackJsonplizard_service_sheet||[]).push([[7],[function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(166),i=Object(r.initActionTypes)({LOGOUT:"",REMOVE_CURRENT_USER:"",REGISTER:"",GENERIC_LOGIN:"",LOGIN_WITH_CORS_SESSION:"",SET_CURRENT_USER:"",GET_USER:"",GET_USER_BY_EMAIL:"",GET_USER_BY_MOBILE:"",GET_WECHAT_BINDING_STATUS:"",BIND_WECHAT:"",UNBIND_WECHAT:"",UPDATE_EMAIL:"",BIND_ACCOUNT_EMAIL:"",CHECK_REGISTRATION_BY_EMAIL:"",CHECK_REGISTRATION_BY_MOBILE:"",UPDATE_USERNAME:"",GET_RECENT_CONTACTS:"",DELETE_RECENT_CONTACT:"",GET_ADD_USER_INVITATION_LINK:"",CLOSE_INVITATION_LINK:"",OPEN_INVITATION_LINK:"",GET_TEAM_FROM_INVITATION_LINK:"",INVITE_TEAM_MEMBERS:"",RESET_PASSWORD:"",RESET_PASSWORD_BY_CODE:"",UPDATE_PASSWORD:"",UPDATE_AVATAR:"",SEARCH_RECENT_CONTACTS_AND_TEAM_MEMBERS:"",SEND_MOBILE_CAPTCHA:"",SEND_EMAIL_CAPTCHA:"",GET_GEETEST_CAPTCHA:"",VERIFY_CAPTCHA:"",VERIFY_ACCOUNT_PASSWORD:"",BIND_MOBILE_NUMBER:"",BIND_MOBILE_ACCOUNT:"",UPDATE_MOBILE:"",SET_MERGE_VIEWED:"",MERGE_ACCOUNT:"",GET_BINDING_INFO_BY_CODE:"",GET_BINDING_INFO_BY_EMAIL:"",GET_BINDING_INFO_BY_MOBILE:"",SET_ANONYMOUS_USER:"",GET_TEAM_SETTINGS_BY_URL:"",GET_ACTIVITIES_LIST:"",STAR_FILE:"",UNSTAR_FILE:"",MUTE_FILE:"",UNMUTE_FILE:"",UPDATE_FILE_NAME:"",UPDATE_FILE_SHARE_MODE:"",SET_FILE_PASSWORD_PROTECTED:"",SET_FILE_PASSWORD_UNPROTECTED:"",UPDATE_FILE_SHARE_PASSWORD:"",GET_STARRED_FILES:"",GET_DELETED_FILES:"",GET_RECENT_FILES:"",GET_USED_FILES:"",GET_UPDATED_FILES:"",GET_CREATED_FILES:"",GET_SHARED_FILES:"",GET_UNREAD_SHARED_FILES:"",GET_FILE_CHILDREN:"",GET_FILE:"",GET_FILES_GUIDE:"",CREATE_FILE:"",CREATE_FILE_SYNCHRONOUSLY:"",DUPLICATE_FILE:"",DUPLICATE_FILES:"",REMOVE_FILE:"",REMOVE_FILES:"",DELETE_TRASH:"",CANCEL_DELETE:"",MARK_FILE:"",MARK_ALL_SHARED_FILES:"",EXIT_FILE:"",MOVE_FILES:"",MOVE_FILE:"",SORT_FILE:"",SEARCH_FILE:"",SAVE_TEMPLATE:"",GET_TEMPLATE_LIMITS:"",GET_FILE_ANCESTORS:"",GET_WECHAT_SHARE_LINK:"",GET_WECHAT_SHARE_QR_LINK:"",GET_SHORTCUTS:"",CREATE_SHORTCUT:"",UPDATE_SHORTCUT:"",REMOVE_SHORTCUT:"",UPDATE_CURRENT_FOLDER:"",BG_SYNC_FILE:"",PUSH_DESTROY_FILE:"",PUSH_CREATE_FILE:"",PUSH_CHECK_FILE_MOVED:"",PUSH_SORT_FILE:"",PUSH_STAR_FILE:"",PUSH_UNSTAR_FILE:"",PUSH_MARK_FILE:"",PUSH_MARK_ALL_FILES_WITH_IDS:"",PUSH_UPDATE_COLLABORATOR_COUNT:"",VERIF_PASSWORD:"",VALIDATE_PASSWORD:"",IS_INCLUDE_LINK_FILE:"",DO_EXPORT_FILE:"",GET_CONTENT:"",SET_CONTENT:"",REMOVE_CONTENT:"",LOCK_CONTENT:"",UNLOCK_CONTENT:"",BG_SYNC_CONTENT:"",PULL_FILE_CONTENTS:"",GET_PENDING_CHANGES:"",BULK_RESTORE:"",RESTORE_DIFF:"",RECOVER_STATE_BY_REMOVING_DIFF:"",RECOVER_STATE_BY_MARKING_MODEL:"",RESTORE_SCHEMA:"",PERSIST:"",MERGE_ENTITIES:"",LOCAL_SYNC:"",API_REQUEST:"",SET_UNPEEKED_COUNT:"",GET_UNPEAKED_NOTIFICATION_COUNT:"",GET_UNREAD_NOTIFICATION_COUNT:"",GET_NOTIFICATIONS:"",MARK_NOTIFICATIONS_READ:"",MARK_NOTIFICATIONS_ALL_READ:"",GET_COLLABORATORS:"",ADD_COLLABORATOR:"",REMOVE_COLLABORATOR:"",UPDATE_COLLABORATOR_ROLE:"",TRANSFER_OWNER_ROLE:"",ADD_COLLABORATORS:"",GET_SPACE_COLLABORATORS:"",GET_EXTRA_CHILDREN_COLLABORATORS:"",ADD_SPACE_COLLABORATORS:"",REMOVE_SPACE_COLLABORATOR:"",ACCEPT_TEAM_INVITATION:"",JOIN_TEAM_BY_INVITE_GUID:"",GET_TEAM_MEMBERS:"",ADD_TEAM_MEMBERS:"",SEARCH_TEAM_MEMBERS:"",GET_MY_TEAM:"",GET_MY_TEAM_ORDERS:"",SET_ANONYMOUS_TEAM:"",MARK_DATA_LOADED:"",INCREASE_PENDING_REQUESTS:"",DECREASE_PENDING_REQUESTS:"",SET_ONLINE_STATUS:"",SET_PHYSICAL_ONLINE_STATUS:"",PARTIALLY_SYNCHRONIZATION:"",FULL_SYNCHRONIZATION:"",GET_WECHAT_BINDING_QRCODE:"",GET_WECHAT_BINDING_URL:"",GET_WECHAT_INVITE_INFO:"",WIN_PERSONAL_PREMIUM_VERSION:"",WECHAT_REWARDED:"",WECHAT_REWARD_BY_INVITOR:"",WECHAT_NO_REWARD:"",GET_WECHAT_SCAN_INFO:"",GET_USER_GUIDE_INFO:"",UPDATE_USER_GUIDE_INFO:"",GET_FLASH_MESSAGES:"",SET_FLASH_MESSAGE_READ:"",GET_BLUE_TIP:"",CLOSE_BLUE_TIP:"",GET_BULLETIN:"",CLOSE_BULLETIN:"",UPDATE_MAINTENANCE:"",GET_ALPHA_FEATURES:"",GET_ALPHA_FEATURES_BY_URL:"",GET_SUBSCRIPTIONS:"",SWITCH_SUBSCRIPTIONS:"",START_RECEIVE_DISCUSSIONS:"",STOP_RECEIVE_DISCUSSIONS:"",GET_DISCUSSIONS:"",SEND_DISCUSSION:"",MARK_VIEWED_DISCUSSIONS:"",PUSH_CREATE_DISCUSSION:"",PUSH_DELETE_DISCUSSION:"",GET_TEMPLATES:"",CREATE_FILE_BY_TEMPLATE:"",GET_SETTINGS:"",SET_SETTINGS:"",PRELOAD:"",DEMO_FILE:"",GET_SPACES:"",GET_SPACE_TEAM:"",CREATE_SPACE:"",UPDATE_SPACE:"",COVERT_TO_SPACE:"",GET_SUB_DEPT:"",GET_COLLABDEPTS:"",ADD_COLLABDEPTS:"",REMOVE_COLLABDEPT:"",UPDATE_COLLABDEPT_ROLE:"",SPACE:{GET_SIZE:"",SORT:""},LOCK_FILE:"",UNLOCK_FILE:"",GET_WATERMARK:"",UPDATE_TEAM_INFO:"",CREATE_TEAM:"",GET_FILE_CREATOR:"",REMOVE_FILE_SHORTCUT:"",GET_SCRIPTS:"",EXECUTE_SCRIPTS:""},"$SOS","_")},function(e,t,n){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},s=this&&this.__awaiter||function(a,o,s,c){return new(s=s||Promise)(function(e,t){function n(e){try{i(c.next(e))}catch(e){t(e)}}function r(e){try{i(c.throw(e))}catch(e){t(e)}}function i(t){t.done?e(t.value):new s(function(e){e(t.value)}).then(n,r)}i((c=c.apply(a,o||[])).next())})},c=this&&this.__generator||function(n,r){var i,a,o,e,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,a&&(o=2&t[0]?a.return:t[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,t[1])).done)return o;switch(a=0,o&&(t=[2&t[0],o.value]),t[0]){case 0:case 1:o=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,a=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(o=0<(o=s.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){s.label=t[1];break}if(6===t[0]&&s.label<o[1]){s.label=o[1],o=t;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(t);break}o[2]&&s.ops.pop(),s.trys.pop();continue}t=r.call(n,s)}catch(e){t=[6,e],a=0}finally{i=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},u=this;Object.defineProperty(t,"__esModule",{value:!0});function _(e){return r[e]||(r[e]=i()),r[e]}var p=n(157),E=n(335),m="zh-CN",r={};t.getS18n=_;function O(){r={}}t.DEBUG_reset=O;function b(){return r}t.DEBUG_getInstances=b;var i=function(){function i(e,t){if(!p.isValidLocaleResource(t))throw new Error("fetched locale resource is invalid");l[e]=o({},l[e]||{},t)}function r(n,r){return s(u,void 0,void 0,function(){var t;return c(this,function(e){switch(e.label){case 0:return!r&&l[n]?[3,2]:a?[4,a(n)]:[3,2];case 1:t=e.sent(),i(n,t),e.label=2;case 2:return[2]}})})}function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if("string"==typeof e[0]){var n=e[0],r=e[1],i=r&&"string"==typeof r._?r._:void 0,a=i?n+"#"+i:n;if(!a)return"";var o=E.getTextResult(a,l[d]);if("string"==typeof o)return o;var s=E.getTextResult(a,l[f]);return"string"==typeof s?s:n}if(e[0]&&"number"==typeof e[0].length){var c=e[0],u=e.slice(1);return E.getInterpolateResult(c,u,l[d])||E.getInterpolateResult(c,u,l[f])||E.interweave(c,u)}return""}var n,a,d=m,f=m,l={};return e.configure=function(e){if(e.fetchLocale){if("function"!=typeof e.fetchLocale)throw new TypeError("fetchLocale should be an async function that resolves with locale resource");a=e.fetchLocale}if(e.fetchLocaleSync){if("function"!=typeof e.fetchLocaleSync)throw new TypeError("fetchLocaleSync should be a function that returns locale resource");n=e.fetchLocaleSync}},e.addLocaleResource=i,e.setLocaleAsync=function(t,n){return s(u,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:if("string"!=typeof t)throw new Error("'locale' is required");return[4,r(t)];case 1:return e.sent(),d=t,"string"==typeof n&&(r(n),f=n),[2]}})})},e.setLocaleSync=function(e){if("string"!=typeof e)throw new Error("'locale' is required");if(n){var t=n(e);i(e,t)}d=e},e.getLocale=function(){return d},e.DEBUG_getLocaleResources=function(){return l},e.getS18n=_,e.DEBUG_reset=O,e.DEBUG_getInstances=b,e},a=_("__default_namespace__");e.exports=a,t.default=a},function(e,v,A){"use strict";(function(t,e){A.d(v,"f",function(){return l}),A.d(v,"e",function(){return _}),A.d(v,"c",function(){return p}),A.d(v,"l",function(){return E}),A.d(v,"i",function(){return m}),A.d(v,"h",function(){return O}),A.d(v,"k",function(){return b}),A.d(v,"b",function(){return T}),A.d(v,"g",function(){return g}),A.d(v,"a",function(){return h}),A.d(v,"d",function(){return S}),A.d(v,"j",function(){return I});var s=A(5),n=A(65),r=A.n(n),c=A(3),i=A(9),a=A.n(i),o=A(13),u=A.n(o),d=A(19),f=A(67),l=new f.TinyEmitter;function _(e,t){var n={};return e.forEach(function(e){n[e]=void 0}),Object(c.Record)(a()(n,t))}function p(i,a){void 0===a&&(a=u.a);function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=a.apply(void 0,Object(s.__spread)(e)),r={type:i};return void 0!==n&&(r.payload=n),"function"==typeof n&&(r.args=e),r}return e.toString=function(){return void 0!==t&&t&&t.env,i},e.payload=function(e){return{type:i,payload:e}},e.reply=function(e,t){return{type:i,payload:{args:e,result:t}}},e}function E(e){var t=e.local,n=e.remote;return t?t.then(function(t){return n.catch(function(e){if(401===e.status||403===e.status||404===e.status||410===e.status)throw e;return t})}).catch(function(){return n}).then(function(){}):n}Object(d.createSelectorCreator)(function(r){function i(e,t){return Object(c.is)(e,a&&a[t])}var a=null,o=null;return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(null===a||a.length!==e.length||!e.every(i)){var n=r.apply(void 0,Object(s.__spread)(e));Object(c.is)(n,o)||(o=n)}return a=e,o}});function m(a,o){return function(e,t){void 0===e&&(e=a);var n=t.type,r=t.payload,i=o[n];return i?i(e,r):e}}function O(){return"production"}function b(e,t){"error"!==e&&"warn"!==e||l.emit(e,t)}function T(e){return r.a.find(e)?r.a.find(e).name:e}function g(){var n=(new Date).getTime();return"undefined"!=typeof performance&&"function"==typeof performance.now&&(n+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(n+16*Math.random())%16|0;return n=Math.floor(n/16),("x"===e?t:3&t|8).toString(16)})}var h=20,S=function(e){void 0===e&&(e=100);var t=2;return{page:function(){return t},addPage:function(){t++},pageSize:function(){return e},resetPage:function(){t=2}}};function I(e){return Boolean(c.List.isList(e)||c.Map.isMap(e)||c.Set.isSet(e)||c.OrderedSet.isOrderedSet(e)||c.OrderedMap.isOrderedMap(e))}}).call(this,A(70),A(35))},,function(e,x,M){"use strict";(function(s){var e=M(5),t=e.__importDefault(M(1)),n=M(432),r=M(325);x.constants=r;var i=M(65);x.fileTypes=i;var a=M(48);x.genGuid=a;var o=M(48);x.genToken=o;var c=M(48);x.getLocalIP=c;var u=M(48);x.logTimeDiff=u;var d=M(48);x.md5=d;var f=M(433),l=e.__importStar(M(179)),_=e.__importStar(M(436)),p=M(439),E=M(440),m=M(441);function O(e){if(/(shimo-(iphone|android)-app)/.test(e))return e;var t=new n(e).getResult();return t.os.name+" "+t.os.version+"/"+t.browser.name}function b(e){return"string"==typeof e?e.toLowerCase():e&&e.headers&&"string"==typeof e.headers["user-agent"]?e.headers["user-agent"].toLowerCase():""}function T(e){var t=b(e);return!t.match(/micromessenger.*?windowswechat/)&&/(iphone|ipod|ipad|android|windows phone|micromessenger)/i.test(t)}function g(e){var t=b(e);return/android/i.test(t)}function h(e){var t=b(e);return/iphone|ipod|ipad/i.test(t)}function S(e){return R(e)||y(e)}function I(e){return R(e)?"ios":y(e)?"android":T(e)?"mobile":"web"}function v(e){return/mobile.*dingtalk/.test(b(e))}function A(e){return/dingTalk\([^)]+\)/i.test(b(e))}function R(e){return/(shimo-iphone-app)/.test(b(e))}function y(e){return/(shimo-android-app)/.test(b(e))}function N(e){return/wxwork/.test(b(e))}x.reg={guid:/^[0-9A-Za-z]{16}$/,word:/^[a-zA-Z]+$/,number:/^\d+$/,integer:/^\d+$/,float:/^\d+(?:\.\d+){1}$/,email:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,url:/^(http[s]?:\/\/(www\.)?|ftp:\/\/(www\.)?|www\.){1}([0-9A-Za-z-.@:%_+~#=]+)+((‌\.[a-zA-Z]{2,3})+)(\/(.)*)?(\?(.)*)?/g,externalGuid:/\b[A-F0-9]{8}(?:-[A-F0-9]{4}){3}-[A-F0-9]{12}\b/i,sha1:/^[a-zA-Z0-9]{40}$/,openId:/^[a-zA-z0-9-_]{28}$/,hasIt:/.*/,apnToken:/^[0-9a-f]{64}$/},x.isGuid=function(e){return x.reg.guid.test(e)},x.parseUserAgent=O,x.parseUseragent=O,x.getIp=function(e){return E(e,"headers.x-forwarded-for")||E(e,"connection.remoteAddress")||E(e,"ip")||""},x.isMobile=T,x.isAndroidMobile=g,x.isiOSMobile=h,x.isFromApp=S,x.getRegisterType=I,x.getRegisterTypeDetail=function(e){if(D(e))return"wechat";if(v(e)||A(e))return"dingtalk";if(N(e))return"wework";var t=I(e);if("mobile"!==t)return t;var n=g(e),r=h(e);return n?"mobile.android":r?"mobile.ios":t},x.getAccessPlatform=function(e){var t=b(e);return/wxwork/.test(t)?"wework":/micromessenger/.test(t)?"wechat":/mobile.*dingtalk/.test(t)||/dingTalk\([^)]+\)/i.test(t)?"dingtalk":/iphone.*(shimo-iphone-app)/.test(t)?"iphone":/ipad.*(shimo-iphone-app)/.test(t)?"ipad":/(shimo-android-app)/.test(t)?"android":e.headers&&"lizard-desktop"===e.headers["x-source"]?"desktop":"dbe25f244146bf07ec84"===_.parse(e.url||"",!0).query.client_id?"mini_program":!/micromessenger.*windowswechat/.test(t)&&/(iphone|ipod|ipad|android|windows phone|micromessenger)/i.test(t)?"mobile":/(mozilla|opera)/.test(t)?"web":"unknow"},x.isDingTalkMobile=v,x.isDingTalkPC=A,x.isIphoneApp=R,x.isAndroidApp=y,x.isWework=N;var C={folder:"folder/",spreadsheet:"spreadsheet/",sheet:"sheet/",document:"doc/",newdoc:"docs/",mosheet:"sheet/",slide:"slides/",mindmap:"mindmaps/",form:"forms/",board:"boards/",modoc:"docx/"};x.redirectByType=function(e,t,n){var r=e.req.query.ref,i=n?"/m/":"/",a=C[x.convertFileTypeToEnum(t.type)],o=-1<i.indexOf("?")?"&":"?",s=r?o+"ref="+r:"";return e.redirect(i+a+t.guid+s)};var L={"-1":"spreadsheet","-2":"newdoc","-3":"sheet","-4":"mosheet","-5":"slide","-6":"modoc","-7":"mindmap","-8":"form","-9":"board",0:"document",1:"folder"};function j(e){return"string"==typeof e?e:L[e]}function D(e){var t=e.headers["user-agent"]||"";return/micromessenger/i.test(t)&&!/micromessenger.*?windowswechat/.test(t)}function P(e,t){return!isFinite(t)||e.length<=t?e:e.slice(0,t)+"…"}x.convertFileTypeToEnum=j,x.isFileTypesEqual=function(e,t){return j(e)===j(t)},x.isFromWechat=D,x.STATIC_IMAGE_PATH="/static/unmd5/",x.defaultAnonymousUser={name:t.default("路人"),avatar:"https://assets.smcdn.cn/static/unmd5/default-avatar-luren.2.png"},x.genRandomAvatar=function(){return"https://assets.smcdn.cn/static/unmd5/default-avatar-moke.2.png"},x.statisFileCache={},x.isGeneratorFunction=m,x.selectParams=function(e,n){var t=l.stringify(f(e,function(e,t){return Array.isArray(n)?-1<n.indexOf(t):t in n}));return t.length?"?"+t:t},x.truncateStr=P,x.getShortString=P,x.stringifyJson=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return JSON.stringify(e[0],e[1],e[2]).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},x.getFileType=function(e){var t=i.find(e);if(t)return t.display;throw new Error("unknown file type: "+e)},x.transformFileType=function(e,t){return"number"==typeof e&&"string"!=typeof t&&(t="string"),(i.find(e)||i.document)["string"===t?"name":"id"]},x.hashids=function(e,t,n){return new p(e||"hash salt goes here",t||20,n||"ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890")},x.bufferConcat=function(e,t){var n=s.alloc(0);switch(e.length){case 0:break;case 1:n=e[0];break;default:n=s.alloc(t);for(var r=0,i=0,a=e.length;r<a;++r){var o=e[r];o.copy(n,i),i+=o.length}}return n},x.getAppVersion=function(e){if(S(e)){var t=b(e).match(/shimodocsrn\/\d\.\d\.\d/);if(t&&t.length)return t[0].split("/")[1]}}}).call(this,M(303).Buffer)},,function(e,E,m){"use strict";m.r(E),function(T){m.d(E,"request",function(){return a}),m.d(E,"get",function(){return o}),m.d(E,"post",function(){return s}),m.d(E,"patch",function(){return c}),m.d(E,"put",function(){return u}),m.d(E,"head",function(){return l}),m.d(E,"destroy",function(){return _}),m.d(E,"encodeFormData",function(){return p});var g=m(5),e=m(1),h=m.n(e),t=m(9),S=m.n(t),I=m(12),n=m(184),r=m(2),d=m(43),v=m(10),i=m(0),A="SOS/"+n.a;function f(t,n,e){var r,i=e.body,a=e.getToken,o=e.fetchConfig,s=e.pushClientId,c=e.userAgent,u=e.timeout,d=e.schema,f=e.debugDelay,l=(e.debugLog,e.geetestHeaders),_=e.customHeaders,p=e.emitter,E=e.allocateResponse,m=e.token||a(),O={Accept:"application/vnd.shimo.v2+json","Cache-Control":"no-cache","x-requested-with":"XmlHttpRequest"};void 0!==T&&"env"in T||(O["User-Agent"]=c?A+" "+c:A),m&&(O.Authorization="Bearer "+m),i&&(r="string"==typeof i?(O["Content-Type"]="application/x-www-form-urlencoded; charset=utf-8",i):(O["Content-Type"]="application/json",JSON.stringify(i))),s&&(O["X-PUSH-CLIENT-ID"]=s),_&&(O=S()(O,_)),l&&(O["X-Geetest-Challenge"]=l.geetest_challenge,O["X-Geetest-Validate"]=l.geetest_validate,O["X-Geetest-Seccode"]=l.geetest_seccode),p.emit("request.send",{url:n,method:t,headers:O,body:r});var b=fetch(n,S()({method:t,headers:O,body:r},o)).catch(function(e){return p.emit("request.error",{url:n,method:t,headers:O,body:i,error:e}),Promise.reject(S()(e,{offline:!0}))}).then(function(e){return E&&E(e),function(n,e){var r=n.status;if(200<=r&&r<300)return setTimeout(function(){return null},0),function(e){return 204===e||205===e||304===e}(r)?null:n.json();var i=0===r||502===r||503===r||504===r;if(i){var t=n.statusText?n.statusText+" ["+r+"]":r,a=new Error(h()(R=R||Object(g.__makeTemplateObject)(["暂时无法连接到服务器（","）"],["暂时无法连接到服务器（","）"]),t));return Promise.reject(S()(a,{response:n,status:r,offline:i}))}401===r&&e.emit("auth.failure");return n.json().catch(function(){return null}).then(function(e){var t=new Error(e&&e.error||h()(y=y||Object(g.__makeTemplateObject)(["请求异常，请稍后重试（","）"],["请求异常，请稍后重试（","）"]),r));return Promise.reject(S()(t,{response:n,status:r,offline:i,body:e}))})}(e,p)});return m&&!e.token&&(b=b.then(function(e){return m===a()?e:Promise.reject(new Error(h()("登录状态发生改变，网络请求已被终止")))})),d&&(b=b.then(function(e){var i=e.schema,a=e.dispatch,o=e.transformResponseBody;return function(e){var t=Object(I.wormalize)(o?o(e):e,i),n=t.result,r=t.entities;return a(Object(v.d)(n,i,r)).then(function(){return a(Object(v.b)(r)),n})}}(e))),u&&(b=Promise.race([b,new Promise(function(e,t){setTimeout(function(){t(new Error("timeout"))},u)})])),f?function(t){return new Promise(function(e){return setTimeout(e,t)})}(f).then(function(){return b}):b}var R,y,a=function(u){return Object(r.c)(i.a.API_REQUEST,function(s,c){return void 0===c&&(c={}),function(e){var t=e.api,n=e.getState,r=e.dispatch,i=e.emitter,a=n().status;if(a.online||c.bypassOnlineChecking)return c.background||r(Object(d.b)()),t.isIE&&(-1===s.indexOf("?")?s+="?_="+(new Date).getTime():s+="&_="+(new Date).getTime()),f(u,""+t.prefix+s,S()({},c,{dispatch:r,getToken:function(){return n().me.get("token")},fetchConfig:t.fetchConfig,debugDelay:t.debugDelay,debugLog:t.debugLog,userAgent:t.userAgent,customHeaders:t.customHeaders,pushClientId:a.pushClientId,emitter:i})).then(function(e){return c.background||r(Object(d.a)()),r(Object(d.c)(!0)),e}).catch(function(e){throw c.background||r(Object(d.a)()),r(Object(d.c)(!e.offline)),e});var o=new Error(h()("暂时无法连接到服务器"));return Promise.reject(S()(o,{offline:!0,status:0}))}})},o=a("GET"),s=a("POST"),c=a("PATCH"),u=a("PUT"),l=a("HEAD"),_=a("DELETE"),p=function(t){return Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&")}}.call(this,m(70))},function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"b",function(){return a}),n.d(t,"a",function(){return o});var r=n(12),i=new r.Schema("users"),a=new r.Schema("teams"),o=new r.Schema("files","guid");i.define({team:a}),o.define({user:i,updatedUser:i,sharedUser:i})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var m=n(3),r=n(41),i=n.n(r),a=n(175),o=n.n(a),O=n(2),s={initialStructure:Object(m.Map)({mirror:Object(m.Map)(),diff:Object(m.Map)(),data:Object(m.Map)(),persist:Object(m.Set)()}),createMirror:function(e,n,r){return void 0===r?e:o()(["diff","data"],function(e,t){return e.update(t,function(e){return e.has(n)?e.set(r,e.get(n)).delete(n):e})},e.setIn(["mirror",n],r).update("persist",function(e){return e.union([n,r])}))},mirrorId:function(e,t){if("-"!==t[0])return t;var n=e.get("mirror");return n.has(t)?n.get(t):t},get:function(e,t){return e.getIn(["data",this.mirrorId(e,t)])},has:function(e,t){return e.hasIn(["data",this.mirrorId(e,t)])},remove:function(e,t){var n=this.mirrorId(e,t);return e.setIn(["data",n],null).removeIn(["diff",n]).update("persist",function(e){return e.add(n)})},unload:function(e,t){return e.removeIn(["data",this.mirrorId(e,t)])},merge:function(e,t,n,r){var i=void 0===r?{}:r,a=i.source,o=void 0===a?"user":a,s=i.create,c=void 0!==s&&s,u=i.factory;if(t=this.mirrorId(e,t),!u)throw new Error('options "factory" is not provided');var d=e.hasIn(["data",t]);if(!d&&!c)return Object(O.k)("warn","Prevented updating for non-existent object "+t+" with data "+JSON.stringify(n)),e;var f=d&&e.getIn(["data",t])||new u,l="api"===o?e.getIn(["diff",t],Object(m.Map)()):Object(m.Map)(),_=Object.keys(n).filter(function(e){return void 0!==n[e]&&f.has(e)&&!(l.has(e)||function(e,t,n){return e.checkFieldEqual?e.checkFieldEqual(t,n):e.get(n)===t[n]}(f,n,e))});if(0===_.length)return e;var p={};_.forEach(function(e){p[e]=n[e]});var E=e.setIn(["data",t],f.merge(p));return"development"===Object(O.h)()&&Object(m.is)(E,e)&&Object(O.k)("warn","content not changed while dirty: "+t+": "+_.join()),e=E.update("persist",function(e){return e.add(t)}),-1<["api","preload"].indexOf(o)?e:this.addDiffProperties(e,t,_)},addDiffProperties:function(e,t,n){return t=this.mirrorId(e,t),e.updateIn(["diff",t],Object(m.Set)(),function(e){return e.union(n)})},removeDiffProperties:function(e,t,n){var r=["diff",t=this.mirrorId(e,t)];if(!n)return e.deleteIn(r);var i=e.getIn(r);if(i){var a=i.subtract(n);return a.size?e.setIn(r,a):e.deleteIn(r)}return e},unsetPersist:function(e){return e.set("persist",this.initialStructure.get("persist"))},persist:function(r,i,a){var e=r.get("persist");return e.forEach(function(e){if(r.hasIn(["data",e])){var t=i+":data:"+e,n=r.getIn(["data",e]);n?a.set(t,n.toJS()):a.remove(t)}}),a.set(i+":diff",r.get("diff").toJS()),0<e.size},setDiff:function(e,t){return e.set("diff",Object(m.Map)(i()(t,m.Set)))}}},,function(e,t,n){"use strict";n.d(t,"c",function(){return c}),n.d(t,"d",function(){return u}),n.d(t,"b",function(){return d}),n.d(t,"a",function(){return f});var l=n(5),r=n(0),i=n(9),_=n.n(i),a=n(93),o=n.n(a),p=n(12),E=n(8),s=n(2),c=(Object(s.c)(r.a.GET_PENDING_CHANGES,function(){return function(e){var t=(0,e.getState)().files,n={total:0,files:{remove:0,insert:0,update:0}};return t.get("diff").forEach(function(e){e&&(n.total+=1,e.has("isNew")?n.files.insert+=1:n.files.update+=1)}),n}}),Object(s.c)(r.a.BULK_RESTORE,function(r){return function(e){var t=e.next,n=e.storage;return n?n.mget(r.map(function(e){return"sos:"+e})).then(function(e){t(o()(r,e))}):Promise.resolve()}}),Object(s.c)(r.a.RESTORE_DIFF,function(r){return function(e){var t=e.next,n=e.storage;return Promise.all(r.map(function(e){return n?n.get("sos:"+e+":diff"):null})).then(function(e){t(o()(r,e))})}}),Object(s.c)(r.a.RECOVER_STATE_BY_REMOVING_DIFF),Object(s.c)(r.a.RECOVER_STATE_BY_MARKING_MODEL)),u=Object(s.c)(r.a.RESTORE_SCHEMA,function(u,d,f){return function(e){var t=e.next,n=e.storage,i=e.getState,s={};function a(o){return 0===o.length?Promise.resolve(!0):(n?n.mget(o.map(function(e){var t=Object(l.__read)(e,2);return"sos:"+t[0]+":data:"+t[1]})):Promise.resolve(new Array(o.length))).then(function(e){for(var t=0;t<e.length;t++){var n=e[t],r=Object(l.__read)(o[t],2),i=r[0],a=r[1];s[i]||(s[i]={}),n?"object"!=typeof n||Array.isArray(n)?s[i][a]=n:s[i][a]=_()(s[i][a]||{},n):s[i][a]=null}return!1})}function r(t){return void 0===t&&(t=1),function(){var n=i(),r=[];return Object(p.dewormalize)(u,d,function(e,t){return E.a.has(n[e],t)?null:s[e]&&void 0!==s[e][t]?s[e][t]:(r.push([e,t]),null)}),a(r)}().then(function(e){if(!e){if(10<t)throw new Error("max level reached");return r(t+1)}})}var o=[];if(f){var c=i();Object.keys(f).forEach(function(t){Object.keys(f[t]).forEach(function(e){"files"!==t&&(e=Number(e)),E.a.has(c[t],e)||o.push([t,e])})})}return a(o).then(function(){return r().then(function(){return 0<Object.keys(s).length&&t(s),s})})}}),d=(Object(s.c)(r.a.PERSIST,function(o){return function(e){var t=e.getState,n=e.storage,r=e.next;if(n){var i=t()[o];switch(o){case"files":case"users":case"teams":return E.a.persist(i,"sos:"+o,n)&&r(o);case"notifications":return n.set("sos:"+o,i&&i.withMutations(function(n){["all","read"].forEach(function(e){var t=n.get(e);t&&t.size>s.a&&(n.set(e,t&&t.slice(0,s.a)),n.set(e+"HasMore",!0))})}).toJS());case"tree":case"collaborators":return n.set("sos:"+o,i&&i.get("data").toJS());default:var a=i&&(Object(s.j)(i)?i.toJS():i);return n.set("sos:"+o,a)}}}}),Object(s.c)(r.a.MERGE_ENTITIES)),f=Object(s.c)(r.a.LOCAL_SYNC,function(e){return function(){return Promise.resolve(e)}})},,,,,,function(e,t,n){"use strict";function r(i,a){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(s[a])return s[a];function n(){delete s[a]}var r=i.apply(void 0,Object(o.__spread)(e));return(s[a]=r).then(n,n),r}}var o=n(5),s={};r.clear=function(){s={}},t.a=r},,function(e,n,t){"use strict";function r(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}Object.defineProperty(n,"__esModule",{value:!0});var i=t(442);n.helper=i.helper,n.CONSTANTS=i.CONSTANTS,r(t(445)),r(t(446)),r(t(447)),r(t(448))},,,,,,,function(e,t,n){"use strict";n.d(t,"d",function(){return a}),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return c});var r=n(1),i=n.n(r),a=(n(14),n(92),function(e,t){return!(!e||!t||String(e).trim()!==String(t).trim())}),o=function(e,t){if(t){if(t.get("dingtalkCorp"))return i()("企业钉钉版");if(t.get("weworkCorp"))return i()("企业微信版")}switch(e.getIn?e.getIn(["membership","accountType"]):e.membership.accountType){case"enterprise_standard":return i()("企业版");case"personal_free":return i()("个人免费版");case"personal_premium":return i()("个人高级版");default:return i()("企业版")}},s=function(e){switch(e.get("teamRole")){case"creator":return i()("创建者");case"admin":return i()("管理者");case"member":return i()("成员");default:return""}},c=function(e){return e&&2===e.type};sessionStorage.getItem("DINGTALK_CORPID")},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(1),a=n.n(r),i=n(14),o=n.n(i),s=function(e,t,n){void 0===t&&(t=o()()),void 0===n&&(n=6e5);var r=o()(e);if(r.isAfter(t))return r.diff(t,"millisecond")<=n?a()("刚刚"):r.format(a()("M月D日 H:mm"));var i=o()(t).subtract(1,"day");return t.diff(r,"second")<=60?a()("刚刚"):t.isSame(r,"day")?r.format(a()("今天 H:mm")):i.isSame(r,"day")?r.format(a()("昨天 H:mm")):t.diff(r,"month",!0)<=2?r.format(a()("M月D日 H:mm")):t.isSame(r,"year")?r.format(a()("M月D日")):r.format(a()("YYYY年M月D日"))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(426);t.getBoolean=r.getBoolean,t.getString=r.getString,t.hasKey=r.hasKey,t.isSelfHosted=function(){return r.getBoolean("SELF_HOSTED")}},,function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"c",function(){return i}),n.d(t,"b",function(){return a});var r=function(){return!!navigator.userAgent.match(/dingtalk/i)},i=function(){return!!navigator.userAgent.match(/wxwork/i)},a=function(){return!!navigator.userAgent.match(/iPad|iPhone|Android/i)}},,function(e,t,n){"use strict";var u,d,f=n(5),r=n(183),i=n.n(r),a=n(11),l=n.n(a),_=n(12),o=n(1),s=n.n(o),c=n(0),p=n(6),E=n(2),m=n(16),O=(Object(E.c)(c.a.START_RECEIVE_DISCUSSIONS),Object(E.c)(c.a.STOP_RECEIVE_DISCUSSIONS),Object(E.c)(c.a.GET_DISCUSSIONS,function(s,e){var c=e.before,u=e.middle,d=e.after,f=e.limit,l=e.missing;return Object(m.a)(function(e){var t=e.dispatch,n=e.next,r=e.getState;if(l){var i=r().discussions.getIn([s,"list",0,"unixus"]);i&&(d=i,f=1e5)}var a="files/"+s+"/discussions",o=[];return c?o.push("before="+c):u?o.push("middle="+u):d&&o.push("after="+d),f&&o.push("limit="+f),o.length&&(a+="?"+o.join("&")),t(Object(p.get)(a)).then(function(e){n({guid:s,data:e})})},"getDiscussions_"+s+"_"+c+"_"+u+"_"+d+"_"+f+"_"+l)})),b=(Object(E.c)(c.a.SEND_DISCUSSION,function(t,n){return Object(m.a)(function(e){return(0,e.dispatch)(Object(p.post)("files/"+t+"/discussions",{body:{content:n}}))},"sendDiscussion_"+t+"_"+n)}),Object(E.c)(c.a.MARK_VIEWED_DISCUSSIONS,function(r,i){return Object(m.a)(function(e){var t=e.dispatch,n=e.next;return t(Object(p.post)("files/"+r+"/discussions/viewed",{body:{viewedUnixus:i}})).then(function(e){if("success"!==e.data)throw new Error(s()("更新失败"));n({guid:r,viewedUnixus:i})})},"markViewedDiscussions_"+r+"_"+i)}),Object(E.c)(c.a.PUSH_CREATE_DISCUSSION)),T=Object(E.c)(c.a.PUSH_DELETE_DISCUSSION),g=n(456),h=n(10),S=(Object(E.c)(c.a.GET_WECHAT_BINDING_QRCODE,function(){return function(e){return(0,e.dispatch)(Object(p.get)("wechat/action/binding_qrcode"))}}),Object(E.c)(c.a.GET_WECHAT_BINDING_URL,function(e){var n=(void 0===e?{}:e).type;return function(e){var t=e.getState;return(0,e.dispatch)(Object(p.post)("wechat/action/app_auth_v2",{body:{type:n||"binding_shimo",userId:t().me.id}}))}}),Object(E.c)(c.a.GET_WECHAT_INVITE_INFO,function(){return function(e){var t=e.next;return(0,e.dispatch)(Object(p.get)("invite/invite_info")).then(t)}}),Object(E.c)(c.a.WIN_PERSONAL_PREMIUM_VERSION,function(){return function(e){var t=e.next;return(0,e.dispatch)(Object(p.post)("invite/invitee_convert")).then(t)}}),Object(E.c)(c.a.WECHAT_REWARDED,function(){return function(e){return(0,e.next)(void 0)}})),I=Object(E.c)(c.a.WECHAT_REWARD_BY_INVITOR,function(){return function(e){return(0,e.next)(void 0)}}),v=Object(E.c)(c.a.WECHAT_NO_REWARD,function(){return function(e){return(0,e.next)(void 0)}}),A=(Object(E.c)(c.a.GET_WECHAT_SCAN_INFO,function(e){var t=e.anonymousId;return function(e){return(0,e.dispatch)(Object(p.get)("wechat/action/qrcode_secret?anonymousId="+t))}}),Object(E.c)(c.a.UPDATE_MAINTENANCE,function(t){return function(e){(0,e.next)(t)}})),R=n(7),y=n(449),N=n(34);n.d(t,"b",function(){return L}),n.d(t,"c",function(){return j});var C={};function L(e,t){if(void 0===t&&(t=!0),C[e]){if(t)return void C[e]++}else C[e]=1;u&&u.emit("message",{type:"CLIENT_READY",padId:e})}function j(e){if(C[e]){if(--C[e])return;delete C[e]}u&&u.emit("message",{type:"CLIENT_QUIT",padId:e})}function D(n,u,r){new Promise(function(e,t){r.on("socket-connected",function(){e(n)})}),n.on("connect",function(){r.emit("socket-connected"),i()(C,function(e,t){u.dispatch(O(t,{missing:!0})),L(t,!1)})}),n.on("File",function(e){var t=e.data,n=e.db_event;switch(n){case"sortFiles":var r=t.file,i=t.before;u.dispatch(Object(g.l)(r,i));break;case"create":case"update":var a=Object(_.wormalize)(t,R.a).entities,o=u.dispatch(Object(h.d)(t.guid,R.a,a)).then(function(){var e;return u.dispatch(Object(h.b)({files:(e={},e[t.guid]=a.files[t.guid],e)}))});if("create"===n)o.then(function(){return u.dispatch(Object(g.h)(t.guid,t.parentGUID,t.role))});else if("update"===n){if(t.isSpace)break;o.then(function(){return u.dispatch(Object(g.p)(t.guid,t.parentGUID))})}}}),n.on("Permission",function(e){var t=e.data,n=e.db_event;if("destroy"===n&&t.guid)u.dispatch(Object(g.i)(t.guid));else if("create"===n){var r=t.file,i=u.getState(),a=i.me,o=i.tree,s=Object(_.wormalize)(r,R.a).entities;if(r&&a.id!==r.userId){var c=N.b.getParent(o,r.guid)||"0";u.dispatch(Object(h.d)(r.guid,R.a,s)).then(function(){var e;return u.dispatch(Object(h.b)({files:(e={},e[r.guid]=s.files[r.guid],e),users:s.users}))}).then(function(){return u.dispatch(Object(g.h)(r.guid,c,r.role,!!l()(t,"file.Permissions[0].sharedBy")))})}r&&a.id===r.userId&&u.dispatch(Object(h.d)(r.guid,R.a,s)).then(function(){var e;return u.dispatch(Object(h.b)({files:(e={},e[r.guid]=s.files[r.guid],e),users:s.users}))})}}),n.on("StarredFile",function(e){var t=e.action,n=e.data;n&&n.fileGuid&&("create"===t?u.dispatch(Object(g.m)(n.fileGuid)):"destroy"===t&&u.dispatch(Object(g.n)(n.fileGuid)))}),n.on("Notification",function(e){var t=e.data;r.emit("notification",t)}),n.on("FileMark",function(e){var t=e.action,n=e.data;if(n){if("readAll"===t&&2===n.type){var r=Object(y.b)(u.getState());u.dispatch(Object(g.j)(r))}n.fileGuid&&"read"===t&&u.dispatch(Object(g.k)(n.fileGuid))}}),n.on("INVITE_ACTS",function(e){var t=e.name;switch(t){case"wechat_rewarded":u.dispatch(S());break;case"invitor_bind":u.dispatch(I());break;case"wechat_no_reward":u.dispatch(v())}}),n.on("Maintenance",function(e){u.dispatch(A(e))}),n.on("Invite",function(e){var t=e.db_event,n=e.data;if(n&&n.collaborators)if("create"===t){var r=n.fileGuid,i=n.collaboratorCount,a=n.collaborators;u.dispatch(Object(g.o)({type:"add",fileGuid:r,collaboratorCount:i,collaborators:a}))}else if("delete"===t){r=n.fileGuid,i=n.collaboratorCount,a=n.collaborators;u.dispatch(Object(g.o)({type:"delete",fileGuid:r,collaboratorCount:i,collaborators:a}))}}),n.on("discuss",function(e){if(e)switch(e.event){case"create":u.dispatch(b(e));break;case"delete":u.dispatch(T(e))}}),n.on("DesktopShortcut",function(){u.dispatch(Object(g.f)())})}t.a=function(i,e){var t=e.socket,a=e.io,o=e.server,s=Object(f.__rest)(e,["socket","io","server"]);if(d=e.emitter?e.emitter:E.f,t)D(u=t,i,d);else{var c=null;i.subscribe(function(){var e=i.getState(),t=e.me,n=e.status.pushClientId;if(t.id!==c&&(c=t.id,u&&(u.close(),u=null),c)){var r=["pushClientId="+encodeURIComponent(n)];t.token&&r.push("accessToken="+encodeURIComponent(t.token)),D(u=a(o+"?"+r.join("&"),Object(f.__assign)({transports:["websocket"]},s)),i,d)}})}}},function(e,t,n){"use strict";var r,i;(i=r=r||{}).UNKNOWN_SHARE_MODE="unknown_share_mode",i.PRIVATE="private",i.READONLY="readonly",i.EDITABLE="editable",i.ENTERPRISE_READONLY="enterprise_readonly",i.ENTERPRISE_EDITABLE="enterprise_editable",i.ENTERPRISE_COMMENTABLE="enterprise_commentable";t.a={persist:"persist",collabSpaceModal:{visible:"collabSpace-modal-visible",hidden:"collabSpace-modal-hidden",switch:"collabSpace-modal-switch"},collabModal:{visible:"collab-modal-visible",hidden:"collab-modal-hidden",mode:"collab-modal-mode"},moveModal:{visible:"move-modal-visible",hidden:"move-modal-hidden"},shareModal:{visible:"share-modal-visible",hidden:"share-modal-hidden"},permissionCheckModal:{visible:"permission-modal-visible",hidden:"permission-modal-hidden"},importStatus:{isImportFinished:"import-finished"},mobileModal:{visible:"mobile-verification-modal-visible",hidden:"mobile-verification-modal-hidden"},popconfirm:{visible:"popconfirm_visible",hidden:"popconfirm_hidden"},fileHistory:{visible:"fileHistory_visible",hidden:"fileHistory_hidden"},fileInfoModal:{visible:"fileInfoModal_visible",hidden:"fileInfoModal_hidden"},sidebar:{historyVisible:"history_visible",historyHidden:"history_hidden",discordVisible:"discord_visible",discordHidden:"discord_hidden",revisionVisible:"revision_vision",revisionHidden:"revision_hidden",directoryVisible:"directory_visible",directoryHidden:"directory_hidden",writerVisible:"writer_visible",writerHidden:"writer_hidden",commentVisible:"comment_visible",commentHidden:"comment_hidden",visible:"sidebar_visible",hidden:"sidebar_hidden"},dashboard:{CATEGORY_TAB_RECENTLY_UPDATED:"updated",CATEGORY_TAB_RECENTLY_USED:"used",CATEGORY_TAB_MY_OWN:"own",CATEGORY_TAB_SHARED_TO_ME:"shared",ACTION_SWITCH_TAB:"dashboard/switch_tab",ACTION_RESET_TAB:"dashboard/reset_tab",ACTION_LOAD_FILES:"dashboard/load_files",ACTION_LATEST_SHARE:"dashboard/latest_share"},lockAnimation:{visible:"lock_visible",hidden:"lock_hidden"}}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=/[^\x00-\xff]/gi,r=function(e,t,n){if(void 0===n&&(n="..."),!e||t<=0)return"";if(t<e.replace(a,"aa").length)for(var r=0,i=0;i<t;i++){if(e[i].match(a)?r+=2:r+=1,r===t)return e.substr(0,i+1)+n;if(t<r)return e.substr(0,i)+n}return e}},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return d});var a=n(5),s=n(3),r=n(9),c=n.n(r),u="c",i="1",d={initialStructure:Object(s.Map)({mirror:Object(s.Map)(),data:Object(s.Map)()}),createMirror:function(e,t,n){if(!e.hasIn(["data",t]))return e;var r=d.getParent(e,t);if(e=e.setIn(["data",n],e.getIn(["data",t])).deleteIn(["data",t]).setIn(["mirror",t],n),r){var i=d.getChildren(e,r),a=i&&i.findKey(function(e){return e===t});"number"==typeof a&&(e=d._set(e,r,u,i.set(a,n)))}var o=d.getChildren(e,t);return o&&(e=o.reduce(function(e,t){return d.setParent(e,t,n)},e)),e},mirrorId:function(e,t){if(t&&"-"!==t[0])return t;var n=e.get("mirror");return n.has(t)?n.get(t):t},getChildren:function(e,t){var n=["data"];return"0"!==t&&"1"!==t||n.push("root"),e.getIn(Object(a.__spread)(n,[d.mirrorId(e,t),u]))},getParent:function(e,t){return e.getIn(["data",d.mirrorId(e,t),"p"])},_set:function(e,t,n,r){var i=["data"];return"0"!==t&&"1"!==t||i.push("root"),e.setIn(Object(a.__spread)(i,[d.mirrorId(e,t),n]),r)},setChildren:function(e,t,n){var r=d.getChildren(e,t),i=(r||Object(s.List)()).takeWhile(function(e){return"-"===e[0]}).concat(n);return Object(s.is)(r,i)?e:d._set(e,t,u,i)},unshiftRootChildren:function(e,t){var n=(d.getChildren(e,"0")||Object(s.List)()).unshift(t);return d._set(e,"0",u,n)},pushRootChildren:function(e,t){var n=(d.getChildren(e,"0")||Object(s.List)()).push(t);return d._set(e,"0",u,n)},replaceChild:function(e,t,n,r){var i=d.getChildren(e,t),a=i&&i.findKey(function(e){return e===n});return"number"==typeof a?d.setChildren(e,t,i.set(a,r)):e},unshiftChildren:function(e,t,n){n=d.mirrorId(e,n);var r=d.getChildren(e,t)||Object(s.List)();if(r.includes(n))return e;var i="-"===n[0]?0:r.findIndex(function(e){return"-"!==e[0]}),a=-1===i?r.push(n):r.splice(i,0,n);return d._set(e,t,u,a)},removeFromParent:function(e,t){t=d.mirrorId(e,t);var n=d.getParent(e,t);if(!n)return e;var r=d.getChildren(e,n);if(!r)return e;var i=r.findKey(function(e){return e===t});return void 0===i?e:d._set(e,n,u,r.remove(i))},remove:function(e,t){return d.removeFromParent(e,t).removeIn(["data",d.mirrorId(e,t)])},setParent:function(e,t,n){return e.setIn(["data",d.mirrorId(e,t),"p"],d.mirrorId(e,n))},fromJS:function(o){function r(e,t,n){e.forEach(function(e){t[e]||(t[e]={}),t[e].p=n})}var i=Object.keys(o).reduce(function(e,t){var n,r,i,a;return"0"===t||"1"===t?c()(e,{root:(n={},n[t]=(r={},r.c=o[t],r),n)}):c()(e,((i={})[t]=((a={}).c=o[t],a),i))},{});return Object.keys(i).forEach(function(t){var n;"root"===t?["0","1"].forEach(function(e){i[t][e]&&(n=i[t][e].c,r(n,i,e))}):(n=i[t].c,r(n,i,t))}),Object(s.fromJS)(i)}}},,function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"alphaFeatures",function(){return m}),n.d(r,"blueTips",function(){return b}),n.d(r,"bulletin",function(){return T}),n.d(r,"collaborators",function(){return h}),n.d(r,"collabDepts",function(){return I}),n.d(r,"created",function(){return v}),n.d(r,"deleted",function(){return A}),n.d(r,"discussions",function(){return D}),n.d(r,"files",function(){return le}),n.d(r,"flashMessages",function(){return pe}),n.d(r,"maintenance",function(){return Ee}),n.d(r,"me",function(){return Oe}),n.d(r,"notifications",function(){return Ne}),n.d(r,"recent",function(){return Fe}),n.d(r,"recentContacts",function(){return we}),n.d(r,"settings",function(){return Be}),n.d(r,"shared",function(){return Ge}),n.d(r,"shortcuts",function(){return Ye}),n.d(r,"spaces",function(){return ke}),n.d(r,"starred",function(){return $e}),n.d(r,"status",function(){return rt}),n.d(r,"subscriptions",function(){return at}),n.d(r,"syncedFiles",function(){return ot}),n.d(r,"teamMembers",function(){return st}),n.d(r,"teams",function(){return ut}),n.d(r,"templates",function(){return dt}),n.d(r,"templateLimit",function(){return ft}),n.d(r,"tree",function(){return pt}),n.d(r,"unreadShared",function(){return St}),n.d(r,"updated",function(){return It}),n.d(r,"used",function(){return vt}),n.d(r,"userGuide",function(){return At}),n.d(r,"users",function(){return kt}),n.d(r,"wechat",function(){return $t}),n.d(r,"scripts",function(){return Vt});var i,a,o,s,c,u,d,f,l,p=n(5),_=n(0),E=n(2),m=Object(E.i)({},((i={})[_.a.PRELOAD]=function(e,t){return t.alphaFeatures||e},i[_.a.GET_ALPHA_FEATURES]=function(e,t){return Object(p.__assign)(Object(p.__assign)({},e),t)},i[_.a.GET_ALPHA_FEATURES_BY_URL]=function(e,t){var n=t.url,r=t.alphaFeature,i=Object(p.__assign)({},e);return i[n]=r,i},i[_.a.BULK_RESTORE]=function(e,t){return t.alphaFeatures||e},i)),O=n(3),b=Object(E.i)(Object(O.Map)({}),((a={})[_.a.PRELOAD]=function(e,t){var n=t.blueTip;return n?Object(O.Map)(n):e},a[_.a.GET_BLUE_TIP]=function(e,t){return Object(O.Map)(t)},a[_.a.CLOSE_BLUE_TIP]=function(){return Object(O.Map)({})},a)),T=Object(E.i)(Object(O.Map)({}),((o={})[_.a.PRELOAD]=function(e,t){var n=t.bulletin;return n?Object(O.Map)(n):e},o[_.a.GET_BULLETIN]=function(e,t){return Object(O.Map)(t)},o[_.a.CLOSE_BULLETIN]=function(){return Object(O.Map)({})},o)),g=n(298),h=Object(E.i)(g.a.initialStructure,((s={})[_.a.PRELOAD]=function(e,t){var n=t.collaborators;return n?e.merge({diff:Object(O.Map)(n.diff),mirror:Object(O.Map)(n.mirror),persist:Object(O.Set)(n.persist),data:Object(O.fromJS)(n.data)}):e},s[_.a.BULK_RESTORE]=function(e,t){var n=t.collaborators;return n?e.set("data",Object(O.fromJS)(n)):e},s[_.a.GET_COLLABORATORS]=function(e,t){var n=t.fileId,r=t.collaborators;return g.a.set(e,n,r)},s[_.a.GET_SPACE_COLLABORATORS]=function(e,t){var n=t.spaceId,r=t.collaborators;return g.a.set(e,n,r)},s[_.a.ADD_COLLABORATOR]=function(e,t){var n=t.fileId,r=t.data;return g.a.get(e,n,Object(O.List)()).some(function(e){return e.get("user")===r.user})?e:g.a.push(e,n,r)},s[_.a.ADD_COLLABORATORS]=function(e,t){var n=t.fileId,r=t.data,i=g.a.get(e,n,Object(O.List)());return g.a.set(e,n,i.concat(Object(O.fromJS)(r.filter(function(t){return i.every(function(e){return e.get("user")!==t.user})}))))},s[_.a.ADD_SPACE_COLLABORATORS]=function(e,t){var n=t.fileId,r=t.data,i=g.a.get(e,n,Object(O.List)());return g.a.set(e,n,i.concat(Object(O.fromJS)(r.filter(function(t){return i.every(function(e){return e.get("user")!==t.user})}))))},s[_.a.REMOVE_COLLABORATOR]=function(e,t){var n=t.fileId,r=t.userId,i=g.a.get(e,n);return i?g.a.set(e,n,i.filterNot(function(e){return e.get("user")===r})):e},s[_.a.REMOVE_SPACE_COLLABORATOR]=function(e,t){var n=t.spaceId,r=t.userId,i=g.a.get(e,n);return i?g.a.set(e,n,i.filterNot(function(e){return e.get("user")===r})):e},s[_.a.PUSH_UPDATE_COLLABORATOR_COUNT]=function(e,t){var n=t.type,r=t.guid,i=t.userId,a=t.permission,o=t.owner,s=t.role;if("add"===n)return g.a.get(e,r,Object(O.List)()).some(function(e){return e.get("user")===i})?e:g.a.push(e,r,{user:i,role:s,fromParent:!1,permission:a,owner:o});if("delete"!==n)return e;var c=g.a.get(e,r);return c?g.a.set(e,r,c.filterNot(function(e){return e.get("user")===i})):e},s[_.a.CREATE_FILE]=function(e,t){var n=t.data,r=n.user,i=n.guid;return g.a.set(e,i,[{user:r,role:"owner",sharedBy:null}])},s[_.a.CREATE_FILE_BY_TEMPLATE]=function(e,t){var n=t.data,r=n.user,i=n.guid;return g.a.set(e,i,[{user:r,role:"owner",sharedBy:null}])},s[_.a.PUSH_DESTROY_FILE]=function(e,t){var n=t.guid;return g.a.remove(e,n)},s[_.a.REMOVE_FILE]=function(e,t){var n=t.guid;return g.a.remove(e,n)},s[_.a.REMOVE_FILES]=function(e,t){return t.guids.reduce(function(e,t){return g.a.remove(e,t)},e)},s[_.a.EXIT_FILE]=function(e,t){var n=t.guid;return g.a.remove(e,n)},s[_.a.BG_SYNC_FILE]=function(e,t){var n=t.guid,r=t.mirrorTo;return r?g.a.createMirror(e,n,r):e},s[_.a.UPDATE_COLLABORATOR_ROLE]=function(e,t){var n=t.fileId,r=t.userId,i=t.role,a=e.getIn(["data",n]),o={owner:"editable",editor:"editable",reader:"readonly",commentator:"commentable"};return a?g.a.set(e,n,a.map(function(e){return e.get("user")===r?e.set("role",i).set("permission",o[i]):e})):e},s[_.a.TRANSFER_OWNER_ROLE]=function(e,t){var n=t.fileId,r=t.userId,i=e.getIn(["data",n]);return i?g.a.set(e,n,i.map(function(e){return"owner"===e.get("role")?e.set("role","editor").set("owner",!1):e.get("user")===r?e.set("role","owner").set("owner",!0):e})):e},s)),S={owner:"editable",editor:"editable",reader:"readonly",commentator:"commentable"},I=Object(E.i)(g.a.initialStructure,((c={})[_.a.PRELOAD]=function(e,t){var n=t.collabDepts;return n?e.merge({diff:Object(O.Map)(n.diff),mirror:Object(O.Map)(n.mirror),persist:Object(O.Set)(n.persist),data:Object(O.fromJS)(n.data)}):e},c[_.a.GET_COLLABDEPTS]=function(e,t){var n=t.spaceId,r=t.collabDepts;return r=r.map(function(e){return Object(p.__assign)(Object(p.__assign)({},e),{permission:S[e.role]})}),g.a.set(e,n,r)},c[_.a.ADD_COLLABDEPTS]=function(e,t){var n=t.spaceId,r=t.data,i=g.a.get(e,n,Object(O.List)());return r=r.map(function(e){return Object(p.__assign)(Object(p.__assign)({},e),{permission:S[e.role]})}),g.a.set(e,n,i.concat(Object(O.fromJS)(r.filter(function(t){return i.every(function(e){return e.get("id")!==t.id})}))))},c[_.a.REMOVE_COLLABDEPT]=function(e,t){var n=t.spaceId,r=t.deptId,i=g.a.get(e,n);return i?g.a.set(e,n,i.filterNot(function(e){return e.get("id")===r})):e},c[_.a.UPDATE_COLLABDEPT_ROLE]=function(e,t){var n=t.spaceId,r=t.deptId,i=t.role,a=e.getIn(["data",n]);return a?g.a.set(e,n,a.map(function(e){return e.get("id")===r?e.set("role",i).set("permission",S[i]):e})):e},c)),v=Object(E.i)(Object(O.Map)({list:Object(O.List)()}),((u={})[_.a.PRELOAD]=function(e,t){var n=t.created;return n?Object(O.fromJS)(n):e},u[_.a.GET_CREATED_FILES]=function(e,t){var n=t.data.list,r=t.data.nextURL,i=e&&e.get("list")||Object(O.List)([]),a=e&&e.get("nextURL")||{};return t.pollNewest?e.get("nextURL")?Object(O.Map)({list:Object(O.List)(Object(O.OrderedSet)(Object(O.List)(n).concat(i))),nextURL:a}):Object(O.Map)({list:Object(O.List)(n),nextURL:r}):Object(O.Map)({list:Object(O.List)(i).concat(n),nextURL:r})},u[_.a.CREATE_FILE]=function(e,t){var n=t.data.guid;return e?e.set("list",e.get("list").unshift(n)):Object(O.List)([n])},u[_.a.CREATE_FILE_BY_TEMPLATE]=function(e,t){var n=t.data.guid;return e?e.set("list",e.get("list").unshift(n)):Object(O.List)([n])},u[_.a.PUSH_DESTROY_FILE]=function(e,t){var n=t.guid;return e?e.set("list",e.get("list").filter(function(e){return e!==n})):e},u[_.a.REMOVE_FILE]=function(e,t){var n=t.guid;return e?e.set("list",e.get("list").filter(function(e){return e!==n})):e},u[_.a.REMOVE_FILES]=function(e,t){var n=t.guids;return e?e.set("list",e.get("list").filter(function(e){return-1===n.indexOf(e)})):e},u[_.a.EXIT_FILE]=function(e,t){var n=t.guid;return e?e.set("list",e.get("list").filter(function(e){return e!==n})):e},u[_.a.BULK_RESTORE]=function(e,t){var n=t.created;return n?Object(O.Map)({list:Object(O.List)(n.list)}):e},u[_.a.PUSH_CREATE_FILE]=function(e,t){var n=t.guid;return"owner"===t.role?e?e.set("list",e.get("list").filter(function(e){return e!==n}).unshift(n)):Object(O.Map)({list:Object(O.List)([n]),nextURL:void 0}):e},u[_.a.BG_SYNC_FILE]=function(e,t){var n=t.guid,r=t.mirrorTo;if(!e)return null;if(!r)return e;var i=e.get("list"),a=i.findIndex(function(e){return e===n});if(-1===a)return e;var o=i.set(a,r);return e.set("list",o)},u)),A=Object(E.i)(null,((d={})[_.a.PRELOAD]=function(e,t){var n=t.deleted;return n?Object(O.fromJS)(n):e},d[_.a.GET_DELETED_FILES]=function(e,t){return Object(O.List)(t)},d[_.a.BULK_RESTORE]=function(e,t){var n=t.deleted;return n?Object(O.List)(n):e},d[_.a.BG_SYNC_FILE]=function(e,t){var n=t.guid,r=t.mirrorTo;return e&&r?e.map(function(e){return e===n?r:e}):e},d[_.a.CANCEL_DELETE]=function(e,t){var n=t.guid;return e.delete(e.keyOf(n))},d[_.a.DELETE_TRASH]=function(e,t){var n=t.guid;return e.delete(e.keyOf(n))},d[_.a.PUSH_DESTROY_FILE]=function(e,t){var n=t.guid;return e?e.push(n):Object(O.List)([n])},d)),R=n(182),y=n.n(R),N=n(68),C=n.n(N),L=n(31),j={},D=Object(E.i)(Object(O.Map)(),((f={})[_.a.PRELOAD]=function(e,t){var n=t.discussions;return n?Object(O.fromJS)(n):e},f[_.a.START_RECEIVE_DISCUSSIONS]=function(e,t){return j[t]?(j[t]++,e):(j[t]=1,Object(L.b)(t),e.set(t,Object(O.Map)({loaded:!1})))},f[_.a.STOP_RECEIVE_DISCUSSIONS]=function(e,t){if(j[t]){if(--j[t])return e;delete j[t]}return Object(L.c)(t),e.remove(t)},f[_.a.GET_DISCUSSIONS]=function(e,t){var n=t.guid,r=t.data,i=e.get(n);if(i){if(r.loaded=!0,i.get("loaded")){var a=i.get("list").toJS();r.list=y()(C()(a,r.list,"id"),function(e){return-e.unixus})}return e.set(n,Object(O.fromJS)(r))}return e},f[_.a.MARK_VIEWED_DISCUSSIONS]=function(e,t){var n=t.guid,r=t.viewedUnixus,i=e.get(n);return i&&i.get("loaded")?e.update(n,function(e){return e.set("viewed_unixus",r).set("unviewed_count",0)}):e},f[_.a.PUSH_CREATE_DISCUSSION]=function(e,t){var n=t.id,r=t.data.file.guid,i=e.get(r);if(i&&i.get("loaded")&&-1===i.get("list").findIndex(function(e){return e.get("id")===n})){delete t.event,delete t.data.file;var a=Object(O.fromJS)(t);return e.update(r,function(e){return e.update("total",function(e){return e+1}).update("unviewed_count",function(e){return e+1}).update("list",function(e){return e.splice(0,0,a)})})}return e},f[_.a.PUSH_DELETE_DISCUSSION]=function(e,t){var n=t.id,r=t.data.file.guid,i=e.get(r);if(i&&i.get("loaded")){var a=i.get("list").findIndex(function(e){return e.get("id")===n});if(-1!==a){var o=i.getIn(["list",a,"unixus"])<=i.get("viewed_unixus");return e.update(r,function(e){return e.update("total",function(e){return Math.max(e-1,0)}).update("unviewed_count",function(e){return o?e:Math.max(e-1,0)}).update("list",function(e){return e.remove(a)})})}}return e},f)),P=n(9),x=n.n(P),M=n(41),U=n.n(M),F={readable:!0,editable:!0,commentable:!0,manageable:!0,sheetLockable:!0,exitable:!1,collaboratorManageable:!0,outsiderAddable:!1,childFileCreatable:!0,shareModeManageable:!0,moveable:!0,copyable:!0,exportable:!0,lockable:!1,unlockable:!1,adminManageable:!1,removable:!0},w=Object.keys(F),B=w.length,G=Object(E.e)([],F),H=(l=G,Object(p.__extends)(z,l),z.prototype.checkEqual=function(e){for(var t=0;t<B;t++){var n=w[t];if(this.get(n)!==e[n])return!1}return!0},z);function z(){return null!==l&&l.apply(this,arguments)||this}var Y,k=Object(E.e)(["role","permission","created"]),$=["canAdmin","canComment","canEdit","canExit","canLock","canModifyAdmins","canModifyCollaborators","canModifyOwner","canRead","canRemove","canSee","canUnlock"],V=(Y=k,Object(p.__extends)(W,Y),W.prototype.checkEqual=function(e){if(!e)return!0;if(this.get("role")!==e.role)return!1;if(this.getIn(["created","time"])!==e.created.time||this.getIn(["created","userId"])!==e.created.userId)return!1;for(var t=0;t<$.length;t++){var n=$[t];if(this.getIn(["permission",n])!==e.permission[n])return!1}return!0},W);function W(){return null!==Y&&Y.apply(this,arguments)||this}var K=new H,X=["id","guid","name","type","subType","thumbnailUrl","downloadUrl","fileSize","user","preview","updatedUser","teamId","parentId","shareMode","password","role","lastUsedAt","lastAction","createdAt","updatedAt","sharedAt","moment","excerpt","sharedUser","passwordProtected","sortName","duplicateAction","created","updated","deleted","contentKey","hasPassword","privilege","isSpace","isFromSVC","supportPDFPreview","isLocked","lockedUser","lockedAt","isShortcut","watermark","onlyAdminsCanModifyCollaborators","hasUnprivilegedParent","parentRole","team"],J={isNew:!1,starred:!1,watched:!1,mute:!1,requirePassword:!1,collaboratorCount:0,departmentCollaboratorCount:0,views:0,marked:!1,hasDesktopShortcut:!1,permissions:K,contentUrl:"",creator:null},q=Object.keys(J),Z=Object(E.e)(X,J);function Q(e){return e instanceof H?e:new H(e)}var ee,te=(ee=Z,Object(p.__extends)(ne,ee),ne.prototype.set=function(e,t){return-1===X.indexOf(e)&&-1===q.indexOf(e)?this:("permissions"===e?t=Q(t):"privilege"===e?t=function(e){return e instanceof V?e:new V(e)}(t):"type"===e&&(t=Object(E.b)(t)),ee.prototype.set.call(this,e,t))},ne.prototype.checkFieldEqual=function(e,t){if("sortName"===t)return this.checkFieldEqual(e,"name");var n=e[t],r=this.get(t);return"permissions"===t&&r&&n?r.checkEqual(n):"privilege"===t&&r&&n?r.checkEqual(n):("updated"===t||"created"===t)&&r&&n?r.get("time")===n.time:"team"===t&&r&&n?r.get("id")===n.id:"type"===t?r===Object(E.b)(n):r===n},ne);function ne(e){return e&&e.permissions&&(e.permissions=Q(e.permissions)),ee.call(this,e)||this}var re,ie,ae,oe,se,ce,ue=n(8),de={owner:"enterprise_editable",editor:"enterprise_editable",reader:"enterprise_readonly",commentator:"enterprise_commentable"},fe=((re={})[_.a.DEMO_FILE]=function(e,t){var n=t.guid;return ue.a.merge(e,n,{starred:!0},{factory:te})},re[_.a.CREATE_SPACE]=function(e,t){return ue.a.merge(e,t.guid,t,{create:!0,factory:te,source:"api"})},re[_.a.UPDATE_SPACE]=function(e,t){var n=t.guid,r=Object(p.__rest)(t,["guid"]);return ue.a.merge(e,n,r,{factory:te,source:"api"})},re[_.a.COVERT_TO_SPACE]=function(e,t){return ue.a.merge(e,t.guid,t,{factory:te,source:"api"})},re[_.a.REMOVE_SPACE_COLLABORATOR]=function(e,t){var n=t.spaceId;return null===ue.a.get(e,n)?ue.a.remove(ue.a.removeDiffProperties(e,n),n):e},re[_.a.GET_COLLABORATORS]=function(e,t){var n=t.fileId,r=t.collaborators;if(Array.isArray(r)&&n){var i={collaboratorCount:r.length};return ue.a.merge(e,n,i,{factory:te,source:"api"})}return e},re[_.a.GET_COLLABDEPTS]=function(e,t){var n=t.spaceId,r=t.collabDepts;if(Array.isArray(r)&&n){var i={departmentCollaboratorCount:r.length};return ue.a.merge(e,n,i,{factory:te,source:"api"})}return e},re[_.a.ADD_COLLABDEPTS]=function(e,t){var n=t.spaceId,r=t.data,i=ue.a.get(e,n);if(Array.isArray(r)&&n){var a={departmentCollaboratorCount:(i.departmentCollaboratorCount||0)+r.length};return r.reduce(function(e,t){return 1===(t.id||t.departmentId)&&t.role&&(e.shareMode=de[t.role]||i.shareMode),e},a),ue.a.merge(e,n,a,{factory:te,source:"api"})}return e},re[_.a.UPDATE_COLLABDEPT_ROLE]=function(e,t){var n=t.spaceId,r=t.deptId,i=t.role;return n&&1===r&&i?ue.a.merge(e,n,{shareMode:de[i]||ue.a.get(e,n).shareMode},{factory:te,source:"api"}):e},re[_.a.REMOVE_COLLABDEPT]=function(e,t){var n=t.spaceId,r=t.deptId,i=ue.a.get(e,n);if(r&&n){var a={departmentCollaboratorCount:(i.departmentCollaboratorCount||1)-1};return 1===r&&(a.shareMode="private"),ue.a.merge(e,n,a,{factory:te,source:"api"})}return e},re),le=Object(E.i)(ue.a.initialStructure,Object(p.__assign)(Object(p.__assign)({},fe),((ie={})[_.a.PRELOAD]=function(e,t){var n=t.files;return n?Object.keys(n.data).reduce(function(e,t){return n.data[t]?ue.a.merge(e,t,n.data[t],{source:"preload",factory:te,create:!0}):e},e.merge({diff:n.diff?Object(O.Map)(U()(n.diff,O.Set)):Object(O.Map)(),mirror:Object(O.Map)(n.mirror),persist:Object(O.Set)(n.persist),data:Object(O.Map)()})):e},ie[_.a.MERGE_ENTITIES]=function(e,t){var n=t.files;return n?Object.keys(n).reduce(function(e,t){return ue.a.merge(e,t,n[t],{source:"api",factory:te})},e):e},ie[_.a.CREATE_SHORTCUT]=function(e,t){var n=t.guid;return ue.a.merge(e,n,{hasDesktopShortcut:!0},{source:"api",factory:te})},ie[_.a.REMOVE_SHORTCUT]=function(e,t){var n=t.guid;return ue.a.merge(e,n,{hasDesktopShortcut:!1},{source:"api",factory:te})},ie[_.a.MARK_FILE]=function(e,t){var n=t.guid;return ue.a.merge(e,n,{marked:!1},{source:"api",factory:te})},ie[_.a.STAR_FILE]=function(e,t){var n=t.guid;return ue.a.merge(e,n,{starred:!0},{factory:te})},ie[_.a.UNSTAR_FILE]=function(e,t){var n=t.guid;return ue.a.merge(e,n,{starred:!1},{factory:te})},ie[_.a.LOCK_FILE]=function(e,t){var n=t.guid;return ue.a.has(e,n)?ue.a.merge(e,n,{isLocked:!0},{source:"api",factory:te}):e},ie[_.a.UNLOCK_FILE]=function(e,t){var n=t.guid;return ue.a.has(e,n)?ue.a.merge(e,n,{isLocked:!1},{source:"api",factory:te}):e},ie[_.a.MUTE_FILE]=function(e,t){var n=t.guid;return ue.a.has(e,n)?ue.a.merge(e,n,{mute:!0},{source:"api",factory:te}):e},ie[_.a.UNMUTE_FILE]=function(e,t){var n=t.guid;return ue.a.has(e,n)?ue.a.merge(e,n,{mute:!1},{source:"api",factory:te}):e},ie[_.a.PUSH_MARK_FILE]=function(e,t){var n=t.guid;return ue.a.has(e,n)?ue.a.merge(e,n,{marked:!1},{source:"api",factory:te}):e},ie[_.a.PUSH_MARK_ALL_FILES_WITH_IDS]=function(t,e){var n=e.ids,r=t;return n&&n.forEach(function(e){ue.a.has(t,e)&&(r=ue.a.merge(t,e,{marked:!1},{source:"api",factory:te}))}),r},ie[_.a.PUSH_STAR_FILE]=function(e,t){var n=t.guid;return ue.a.has(e,n)?ue.a.merge(e,n,{starred:!0},{source:"api",factory:te}):e},ie[_.a.PUSH_UNSTAR_FILE]=function(e,t){var n=t.guid;return ue.a.merge(e,n,{starred:!1},{source:"api",factory:te})},ie[_.a.PUSH_UPDATE_COLLABORATOR_COUNT]=function(e,t){var n=t.type,r=t.guid,i=t.collaboratorCount,a=ue.a.get(e,r);if(!a)return e;if(i=a.collaboratorCount||i,"add"===n)i+=1;else{if("delete"!==n)return e;i-=1}return ue.a.merge(e,r,{collaboratorCount:i},{source:"api",factory:te})},ie[_.a.UPDATE_FILE_NAME]=function(e,t){var n=t.guid,r=t.name;return ue.a.merge(e,n,{name:r},{factory:te})},ie[_.a.UPDATE_FILE_SHARE_MODE]=function(e,t){var n=t.guid,r=t.shareMode,i=t.passwordProtected;return ue.a.merge(e,n,{shareMode:r,passwordProtected:i},{source:"api",factory:te})},ie[_.a.SET_FILE_PASSWORD_PROTECTED]=function(e,t){var n=t.guid,r=t.password;return ue.a.merge(e,n,{passwordProtected:!0,password:r},{source:"api",factory:te})},ie[_.a.SET_FILE_PASSWORD_UNPROTECTED]=function(e,t){var n=t.guid;return ue.a.merge(e,n,{passwordProtected:!1},{source:"api",factory:te})},ie[_.a.UPDATE_FILE_SHARE_PASSWORD]=function(e,t){var n=t.guid,r=t.password;return ue.a.merge(e,n,{password:r},{source:"api",factory:te})},ie[_.a.CREATE_FILE]=function(e,t){var n=t.data;return ue.a.merge(e,n.guid,x()({},n,{isNew:!0}),{create:!0,factory:te})},ie[_.a.CREATE_FILE_BY_TEMPLATE]=function(e,t){var n=t.data;return ue.a.merge(e,n.guid,x()({},n),{create:!0,factory:te,source:"api"})},ie[_.a.PUSH_DESTROY_FILE]=function(e,t){var n=t.guid;return ue.a.remove(ue.a.removeDiffProperties(e,n),n)},ie[_.a.REMOVE_FILE]=function(e,t){var n=t.guid;return ue.a.remove(ue.a.removeDiffProperties(e,n),n)},ie[_.a.REMOVE_FILES]=function(e,t){return t.guids.reduce(function(e,t){return ue.a.remove(ue.a.removeDiffProperties(e,t),t)},e)},ie[_.a.MOVE_FILES]=function(r,e){return e.guids.reduce(function(e,t){var n=ue.a.get(r,t);return ue.a.merge(e,t,{isFromSVC:n.isFromSVC},{source:"api",factory:te})},r)},ie[_.a.EXIT_FILE]=function(e,t){var n=t.guid;return ue.a.remove(e,n)},ie[_.a.REMOVE_FILE_SHORTCUT]=function(e,t){return t.guids.reduce(function(e,t){return ue.a.remove(ue.a.removeDiffProperties(e,t),t)},e)},ie[_.a.RESTORE_DIFF]=function(e,t){var n=t.files;return n?ue.a.setDiff(e,n):e},ie[_.a.RESTORE_SCHEMA]=function(e,t){var n=t.files;return n?e.update("data",function(e){return e.withMutations(function(t){Object.keys(n).forEach(function(e){t.set(e,n[e]&&(new te).merge(n[e]))})})}):e},ie[_.a.PERSIST]=function(e,t){return"files"===t?ue.a.unsetPersist(e):e},ie[_.a.RECOVER_STATE_BY_REMOVING_DIFF]=function(e,t){var n=t.id;return"files"===t.model?ue.a.removeDiffProperties(e,n):e},ie[_.a.RECOVER_STATE_BY_MARKING_MODEL]=function(e,t){var n=t.id,r=t.model,i=e.get("recover",Object(O.Set)());return"files"!==r||i.has(n)||(e=e.set("recover",i.add(n))),e},ie[_.a.REMOVE_COLLABORATOR]=function(e,t){var n=t.fileId;return null===ue.a.get(e,n)?ue.a.remove(ue.a.removeDiffProperties(e,n),n):e},ie[_.a.BG_SYNC_FILE]=function(e,t){var n=t.guid,r=t.resolved,i=t.mirrorTo;return r&&(e=ue.a.removeDiffProperties(e,n,r)),i&&(e=ue.a.createMirror(ue.a.merge(e,n,{guid:i},{source:"api",factory:te}),n,i)),e},ie[_.a.TRANSFER_OWNER_ROLE]=function(e,t){var n=t.fileId,r=t.file;return ue.a.merge(e,n,r,{source:"api",factory:te})},ie[_.a.VERIF_PASSWORD]=function(e,t){var n=t.guid;return t.result?ue.a.merge(e,n,{requirePassword:!1},{source:"api",factory:te}):e},ie[_.a.DUPLICATE_FILE]=function(e,t){var n=t.guid,r=t.me;return ue.a.merge(e,n,{user:r.id,updatedUser:r.id,duplicateAction:!0},{factory:te})},ie[_.a.DUPLICATE_FILES]=function(e,t){var n=t.guids,r=t.me;return n.reduce(function(e,t){return ue.a.merge(e,t,{user:r.id,updatedUser:r.id,duplicateAction:!0},{factory:te})},e)},ie[_.a.GET_WATERMARK]=function(e,t){var n=t.guid,r=t.status;return ue.a.merge(e,n,{watermark:r},{source:"api",factory:te})},ie[_.a.GET_FILE_ANCESTORS]=function(e,t){var n=t.guid,r=t.ancestors;if(!t.hasUnprivilegedParent)return e;var i=Object(p.__spread)(r,[n])[0];return ue.a.merge(e,i,{hasUnprivilegedParent:!0},{source:"api",factory:te})},ie[_.a.GET_FILE_CREATOR]=function(e,t){var n=t.creator,r=t.guid;return ue.a.merge(e,r,{creator:n},{source:"api",factory:te})},ie))),_e=Object(E.e)(["createdAt","data","id","isRead","name","updatedAt","userId"]),pe=Object(E.i)(Object(O.Map)(),((ae={})[_.a.PRELOAD]=function(e,t){var n=t.flashMessages;return n?Object(O.fromJS)(n):e},ae[_.a.GET_FLASH_MESSAGES]=function(e,t){if(null===t)return e||Object(O.Map)();if(e&&e instanceof O.Map){var n=t.map(function(e){var t;return(t={})[e.name]=new _e(e),t});return e.merge.apply(e,Object(p.__spread)(n))}var r=t.reduce(function(e,t){return e[t.name]=new _e(t),e},{});return Object(O.Map)(r)},ae[_.a.SET_FLASH_MESSAGE_READ]=function(e,t){return e.updateIn([t,"isRead"],function(){return 1})},ae[_.a.BULK_RESTORE]=function(e,t){var n=t.flashMessages;if(!n)return e;var r={};for(var i in n)r[i]=new _e(n[i]);return Object(O.Map)(r)},ae)),Ee=Object(E.i)({},((oe={})[_.a.PRELOAD]=function(e,t){return t.maintenance||e},oe[_.a.UPDATE_MAINTENANCE]=function(e,t){return t},oe)),me=n(450),Oe=Object(E.i)(Object(me.a)(),((se={})[_.a.PRELOAD]=function(e,t){var n=t.me;return n?Object(me.a)(n):e},se[_.a.GENERIC_LOGIN]=function(e,t){var n=t.id,r=t.token;return e.merge({id:n,token:r,stale:!1})},se[_.a.LOGIN_WITH_CORS_SESSION]=function(e,t){var n=t.id;return e.merge({id:n,stale:!1})},se[_.a.SET_CURRENT_USER]=function(e,t){var n=t.id;return e.merge({id:n,stale:!1})},se[_.a.REMOVE_CURRENT_USER]=function(e){return e.merge({id:void 0,token:void 0,stale:e.id})},se[_.a.SET_ANONYMOUS_USER]=function(e,t){var n=t.id;return e.merge({id:n})},se[_.a.BULK_RESTORE]=function(e,t){var n=t.me;return n?Object(me.a)(n):e},se)),be=Object(E.e)(["id","type","file","fileId","user","msg","msgType","teamName","link","createdAt","targetType","targetId","commentId","discussionId","discussionUnixus","selectionTitle","status","action","remindAt","like","path","isFromSVC","isSpace","fileName"]),Te=Object(E.e)(["guid","name","type","mute","isFromSVC","isSpace"]),ge=(ce=Object(E.e)(["id","name","avatar","email","teamId","teamName"]),Object(p.__extends)(he,ce),he);function he(e){return e.team&&(e.teamId=e.team.id,e.teamName=e.team.name),ce.call(this,e)||this}var Se,Ie,ve=(Se=be,Object(p.__extends)(Ae,Se),Ae);function Ae(e){var t=this,n=e.notification;if(n)n.file=Object.assign({guid:n.fileGuid,type:Object(E.b)(n.fileType)},n.file,{isSpace:n.isSpace,isFromSVC:n.isFromSVC,name:n.fileName||n.file&&n.file.name||""}),t=Se.call(this,{id:e.id,fileId:n&&n.fileId,file:n&&n.file&&new Te(n.file),user:n&&n.user&&new ge(n.user),msg:n&&n.msg,type:n&&n.type,msgType:n&&n.msgType,teamName:n&&n.teamName,targetType:n&&n.targetType,targetId:n&&n.targetId,commentId:n&&n.commentId,discussionId:n&&n.discussionId,discussionUnixus:n&&n.discussionUnixus,selectionTitle:n&&n.selectionTitle,link:n&&n.link,status:e.status,createdAt:e.createdAt,action:n&&n.action,remindAt:n&&n.remindAt,like:n&&n.like,path:n&&n.path})||this;else{var r=x()({user:void 0},e);r.file=e.file&&new Te(e.file),r.user=e.user&&new ge(e.user),t=Se.call(this,r)||this}return t}var Re,ye=Object(O.Map)({all:null,unread:null,allHasMore:!0,unreadHasMore:!0,unpeekedCount:0,unreadCount:0}),Ne=Object(E.i)(ye,((Ie={})[_.a.PRELOAD]=function(e,t){var n=t.notifications;return n?Object(O.fromJS)(n):e},Ie[_.a.SET_UNPEEKED_COUNT]=function(e,t){return e.set("unpeekedCount",t)},Ie[_.a.GET_NOTIFICATIONS]=function(e,t){function n(e,t){var n=e.concat(t).sort(function(e,t){return Date.parse(e.get("createdAt"))<Date.parse(t.get("createdAt"))}),r={};return n=n.filter(function(e){return!r[e.get("id")]&&(r[e.get("id")]=!0)})}var r=t.status,i=t.prepend,a=t.items,o=t.hasMore;"boolean"==typeof o&&(e=e.set(r+"HasMore",o));var s=Object(O.List)(a.map(function(e){return new ve(e)}));if(0===a.length)return null===e.get(r)?e.set(r,s):e;var c=e.get(r)||Object(O.List)();return i?e=e.update(r,function(e){return e?n(s,e):s}):0===c.size?e.set(r,s):e.update(r,function(e){return n(e,s)})},Ie[_.a.GET_UNREAD_NOTIFICATION_COUNT]=function(e,t){return e.set("unreadCount",t)},Ie[_.a.GET_UNPEAKED_NOTIFICATION_COUNT]=function(e,t){return e.set("unpeekedCount",t)},Ie[_.a.MARK_NOTIFICATIONS_READ]=function(e,t){e.get("all")&&(e=e.update("all",function(e){return Ce(e,t)}));var n=e.get("unread");if(n){var r=n.filter(function(e){return e.id!==t});n.size>r.size&&(e=e.set("unread",r).update("unreadCount",function(e){return e&&e-1}))}return e},Ie[_.a.MARK_NOTIFICATIONS_ALL_READ]=function(e){return e.get("all")&&(e=e.update("all",Ce)),e.set("unread",Object(O.List)()).set("unreadCount",0)},Ie[_.a.MUTE_FILE]=function(e,t){var n=t.guid;return e.get("all")&&(e=e.update("all",function(e){return Le(e,n,!0)})),e},Ie[_.a.UNMUTE_FILE]=function(e,t){var n=t.guid;return e.get("all")&&(e=e.update("all",function(e){return Le(e,n,!1)})),e},Ie[_.a.BULK_RESTORE]=function(e,t){var n=t.notifications;return n?Object(O.fromJS)(x()({},n,{all:n.all&&n.all.map(function(e){return new ve(e)}),unread:n.unread&&n.unread.map(function(e){return new ve(e)})})):e},Ie));function Ce(e,t){return e.map(function(e){return t&&e.id!==t?e:e.set("status","read")})}function Le(e,t,n){return e.map(function(e){return!t||e.file&&e.file.guid===t?e.setIn(["file","mute"],n):e})}var je,De,Pe,xe,Me,Ue,Fe=Object(E.i)(null,((Re={})[_.a.PRELOAD]=function(e,t){var n=t.recent;return n?Object(O.fromJS)(n):e},Re[_.a.GET_RECENT_FILES]=function(e,t){return Object(O.List)(t)},Re[_.a.CREATE_FILE]=function(e,t){var n=t.data.guid;return e?e.unshift(n):Object(O.List)([n])},Re[_.a.CREATE_FILE_BY_TEMPLATE]=function(e,t){var n=t.data.guid;return e?e.unshift(n):Object(O.List)([n])},Re[_.a.PUSH_DESTROY_FILE]=function(e,t){var n=t.guid;return e?e.filter(function(e){return e!==n}):e},Re[_.a.REMOVE_FILE]=function(e,t){var n=t.guid;return e?e.filter(function(e){return e!==n}):e},Re[_.a.REMOVE_FILES]=function(e,t){var n=t.guids;return e?e.filter(function(e){return-1===n.indexOf(e)}):e},Re[_.a.EXIT_FILE]=function(e,t){var n=t.guid;return e?e.filter(function(e){return e!==n}):e},Re[_.a.BULK_RESTORE]=function(e,t){var n=t.recent;return n?Object(O.List)(n):e},Re)),we=Object(E.i)(null,((je={})[_.a.PRELOAD]=function(e,t){var n=t.recentContacts;return n?Object(O.fromJS)(n):e},je[_.a.GET_RECENT_CONTACTS]=function(e,t){return Object(O.List)(t)},je[_.a.DELETE_RECENT_CONTACT]=function(e,t){var n=t.userId;return e?e.filter(function(e){return e!==n}):e},je)),Be=Object(E.i)({},((De={})[_.a.PRELOAD]=function(e,t){return t.settings||e},De[_.a.GET_SETTINGS]=function(e,t){return t||e},De[_.a.SET_SETTINGS]=function(e,t){return Object(p.__assign)(Object(p.__assign)({},e),t)},De[_.a.BULK_RESTORE]=function(e,t){return t.settings||e},De)),Ge=Object(E.i)(Object(O.Map)({list:Object(O.List)()}),((Pe={})[_.a.PRELOAD]=function(e,t){var n=t.shared;return n?Object(O.fromJS)(n):e},Pe[_.a.GET_SHARED_FILES]=function(e,t){var n=t.data.list,r=t.data.nextURL,i=e&&e.get("list")||Object(O.List)([]),a=e&&e.get("nextURL")||{};return t.pollNewest?e.get("nextURL")?Object(O.Map)({list:Object(O.List)(Object(O.OrderedSet)(Object(O.List)(n).concat(i))),nextURL:a}):Object(O.Map)({list:Object(O.List)(n),nextURL:r}):Object(O.Map)({list:Object(O.List)(i).concat(n),nextURL:r})},Pe[_.a.PUSH_CREATE_FILE]=function(e,t){var n=t.guid;return t.byAddCollaborator?e?e.set("list",e.get("list").filter(function(e){return e!==n}).unshift(n)):Object(O.Map)({list:Object(O.List)([n]),nextURL:void 0}):e},Pe[_.a.PUSH_DESTROY_FILE]=function(e,t){var n=t.guid;return e?e.set("list",e.get("list").filter(function(e){return e!==n})):e},Pe[_.a.REMOVE_FILE]=function(e,t){var n=t.guid;return e?e.set("list",e.get("list").filter(function(e){return e!==n})):e},Pe[_.a.REMOVE_FILES]=function(e,t){var n=t.guids;return e?e.set("list",e.get("list").filter(function(e){return-1===n.indexOf(e)})):e},Pe[_.a.EXIT_FILE]=function(e,t){var n=t.guid;return e?e.set("list",e.get("list").filter(function(e){return e!==n})):e},Pe[_.a.BULK_RESTORE]=function(e,t){var n=t.shared;return n?Object(O.Map)({list:Object(O.List)(n.list)}):e},Pe)),He=n(188),ze=n.n(He),Ye=Object(E.i)(Object(O.List)(),((xe={})[_.a.PRELOAD]=function(e,t){var n=t.shortcuts;return n?Object(O.fromJS)(n):e},xe[_.a.GET_SHORTCUTS]=function(e,t){return Object(O.List)(ze()(t))},xe[_.a.CREATE_SHORTCUT]=function(e,t){void 0===e&&(e=Object(O.List)());var n=t.guid,r=t.before,i=e.filter(function(e){return e!==n});if(r){var a=i.indexOf(r);return i.insert(a,n)}return i.push(n)},xe[_.a.UPDATE_SHORTCUT]=function(e,t){void 0===e&&(e=Object(O.List)());var n=t.guid,r=t.before,i=e.filter(function(e){return e!==n});if(r){var a=i.indexOf(r);return i.insert(a,n)}return i.push(n)},xe[_.a.REMOVE_SHORTCUT]=function(e,t){var n=t.guid;return e?e.filter(function(e){return e!==n}):e},xe[_.a.PUSH_DESTROY_FILE]=function(e,t){var n=t.guid;return e?e.filter(function(e){return e!==n}):e},xe[_.a.REMOVE_FILE]=function(e,t){var n=t.guid;return e?e.filter(function(e){return e!==n}):e},xe[_.a.REMOVE_FILES]=function(e,t){var n=t.guids;return e?e.filter(function(e){return-1===n.indexOf(e)}):e},xe[_.a.EXIT_FILE]=function(e,t){var n=t.guid;return e?e.filter(function(e){return e!==n}):e},xe[_.a.BULK_RESTORE]=function(e,t){var n=t.shortcuts;return n?Object(O.List)(n):e},xe)),ke=Object(E.i)({size:null},((Me={})[_.a.SPACE.GET_SIZE]=function(e,t){return Object(p.__assign)(Object(p.__assign)({},e),{size:t})},Me)),$e=Object(E.i)(null,((Ue={})[_.a.PRELOAD]=function(e,t){var n=t.starred;return n?Object(O.fromJS)(n):e},Ue[_.a.GET_STARRED_FILES]=function(e,t){return Object(O.List)(t)},Ue[_.a.STAR_FILE]=Ve,Ue[_.a.PUSH_STAR_FILE]=Ve,Ue[_.a.UNSTAR_FILE]=We,Ue[_.a.PUSH_UNSTAR_FILE]=We,Ue[_.a.PUSH_DESTROY_FILE]=function(e,t){var n=t.guid;return e?e.filter(function(e){return e!==n}):e},Ue[_.a.REMOVE_FILE]=function(e,t){var n=t.guid;return e?e.filter(function(e){return e!==n}):e},Ue[_.a.REMOVE_FILES]=function(e,t){var n=t.guids;return e?e.filter(function(e){return-1===n.indexOf(e)}):e},Ue[_.a.EXIT_FILE]=function(e,t){var n=t.guid;return e?e.filter(function(e){return e!==n}):e},Ue[_.a.BULK_RESTORE]=function(e,t){var n=t.starred;return n?Object(O.List)(n):e},Ue[_.a.BG_SYNC_FILE]=function(e,t){var n=t.guid,r=t.mirrorTo;return e&&r?e.map(function(e){return e===n?r:e}):e},Ue));function Ve(e,t){var n=t.guid;return e?e.includes(n)?e:e.unshift(n):Object(O.List)([n])}function We(e,t){var n=t.guid;return e?e.filter(function(e){return e!==n}):e}var Ke,Xe,Je,qe,Ze,Qe,et,tt,nt=Object(E.e)([],{online:!0,physicalOnline:!0,pendingRequests:0,dataLoaded:!0,pushClientId:Object(E.g)()}),rt=Object(E.i)(nt(),((Ke={})[_.a.PRELOAD]=function(e,t){var n=t.status;return n?nt(n):e},Ke[_.a.MARK_DATA_LOADED]=function(e,t){return e.set("dataLoaded",t)},Ke[_.a.INCREASE_PENDING_REQUESTS]=function(e){return e.update("pendingRequests",function(e){return e+1})},Ke[_.a.DECREASE_PENDING_REQUESTS]=function(e){return e.update("pendingRequests",function(e){return e-1})},Ke[_.a.SET_ONLINE_STATUS]=function(e,t){return t&&(e=e.set("physicalOnline",!0)),e.set("online",t)},Ke[_.a.SET_PHYSICAL_ONLINE_STATUS]=function(e,t){return e.set("physicalOnline",t)},Ke)),it={app_push_comment:!0,app_push_invitation:!0,app_push_team:!0,app_push_mention:!0,not_send_apn_when_web_online:!0,comment:!0,app_push_system:!0,desktop:!0,sms:!0},at=Object(E.i)(it,((Xe={})[_.a.PRELOAD]=function(e,t){return t.subscriptions||e},Xe[_.a.GET_SUBSCRIPTIONS]=function(e,t){if(t){var a=Object(p.__assign)({},it),o={};return t.forEach(function(e){var t=e.channel,n=e.isDelete,r=e.createdAt,i=Date.parse(r);a.hasOwnProperty(t)&&(!o[t]||o[t]<i)&&(o[t]=i,a[t]=1===n)}),a}return e},Xe[_.a.SWITCH_SUBSCRIPTIONS]=function(t,e){var n=e.channel,r=e.on;return Array.isArray(n)?n.forEach(function(e){t[e]=r}):t[n]=r,Object(p.__assign)({},t)},Xe)),ot=Object(E.i)(Object(O.Map)(),((Je={})[_.a.PRELOAD]=function(e,t){var n=t.syncedFiles;return n?Object(O.Map)(n):e},Je[_.a.BG_SYNC_FILE]=function(e,t){var n=t.guid,r=t.mirrorTo;return r?e.set(n,r):e},Je)),st=Object(E.i)(null,((qe={})[_.a.PRELOAD]=function(e,t){var n=t.teamMembers;return n?Object(O.fromJS)(n):e},qe[_.a.GET_TEAM_MEMBERS]=function(e,t){return null===t?Object(O.List)():Object(O.List)(t)},qe[_.a.ADD_TEAM_MEMBERS]=function(e,t){return e?e.concat(t):O.List[t]},qe[_.a.SET_ANONYMOUS_TEAM]=function(){return Object(O.List)([])},qe[_.a.BULK_RESTORE]=function(e,t){var n=t.teamMembers;return n?Object(O.List)(n):e},qe)),ct=Object(E.e)(["id","enterpriseId","name","type","scale","scaleNum","createdAt","membership","quickAction","dingtalkCorp","weworkCorp","seatMemberCount","settings","resources","isMerged"]),ut=Object(E.i)(ue.a.initialStructure,((Ze={})[_.a.PRELOAD]=function(e,t){var n=t.teams;if(!n)return e;var r=e.merge({diff:Object(O.fromJS)(n.diff),mirror:Object(O.fromJS)(n.mirror),persist:Object(O.Set)(n.persist),data:Object(O.Map)()});return Object.keys(n.data).reduce(function(e,t){return n.data[t]?ue.a.merge(e,Number(t),n.data[t],{source:"api",factory:ct,create:!0}):e},r)},Ze[_.a.MERGE_ENTITIES]=function(e,t){var n=t.teams;return n?Object.keys(n).reduce(function(e,t){return ue.a.merge(e,Number(t),n[t],{source:"api",factory:ct})},e):e},Ze[_.a.RESTORE_SCHEMA]=function(e,t){var n=t.teams;return n?e.update("data",function(e){return e.withMutations(function(t){Object.keys(n).forEach(function(e){t.set(Number(e),n[e]&&new ct(n[e]))})})}):e},Ze[_.a.PERSIST]=function(e,t){return"teams"===t?ue.a.unsetPersist(e):e},Ze[_.a.GET_TEAM_SETTINGS_BY_URL]=function(e,t){var n=t.teamId,r=t.url,i=t.setting;if(!n)return e;var a=(e.getIn(["data",n,"settings"])||Object(O.Map)()).set(r,i);return ue.a.merge(e,n,{settings:a},{source:"api",factory:ct})},Ze[_.a.UPDATE_TEAM_INFO]=function(e,t){var n=t.teamId,r=Object(p.__rest)(t,["teamId"]);return n?ue.a.merge(e,n,r,{source:"api",factory:ct}):e},Ze)),dt=Object(E.i)({},((Qe={})[_.a.PRELOAD]=function(e,t){return t.templates||e},Qe[_.a.GET_TEMPLATES]=function(e,t){return t||e},Qe[_.a.BULK_RESTORE]=function(e,t){return t.templates||e},Qe)),ft=Object(E.i)({limit:-1,valid:!0},((et={})[_.a.GET_TEMPLATE_LIMITS]=function(e,t){return t||e},et)),lt=n(34);var _t,pt=Object(E.i)(lt.b.initialStructure,((tt={})[_.a.PRELOAD]=function(e,t){var n=t.tree;return n?e.merge({diff:Object(O.fromJS)(n.diff),mirror:Object(O.fromJS)(n.mirror),persist:Object(O.Set)(n.persist),data:Object(O.fromJS)(n.data)}):e},tt[_.a.GET_FILE_CHILDREN]=function(e,t){var n=t.parent,r=t.children;return r.reduce(function(e,t){return lt.b.setParent(e,t,n)},lt.b.setChildren(e,n,r))},tt[_.a.CREATE_FILE]=function(e,t){var n=t.parent,r=t.data,i=r.type,a=r.guid;return e=lt.b.unshiftChildren(e,n,a),e=lt.b.setParent(e,a,n),"folder"===i&&(e=lt.b.setChildren(e,a,[])),e},tt[_.a.GET_SPACES]=function(e,t){var n=t.parent,r=t.children;return r.reduce(function(e,t){return lt.b.setParent(e,t,n)},lt.b.setChildren(e,n,r))},tt[_.a.SPACE.SORT]=function(e,t){var n=t.guid,r=t.beforeGuid,i=lt.b.getChildren(e,lt.a);return lt.b.setChildren(e,lt.a,function(e,t,n){if(!e)return e;var r=e.indexOf(t);-1<r&&(e=e.remove(r));var i=null===n?-1:e.indexOf(n);return-1===i?e.push(t):Object(O.List)(e.splice(i,0,t))}(i,lt.b.mirrorId(e,n),lt.b.mirrorId(e,r)))},tt[_.a.CREATE_SPACE]=function(e,t){var n=t.guid;return e=lt.b.unshiftChildren(e,"1",n),e=lt.b.setParent(e,n,"1")},tt[_.a.COVERT_TO_SPACE]=function(e,t){var n=t.guid;return e=lt.b.removeFromParent(e,n),e=lt.b.setParent(e,n,"0"),lt.b.unshiftChildren(e,"0",n)},tt[_.a.CREATE_FILE_BY_TEMPLATE]=function(e,t){var n=t.parent,r=t.data;return Ot(e,{guid:r.guid,parent:n,options:r.options})},tt[_.a.DUPLICATE_FILE]=function(e,t){var n=t.guid,r=t.sourceId,i=t.targetParentId||lt.b.getParent(e,r)||"0";return e=lt.b.unshiftChildren(e,i,n),lt.b.setParent(e,n,i)},tt[_.a.DUPLICATE_FILES]=function(e,t){var n=t.guids,r=t.sourceIds,i=t.targetParentId||lt.b.getParent(e,r[0])||"0";return e=n.reduce(function(e,t){return lt.b.unshiftChildren(e,i,t)},e),n.reduce(function(e,t){return lt.b.setParent(e,t,i)},e)},tt[_.a.SORT_FILE]=function(e,t){return Et(e,t.guid,t.before)},tt[_.a.MOVE_FILE]=function(e,t){return mt({state:e,guid:t.guid,target:t.target,after:t.after})},tt[_.a.MOVE_FILES]=function(n,e){var r=e.guids,i=e.target,a=e.after;return r.forEach(function(e,t){n=(0===t||(a=r[t-1]),mt({state:n,guid:e,target:i,after:a}))}),n},tt[_.a.PUSH_DESTROY_FILE]=function(e,t){var n=t.guid;return lt.b.remove(e,n)},tt[_.a.REMOVE_FILE]=function(e,t){var n=t.guid;return lt.b.remove(e,n)},tt[_.a.REMOVE_FILES]=function(e,t){return t.guids.reduce(function(e,t){return lt.b.remove(e,t)},e)},tt[_.a.EXIT_FILE]=function(e,t){var n=t.guid;return lt.b.remove(e,n)},tt[_.a.REMOVE_FILE_SHORTCUT]=function(e,t){return t.guids.reduce(function(e,t){return lt.b.remove(e,t)},e)},tt[_.a.BG_SYNC_FILE]=function(e,t){var n=t.guid,r=t.mirrorTo;return r&&e?lt.b.createMirror(e,n,r):e},tt[_.a.BULK_RESTORE]=function(e,t){var n=t.tree;return n?e.set("data",Object(O.fromJS)(n)):e},tt[_.a.GET_FILE_ANCESTORS]=function(e,t){var n=t.guid,r=t.ancestors,i=t.inSpace;if(!r)return e;for(var a=Object(p.__spread)([i?"1":"0"],r,[n]),o=0;o<a.length-1;o++)e=lt.b.setParent(e,a[o+1],a[o]);return e},tt[_.a.CREATE_FILE_SYNCHRONOUSLY]=function(e,t){return Ot(e,{guid:t.guid,parent:t.parent,options:t.options})},tt[_.a.PUSH_CREATE_FILE]=function(e,t){var n=t.guid,r=t.parent;return r&&lt.b.getChildren(e,r)?(e=lt.b.unshiftChildren(e,r,n),lt.b.setParent(e,n,r)):e},tt[_.a.PUSH_CHECK_FILE_MOVED]=function(e,t){var n=t.guid,r=t.parent,i=lt.b.getParent(e,n);return i&&r&&i!==r?(e=lt.b.removeFromParent(e,n),lt.b.getChildren(e,r)?lt.b.unshiftChildren(e,r,n):e):e},tt[_.a.PUSH_SORT_FILE]=function(e,t){return Et(e,t.guid,t.before)},tt[_.a.FULL_SYNCHRONIZATION]=function(n,r){return Object.keys(r).forEach(function(t){var e=r[t];e.forEach(function(e){n=lt.b.setParent(n,e,t)}),n=lt.b.setChildren(n,t,e)}),n},tt));function Et(e,t,n){var r=lt.b.getParent(e,t);if(!r)return e;var i=lt.b.getChildren(e,r);if(!i)return e;var a=i.findKey(function(e){return e===t});if(void 0===a)return e;if(i=i.remove(a),n&&n!==1/0){var o=i.findKey(function(e){return e===n});if(void 0===o)return e;i=i.insert(o,t)}else i=i.push(t);return lt.b.setChildren(e,r,i)}function mt(e){var t=e.state,n=e.guid,r=e.target,i=e.after;if(t=lt.b.removeFromParent(t,n),t=lt.b.setParent(t,n,r),i){var a=lt.b.getChildren(t,r),o=a.findKey(function(e){return e===i});return void 0===o?t:(a=a.insert(o+1,n),lt.b.setChildren(t,r,a))}return lt.b.unshiftChildren(t,r,n)}function Ot(e,t){var n=t.guid,r=t.parent,i=t.options;if(!r||!lt.b.getChildren(e,r))return e;var a=i.after;if(a){var o=lt.b.getChildren(e,r),s=o.findKey(function(e){return e===a});return void 0===s?e:(o=o.insert(s+1,n),e=lt.b.setParent(e,n,r),lt.b.setChildren(e,r,o))}return e=lt.b.unshiftChildren(e,r,n),lt.b.setParent(e,n,r)}var bt,Tt,gt,ht,St=Object(E.i)(null,((_t={})[_.a.PRELOAD]=function(e,t){var n=t.unreadShared;return n?Object(O.fromJS)(n):e},_t[_.a.GET_UNREAD_SHARED_FILES]=function(e,t){return Object(O.List)(t)},_t[_.a.MARK_ALL_SHARED_FILES]=function(){return Object(O.List)()},_t[_.a.PUSH_CREATE_FILE]=function(e,t){var n=t.guid;return t.byAddCollaborator?e?e.filter(function(e){return e!==n}).unshift(n):Object(O.List)([n]):e},_t[_.a.PUSH_MARK_FILE]=function(e,t){var n=t.guid;return e?e.filter(function(e){return e!==n}):e},_t[_.a.PUSH_MARK_ALL_FILES_WITH_IDS]=function(){return Object(O.List)()},_t[_.a.PUSH_DESTROY_FILE]=function(e,t){var n=t.guid;return e?e.filter(function(e){return e!==n}):e},_t[_.a.REMOVE_FILE]=function(e,t){var n=t.guid;return e?e.filter(function(e){return e!==n}):e},_t[_.a.REMOVE_FILES]=function(e,t){var n=t.guids;return e?e.filter(function(e){return-1===n.indexOf(e)}):e},_t[_.a.EXIT_FILE]=function(e,t){var n=t.guid;return e?e.filter(function(e){return e!==n}):e},_t[_.a.BULK_RESTORE]=function(e,t){var n=t.unreadShared;return n?Object(O.List)(n):e},_t)),It=Object(E.i)(Object(O.Map)({list:Object(O.List)()}),((bt={})[_.a.PRELOAD]=function(e,t){var n=t.updated;return n?Object(O.fromJS)(n):e},bt[_.a.GET_UPDATED_FILES]=function(e,t){var n=t.data.list,r=t.data.nextURL,i=e&&e.get("list")||Object(O.List)([]),a=e&&e.get("nextURL")||{};return t.pollNewest?e.get("nextURL")?Object(O.Map)({list:Object(O.List)(Object(O.OrderedSet)(Object(O.List)(n).concat(i))),nextURL:a}):Object(O.Map)({list:Object(O.List)(n),nextURL:r}):Object(O.Map)({list:Object(O.List)(i).concat(n),nextURL:r})},bt[_.a.CREATE_FILE]=function(e,t){var n=t.data.guid;return e?e.set("list",e.get("list").unshift(n)):Object(O.List)([n])},bt[_.a.CREATE_FILE_BY_TEMPLATE]=function(e,t){var n=t.data.guid;return e?e.set("list",e.get("list").unshift(n)):Object(O.List)([n])},bt[_.a.PUSH_DESTROY_FILE]=function(e,t){var n=t.guid;return e?e.set("list",e.get("list").filter(function(e){return e!==n})):e},bt[_.a.REMOVE_FILE]=function(e,t){var n=t.guid;return e?e.set("list",e.get("list").filter(function(e){return e!==n})):e},bt[_.a.REMOVE_FILES]=function(e,t){var n=t.guids;return e?e.set("list",e.get("list").filter(function(e){return-1===n.indexOf(e)})):e},bt[_.a.EXIT_FILE]=function(e,t){var n=t.guid;return e?e.set("list",e.get("list").filter(function(e){return e!==n})):e},bt[_.a.BULK_RESTORE]=function(e,t){var n=t.updated;return n?Object(O.Map)({list:Object(O.List)(n.list)}):e},bt[_.a.BG_SYNC_FILE]=function(e,t){var n=t.guid,r=t.mirrorTo;if(!e)return null;if(!r)return e;var i=e.get("list"),a=i.findIndex(function(e){return e===n});if(-1===a)return e;var o=i.set(a,r);return e.set("list",o)},bt)),vt=Object(E.i)(Object(O.Map)({list:Object(O.List)()}),((Tt={})[_.a.PRELOAD]=function(e,t){var n=t.used;return n?Object(O.fromJS)(n):e},Tt[_.a.GET_USED_FILES]=function(e,t){var n=t.data.list,r=t.data.nextURL,i=e&&e.get("list")||Object(O.List)([]),a=e&&e.get("nextURL")||{};return t.pollNewest?e.get("nextURL")?Object(O.Map)({list:Object(O.List)(Object(O.OrderedSet)(Object(O.List)(n).concat(i))),nextURL:a}):Object(O.Map)({list:Object(O.List)(n),nextURL:r}):Object(O.Map)({list:Object(O.List)(i).concat(n),nextURL:r})},Tt[_.a.CREATE_FILE]=function(e,t){var n=t.data.guid;return e?e.set("list",e.get("list").unshift(n)):Object(O.List)([n])},Tt[_.a.CREATE_FILE_BY_TEMPLATE]=function(e,t){var n=t.data.guid;return e?e.set("list",e.get("list").unshift(n)):Object(O.List)([n])},Tt[_.a.PUSH_DESTROY_FILE]=function(e,t){var n=t.guid;return e?e.set("list",e.get("list").filter(function(e){return e!==n})):e},Tt[_.a.REMOVE_FILE]=function(e,t){var n=t.guid;return e?e.set("list",e.get("list").filter(function(e){return e!==n})):e},Tt[_.a.REMOVE_FILES]=function(e,t){var n=t.guids;return e?e.set("list",e.get("list").filter(function(e){return-1===n.indexOf(e)})):e},Tt[_.a.EXIT_FILE]=function(e,t){var n=t.guid;return e?e.set("list",e.get("list").filter(function(e){return e!==n})):e},Tt[_.a.BULK_RESTORE]=function(e,t){var n=t.used;return n?Object(O.Map)({list:Object(O.List)(n.list)}):e},Tt[_.a.PUSH_CREATE_FILE]=function(e,t){var n=t.guid;return"owner"===t.role?e?e.set("list",e.get("list").filter(function(e){return e!==n}).unshift(n)):Object(O.Map)({list:Object(O.List)([n]),nextURL:void 0}):e},Tt[_.a.BG_SYNC_FILE]=function(e,t){var n=t.guid,r=t.mirrorTo;if(!e)return null;if(!r)return e;var i=e.get("list"),a=i.findIndex(function(e){return e===n});if(-1===a)return e;var o=i.set(a,r);return e.set("list",o)},Tt)),At=Object(E.i)(Object(O.Map)(),((gt={})[_.a.PRELOAD]=function(e,t){var n=t.userGuide;return n?Object(O.fromJS)(n):e},gt[_.a.GET_USER_GUIDE_INFO]=function(e,t){return void 0===t&&(t={}),Object(O.Map)(t)},gt[_.a.UPDATE_USER_GUIDE_INFO]=function(e,t){var n=t.type;return!1===e.get(n)?e.set(n,!0):e},gt[_.a.BULK_RESTORE]=function(e,t){var n=t.userGuide;return n?Object(O.Map)(n):e},gt)),Rt=["accountType","accountTypeExpiredAt","isOfficial","isNewDing","isEnterprisePremium"],yt=Object(E.e)(Rt),Nt=(ht=yt,Object(p.__extends)(Ct,ht),Ct.prototype.checkEqual=function(e){for(var t=0;t<Rt.length;t++){var n=Rt[t];if(this.get(n)!==e[n])return!1}return!0},Ct);function Ct(){return null!==ht&&ht.apply(this,arguments)||this}var Lt,jt=["isDingtalk","isEnterprise","isEnterprisePremium","isExpired","isFreeEnterprise","isPersonalPremium","isTrial","isWework"],Dt=Object(E.e)(jt),Pt=(Lt=Dt,Object(p.__extends)(xt,Lt),xt.prototype.checkEqual=function(e){for(var t=jt,n=0;n<t.length;n++){var r=t[n];if(this.get(r)!==e[r])return!1}return!0},xt);function xt(){return null!==Lt&&Lt.apply(this,arguments)||this}var Mt=Object(E.e)(["id","name","email","hiddenEmail","mobileAccount","mobile","hiddenMobile","hasPassword","avatar","membership","accountMetadata","team","teamRole","teamTime","status","wechatBound","isOutsider","isSeat","createdAt","mergedInto","role","activitiesList"]);function Ut(e){return e instanceof Nt?e:new Nt(e)}function Ft(e){return e instanceof Pt?e:new Pt(e)}var wt,Bt,Gt=(wt=Mt,Object(p.__extends)(Ht,wt),Ht.prototype.set=function(e,t){return"membership"===e&&(t=Ut(t)),"accountMetadata"===e&&(t=Ft(t)),wt.prototype.set.call(this,e,t)},Ht.prototype.checkFieldEqual=function(e,t){var n=e[t],r=this.get(t);return"membership"===t&&r&&n?r.checkEqual(n):"accountMetadata"===t&&r&&n?r.checkEqual(n):r===n},Ht);function Ht(e){return e&&(!e.team&&e.teamId&&(e.team=e.teamId),e.membership&&(e.membership=Ut(e.membership)),e.accountMetadata&&(e.accountMetadata=Ft(e.accountMetadata))),wt.call(this,e)||this}var zt,Yt,kt=Object(E.i)(ue.a.initialStructure,((Bt={})[_.a.PRELOAD]=function(e,t){var n=t.users;return n?Object.keys(n.data).reduce(function(e,t){return n.data[t]?ue.a.merge(e,Number(t),n.data[t],{source:"preload",factory:Gt,create:!0}):e},e.merge({diff:n.diff?Object(O.Map)(U()(n.diff,O.Set)):Object(O.Map)(),mirror:Object(O.Map)(n.mirror),persist:Object(O.Set)(n.persist),data:Object(O.Map)()})):e},Bt[_.a.MERGE_ENTITIES]=function(e,t){var r=t.users;return r?Object.keys(r).reduce(function(e,t){var n=r[t];return!n.team&&n.teamId&&(n.team=n.teamId),/\*/.test(n.email)&&(n.hiddenEmail=n.email,delete n.email),/\*/.test(n.mobileAccount)&&(n.hiddenMobile=n.mobileAccount,delete n.mobileAccount),ue.a.merge(e,Number(t),n,{source:"api",factory:Gt})},e):e},Bt[_.a.UPDATE_USERNAME]=function(e,t){var n=t.id,r=t.name;return ue.a.merge(e,n,{name:r},{source:"api",factory:Gt})},Bt[_.a.UPDATE_AVATAR]=function(e,t){var n=t.id,r=t.avatar;return ue.a.merge(e,n,{avatar:r},{source:"api",factory:Gt})},Bt[_.a.SET_CURRENT_USER]=function(e,t){return ue.a.merge(e,t.id,t,{source:"api",factory:Gt})},Bt[_.a.GET_WECHAT_BINDING_STATUS]=function(e,t){var n=t.id,r=t.bound;return ue.a.merge(e,n,{wechatBound:r},{source:"api",factory:Gt})},Bt[_.a.BIND_WECHAT]=function(e,t){var n=t.id;return ue.a.merge(e,n,{wechatBound:!0},{source:"api",factory:Gt})},Bt[_.a.UNBIND_WECHAT]=function(e,t){var n=t.id;return ue.a.merge(e,n,{wechatBound:!1},{source:"api",factory:Gt})},Bt[_.a.UPDATE_EMAIL]=function(e,t){var n=t.id,r={email:t.email};return t.premium&&(r.membership=x()({},e.membership,{accountType:"personal_premium"})),ue.a.merge(e,n,r,{source:"api",factory:Gt})},Bt[_.a.BIND_ACCOUNT_EMAIL]=function(e,t){var n=t.id,r={email:t.email};return t.premium&&(r.membership=x()({},e.membership,{accountType:"personal_premium"})),ue.a.merge(e,n,r,{source:"api",factory:Gt})},Bt[_.a.ACCEPT_TEAM_INVITATION]=function(e,t){var n=t.userId,r=t.teamId;return ue.a.merge(e,n,{team:r},{source:"api",factory:Gt})},Bt[_.a.SET_MERGE_VIEWED]=function(e){var t=e.me.id;return ue.a.merge(e,t,{viewedMergePrompt:!0},{source:"api",factory:Gt})},Bt[_.a.RESTORE_DIFF]=function(e,t){var n=t.users;return n?ue.a.setDiff(e,n):e},Bt[_.a.RESTORE_SCHEMA]=function(e,t){var n=t.users;return n?e.update("data",function(e){return e.withMutations(function(t){Object.keys(n).forEach(function(e){t.set(Number(e),n[e]&&new Gt(n[e]))})})}):e},Bt[_.a.PERSIST]=function(e,t){return"users"===t?ue.a.unsetPersist(e):e},Bt[_.a.BIND_MOBILE_NUMBER]=function(e,t){var n=t.id,r=t.mobile;return ue.a.merge(e,n,{mobile:r},{source:"api",factory:Gt})},Bt[_.a.BIND_MOBILE_ACCOUNT]=function(e,t){var n=t.id,r=t.mobile,i=t.countryCode,a=t.isMobileAccount,o=t.premium,s={};return s[a?"mobileAccount":"mobile"]=i+r,o&&(s.membership=x()({},e.membership,{accountType:"personal_premium"})),ue.a.merge(e,n,s,{source:"api",factory:Gt})},Bt[_.a.UPDATE_MOBILE]=function(e,t){var n=t.id,r=t.mobile,i=t.countryCode;return ue.a.merge(e,n,{mobileAccount:i+r},{source:"api",factory:Gt})},Bt[_.a.UPDATE_PASSWORD]=function(e,t){var n=t.id;return ue.a.merge(e,n,{hasPassword:!0},{source:"api",factory:Gt})},Bt[_.a.JOIN_TEAM_BY_INVITE_GUID]=function(e,t){var n=t.teamId,r=t.id;return ue.a.merge(e,r,{team:n},{source:"api",factory:Gt})},Bt[_.a.GET_ACTIVITIES_LIST]=function(e,t){var n=t.id,r=t.activitiesList;return ue.a.merge(e,n,{activitiesList:r},{source:"api",factory:Gt})},Bt)),$t=Object(E.i)({},((zt={})[_.a.PRELOAD]=function(e,t){return t.wechat||e},zt[_.a.GET_WECHAT_INVITE_INFO]=function(e,t){var n=t.have_rewarded,r=void 0===n?0:n,i=t.not_yet_rewarded,a=void 0===i?0:i,o=t.rewarded_by_self_count,s=void 0===o?0:o,c=t.self_bind,u=void 0!==c&&c,d=t.rewarded_by_self_bind,f=void 0!==d&&d,l=t.is_reward_just,_=void 0!==l&&l;return Object(p.__assign)(Object(p.__assign)({},e),{inviteInfo:{count:r+a-s,bonus:15*a,isBound:u,isObtained:f,needRefresh:_}})},zt[_.a.WIN_PERSONAL_PREMIUM_VERSION]=function(e,t){var n=t.have_rewarded,r=void 0===n?0:n,i=t.not_yet_rewarded,a=void 0===i?0:i,o=t.rewarded_by_self_count,s=void 0===o?0:o,c=t.self_bind,u=void 0!==c&&c,d=t.rewarded_by_self_bind,f=void 0!==d&&d,l=t.is_reward_just,_=void 0!==l&&l;return Object(p.__assign)(Object(p.__assign)({},e),{inviteInfo:{count:r+a-s,bonus:15*a,isBound:u,isObtained:f,needRefresh:_}})},zt[_.a.WECHAT_REWARDED]=function(e){return Object(p.__assign)(Object(p.__assign)({},e),{inviteInfo:Object(p.__assign)(Object(p.__assign)({},e.inviteInfo),{isBound:!0,isObtained:!0})})},zt[_.a.WECHAT_REWARD_BY_INVITOR]=function(e){return Object(p.__assign)(Object(p.__assign)({},e),{inviteInfo:Object(p.__assign)(Object(p.__assign)({},e.inviteInfo),{count:e.inviteInfo?e.inviteInfo.count+1:0,bonus:e.inviteInfo?e.inviteInfo.bonus+15:0})})},zt[_.a.WECHAT_NO_REWARD]=function(e){return Object(p.__assign)(Object(p.__assign)({},e),{inviteInfo:Object(p.__assign)(Object(p.__assign)({},e.inviteInfo),{isBound:!0})})},zt)),Vt=Object(E.i)([],((Yt={})[_.a.GET_SCRIPTS]=function(e,t){return t||[]},Yt));n.d(t,"a",function(){return r})},,function(e,t,n){"use strict";n.r(t),n.d(t,"toFileTypeStr",function(){return T}),n.d(t,"toFileUrlStr",function(){return g}),n.d(t,"toNewAndOldTypeStr",function(){return h}),n.d(t,"typeToText",function(){return S}),n.d(t,"isSheet",function(){return I}),n.d(t,"isRichDocSheet",function(){return v}),n.d(t,"isMoDocSheet",function(){return A}),n.d(t,"isDoc",function(){return R}),n.d(t,"isModoc",function(){return y}),n.d(t,"isSlide",function(){return N}),n.d(t,"isForm",function(){return C}),n.d(t,"isBoard",function(){return L}),n.d(t,"isFolder",function(){return j}),n.d(t,"isNewDoc",function(){return D}),n.d(t,"isNewSheet",function(){return P}),n.d(t,"isMindmap",function(){return x}),n.d(t,"isCollabSpace",function(){return M}),n.d(t,"extractCorrectUpdateTimestamp",function(){return U}),n.d(t,"updateSummary",function(){return F}),n.d(t,"getFileUrl",function(){return H}),n.d(t,"isFileAuthorized",function(){return X}),n.d(t,"isFileCollaborator",function(){return J}),n.d(t,"isFilePublic",function(){return q}),n.d(t,"isFilePublicReadOnly",function(){return Z}),n.d(t,"isFilePublicEditable",function(){return Q}),n.d(t,"isFileManageable",function(){return ee}),n.d(t,"isCloudFile",function(){return te}),n.d(t,"fileNotification",function(){return ne}),n.d(t,"filterCopyShareDesc",function(){return re}),n.d(t,"fileCollaboratorStr",function(){return ie}),n.d(t,"formatSize",function(){return ae});var i,r,o=n(5),a=n(4),s=n(1),c=n.n(s),u=n(11),d=n.n(u),f=n(26),l=n(40),_=n(33),p=n(25),E=n(29),m=n(192),O=n.n(m),b="updated";(r=i=i||{})[r.Comment=1]="Comment",r[r.Update=2]="Update",r[r.Discuss=3]="Discuss";var T=function(e,t){void 0===t&&(t=!1);var n=a.fileTypes.find(e);return n?"doc"===n.type&&t&&"docx"===n.url?"docx":n.type:""},g=function(e){if(""===e||null==e)return"";var t=a.fileTypes.find(e);return t?t.url:""},h=function(e){var t=a.fileTypes.find(e);if(!t)return c()("云文件");switch(t.display){case c()("文档"):return"doc"===t.url?c()("旧文档"):c()("新文档");case c()("表格"):return"spreadsheet"===t.url?c()("旧表格"):c()("新表格");case c()("文件夹"):return c()("文件夹")}return""},S=function(e,t){if(void 0===t&&(t=!1),e){if(t)return c()("协作空间");var n=a.fileTypes.find(e);return n?n.display:""}},I=function(e){return"sheet"===T(e)},v=function(e){var t=a.fileTypes.find(e);return!!t&&-3===t.id},A=function(e){var t=a.fileTypes.find(e);return!!t&&-4===t.id},R=function(e){return"doc"===T(e)},y=function(e){return"docx"===g(e)},N=function(e){return"slide"===T(e)},C=function(e){return"form"===T(e)},L=function(e){return"board"===T(e)},j=function(e){return"folder"===T(e)},D=function(e){var t=a.fileTypes.find(e);return!!t&&"newdoc"===t.name},P=function(e){var t=a.fileTypes.find(e);if(!t)return!1;var n=t.name;return"sheet"===n||"mosheet"===n},x=function(e){return"mindmap"===T(e)},M=function(e){return e&&e.isSpace},U=function(e,t){switch(t){case b:return e.moment?e.moment.get("time"):e.updatedAt;case"used":return e.lastUsedAt;case"own":return e.createdAt;case"shared":return e.sharedAt}return e.updatedAt},F=function(e,t,n,r){switch(t){case b:switch(e.getIn(["moment","type"])){case i.Comment:case i.Discuss:return w(e,n);case i.Update:return B(e,n)}break;case"used":return Object(f.a)(e.lastUsedAt)+c()(" 我 ")+("open"===e.lastAction?c()("打开"):c()("编辑"));case"own":return G(e);case"shared":return e.moment&&(e.moment.get("unreadMention")||e.moment.get("unreadComment"))?c()(z=z||Object(o.__makeTemplateObject)([""," "," 共享"],[""," "," 共享"]),Object(f.a)(e.sharedAt),Object(_.a)(r.name,8)):c()(Y=Y||Object(o.__makeTemplateObject)([""," "," 共享"],[""," "," 共享"]),Object(f.a)(e.sharedAt),Object(_.a)(r.name,8))}return""},w=function(e,t){var n=t.id,r=e.getIn(["moment","user","id"]),i=Object(_.a)(e.getIn(["moment","user","name"])||c()("匿名用户"),8),a=Object(l.a)(e.getIn(["moment","content"]));return Object(f.a)(e.getIn(["moment","time"]))+" "+(Object(p.d)(r,n)?c()("我"):i)+c()(" 评论：")+a},B=function(e,t){var n=t.id,r=e.getIn(["moment","user","id"]),i=Object(_.a)(e.getIn(["moment","user","name"])||c()("匿名用户"),8);return Object(f.a)(e.getIn(["moment","time"]))+" "+(Object(p.d)(r,n)?c()("我"):i)+c()(" 更新")},G=function(e){return R(e.type)?Object(l.a)(e.excerpt)||"":I(e.type)?c()("&表格&"):N(e.type)?Object(l.a)(e.excerpt):""};function H(e,t,n){if(void 0===n&&(n=!1),"number"==typeof e&&(e+=""),!e||!t)return"";if(te(e))return"/files/"+t;if(n)return"/space/"+t;var r=a.fileTypes.find(e);return r?"/"+r.url+"/"+t:"#"}var z,Y,k,$,V,W,K,X=function(e){return!(!e||!e.role)},J=function(e){return e&&e.role&&"owner"!==e.role},q=function(e){return e&&!X(e)&&"private"!==e.shareMode},Z=function(e){return e&&!X(e)&&!d()(e,"permissions.editable",!1)&&("enterprise_readonly"===e.shareMode||"readonly"===e.shareMode)},Q=function(e){return e&&!X(e)&&d()(e,"permissions.editable",!1)},ee=function(e){return e&&d()(e,"permissions.manageable",!1)},te=function(e){if(!e)return!1;var t=a.fileTypes.find(e);return!!t&&1<t.id},ne=function(e){if(e.moment){var t=0===e.moment.get("unreadMention")?"":e.moment.get("unreadMention"),n=0===e.moment.get("unreadComment")?"":e.moment.get("unreadComment"),r="",i="";return t&&(r=c()(k=k||Object(o.__makeTemplateObject)([""," @我"],[""," @我"]),t)),n&&(i=c()($=$||Object(o.__makeTemplateObject)([""," 评论"],[""," 评论"]),n)),r+(t?"，":"")+i}return""},re=function(e,n,t,r){void 0===t&&(t=!1),void 0===r&&(r="");var i=/《[^《》]+》/g,a=__RUNTIME_ENV__.PRIVATE_DEPLOY?"":c()(V=V||Object(o.__makeTemplateObject)(["，可复制链接后用石墨文档 App ","打开"],["，可复制链接后用石墨文档 App ","打开"]),Object(E.a)()||Object(E.c)()?"":c()("或小程序"));return/^《[^《》]+》$/g.test(n)?e+"/ "+n+(t&&r?c()("访问密码")+" "+r:""+a):/[\u4E00-\u9FA5]/.test(n)?(i.test(n)&&(n.match(i)||[]).forEach(function(e){var t=e.replace("《","〈").replace("》","〉");n=n.replace(e,t)}),e+"/ 《"+n+"》"+(t&&r?c()("访问密码")+" "+r:""+a)):e+"/ 「"+n+"」"+(t&&r?c()("访问密码")+" "+r:""+a)},ie=function(e,t,n){var r="";return t&&(r+=c()(W=W||Object(o.__makeTemplateObject)([""," 部门、"],[""," 部门、"]),t)),c()(K=K||Object(o.__makeTemplateObject)(["",""," 人",""],["",""," 人",""]),r,e||1,n?"":c()("协作"))};function ae(e){return e?O()(e):""}},,function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){if(!e)return"";var t=document.createElement("div");return t.innerHTML=e,(t.innerText||t.textContent||"").trim()}},,function(e,t,n){"use strict";n.d(t,"c",function(){return s}),n.d(t,"b",function(){return c}),n.d(t,"a",function(){return u});var r=n(13),i=n.n(r),a=n(19),o=n(450);function s(e){return e.users.get("data")}function c(e,t){return t?s(e).get(t):null}function u(e){return 0<e.me.id?s(e).get(e.me.id):e.me.id<0?Object(o.a)({id:e.me.id}):null}Object(a.createSelector)(s,function(e){return e.recentContacts},function(t,e){return e&&e.map(function(e){return e?t.get(e):null}).filter(i.a)})},function(e,t,o){"use strict";o.d(t,"b",function(){return i}),o.d(t,"a",function(){return a}),o.d(t,"c",function(){return s}),o.d(t,"d",function(){return c});var n=o(0),r=o(2),i=(Object(r.c)(n.a.MARK_DATA_LOADED,function(e){return e}),Object(r.c)(n.a.INCREASE_PENDING_REQUESTS)),a=Object(r.c)(n.a.DECREASE_PENDING_REQUESTS),s=Object(r.c)(n.a.SET_ONLINE_STATUS,function(a){return void 0===a&&(a=!1),function(e){var t=e.next,n=e.getState,r=e.dispatch,i=e.emitter;n().status.online!==a&&(t(a),a?i.emit("network.recover"):function r(e,t){var i=e.getState,a=e.dispatch;if(u&&!t)return;u+=1;setTimeout(function(){return a(o(6).get("status",{bypassOnlineChecking:!0,background:!0})).then(n,n)},Math.min(2e4,4e3*u));function n(){var e=i().status,t=e.online,n=e.physicalOnline;!t&&n?r({getState:i,dispatch:a},!0):u=0}}({getState:n,dispatch:r}))}}),c=Object(r.c)(n.a.SET_PHYSICAL_ONLINE_STATUS,function(n){return void 0===n&&(n=!1),function(e){var t=e.next;(0,e.dispatch)(s(n)),t(n)}}),u=0},,,,,function(e,t,n){"use strict";e.exports=function(){throw new Error("unimplemented!")}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t(443);function i(e){return!!(e&&e.membership&&e.membership.isNewDing)}r.isAllowAddOutsider=function(e,t,n){if(t&&n.teamId){var r=t.getIn(["settings","share"]);return!!(r&&e&&e.teamRole)&&(r.includes(e.teamRole)||r.includes("fileOwner")&&e.id===n.user)}return!0},r.isAllowInviteTeamMember=function(e,t){return!!(t&&t.settings&&t.settings.invite)&&n(t.settings.invite,e.teamRole)},r.isPersonal=function(e){return!(!e.membership||!e.membership.accountType.match(/^personal/))||!e.team},r.isPersonalFree=function(e){return!!e.membership&&"personal_free"===e.membership.accountType},r.isPersonalPremium=function(e){return!!e.membership&&"personal_premium"===e.membership.accountType},r.isEnterprise=function(e){return!!e.membership&&/^enterprise/.test(e.membership.accountType)||!!e.team},r.isEnterpriseStandard=function(e){return!!e.membership&&("enterprise_standard"===e.membership.accountType||"enterprise_expired"===e.membership.accountType)},r.isEnterprisePremium=function(e){return!!(e&&e.membership&&e.membership.isEnterprisePremium)},r.isEnterpriseDingding=function(e){return!(!e.membership||"enterprise_dingding"!==e.membership.accountType)},r.isNewDing=i,r.isOriginatedFromDingtalk=function(e){return!(!e||!e.dingtalkCorp)},r.isNotOriginatedFromDingtalk=function(e){return!r.isOriginatedFromDingtalk(e)},r.isExpired=function(e){return!!e.membership&&/expired/.test(e.membership.accountType)},r.isTrial=function(e){return r.isEnterprise(e)&&!!e.membership&&!e.membership.isOfficial},r.isNotOnSeat=function(e,t){return t&&(0!==t.seatMemberCount&&!r.isExpired(e)&&!r.isTrial(e)&&!r.isCreator(e)&&!e.isSeat||r.isExpired(e)&&!r.isTrial(e))},r.isOnSeat=function(e,t){return!r.isNotOnSeat(e,t)},r.isCreator=function(e){return!(!r.isEnterpriseStandard(e)&&!r.isEnterpriseDingding(e))&&"creator"===e.teamRole},r.isAdmin=function(e){return!(!r.isEnterpriseStandard(e)&&!r.isEnterpriseDingding(e))&&"admin"===e.teamRole},r.isLimitedUser=function(e,t){return r.isPersonalFree(e)||r.isEnterprise(e)&&r.isExpired(e)||r.isEnterprise(e)&&r.isNotOnSeat(e,t)},r.isEnterpriseFile=function(e){return e&&!!e.teamId},r.isOutsider=function(e,t,n){return!(!r.isPersonal(t)||!r.isEnterprise(e)&&!r.isEnterpriseFile(n))||(!(!r.isEnterprise(t)||r.isBelongToTheSameEnterprise(t,n))||void 0)},r.isOutsiderCollaborator=function(e,t){return r.isEnterpriseFile(t)&&r.isPersonal(e)||!r.isPersonal(e)&&r.isEnterpriseFile(t)&&e.team!==t.teamId},r.isDisabledUser=function(e){return!!e.teamRole&&"disabled"===e.teamRole},r.isEditor=function(e){return"editable"===e.permission},r.isOnlyReaderOrCommenter=function(e,t){return t&&t.permissions&&!t.isSpace?!t.permissions.editable&&(t.permissions.commentable||t.permissions.readable):!!e.permission&&("readonly"===e.permission||"commentable"===e.permission)},r.isBelongToTheSameEnterprise=function(e,t){return!!e.team&&!!t.teamId&&e.team===t.teamId},r.isVerifiedEmail=function(e){return 1===e.status},r.isVerifiedMobile=function(e){return!!e.mobile},r.isFileAdmin=function(e,t){return!(!e.role||"owner"===e.role||!e.owner)},r.isSpaceCreator=function(e,t){return(e.getIn(["created","userId"])||-1)===t.id},r.isOrdinaryMemberOfTeam=function(e){return e.team&&"member"===e.teamRole},r.isSpaceOrSpaceFile=function(e){return!!e.isFromSVC||!!e.isSpace},r.isSpaceFile=function(e){return!e.isSpace&&!!e.isFromSVC},r.isSpace=function(e){return!!e.isSpace},r.isInheritFromSpace=function(e,t){return r.isSpaceFile(e)&&t.hasOwnProperty("sharedBy")&&!t.sharedBy},r.isShortcut=function(e){return!!e.isShortcut},r.default={isEnterpriseStandard:r.isEnterpriseStandard,isEnterpriseDingding:r.isEnterpriseDingding,isPersonalFree:r.isPersonalFree,isPersonalPremium:r.isPersonalPremium,isEnterprise:r.isEnterprise,isNotOriginatedFromDingtalk:r.isNotOriginatedFromDingtalk,isOriginatedFromDingtalk:r.isOriginatedFromDingtalk,isExpired:r.isExpired,isTrial:r.isTrial,isNotOnSeat:r.isNotOnSeat,isOnSeat:r.isOnSeat,isCreator:r.isCreator,isAdmin:r.isAdmin,isPersonal:r.isPersonal,isLimitedUser:r.isLimitedUser,isDisabledUser:r.isDisabledUser,isAllowAddOutsider:r.isAllowAddOutsider,isOutsider:r.isOutsider,isAllowInviteTeamMember:r.isAllowInviteTeamMember,isEditor:r.isEditor,isOnlyReaderOrCommenter:r.isOnlyReaderOrCommenter,isOutsiderCollaborator:r.isOutsiderCollaborator,isBelongToTheSameEnterprise:r.isBelongToTheSameEnterprise,isEnterpriseFile:r.isEnterpriseFile,isVerifiedEmail:r.isVerifiedEmail,isVerifiedMobile:r.isVerifiedMobile,isFileAdmin:r.isFileAdmin,isSpaceCreator:r.isSpaceCreator,isOrdinaryMemberOfTeam:r.isOrdinaryMemberOfTeam,isInheritFromSpace:r.isInheritFromSpace,isSpaceFile:r.isSpaceFile,isSpace:r.isSpace,isSpaceOrSpaceFile:r.isSpaceOrSpaceFile,isShortcut:r.isShortcut,isEnterprisePremium:r.isEnterprisePremium,isNewDing:i}},,,,function(e,t,n){"use strict";n.r(t),n.d(t,"getApi",function(){return i}),n.d(t,"getHost",function(){return a}),n.d(t,"getSocketHost",function(){return o}),n.d(t,"isDev",function(){return s}),n.d(t,"getClientId",function(){return c}),n.d(t,"getClientSecret",function(){return u}),n.d(t,"getUploaderUrl",function(){return d});var r=n(27);function i(){return(Object(r.getString)("API_PATH")||"").replace(/\/$/,"")}function a(){return location.origin}function o(){return Object(r.getString)("WEBSOCKET_HOST")}function s(){return Object(r.getBoolean)("IS_DEV")}function c(){return"C8BA527C783AB2AB644CC3FF6CC7D"}function u(){return"E5DCCF96EBB6BE9A3193DDE39B1B3"}function d(){return Object(r.getString)("UPLOADER_HOST")}},,function(e,t,n){"use strict";var r=n(50),i=n.n(r),a=n(9),o=n.n(a),s=n(1),c=n.n(s),u={100001:{moduleName:c()("工作台"),submoduleName:c()("最近更新"),actionName:c()("点击")},100002:{moduleName:c()("工作台"),submoduleName:c()("最近使用"),actionName:c()("点击")},100003:{moduleName:c()("工作台"),submoduleName:c()("我创建的"),actionName:c()("点击")},100004:{moduleName:c()("工作台"),submoduleName:c()("共享给我的"),actionName:c()("点击")},100005:{moduleName:c()("桌面右侧"),submoduleName:c()("新建"),actionName:c()("点击新建按钮")},100006:{moduleName:c()("桌面右侧"),submoduleName:c()("新建"),actionName:c()("点击文档按钮")},100007:{moduleName:c()("桌面右侧"),submoduleName:c()("新建"),actionName:c()("点击表格按钮")},100008:{moduleName:c()("桌面右侧"),submoduleName:c()("新建"),actionName:c()("点击文件夹按钮")},100009:{moduleName:c()("桌面右侧"),submoduleName:c()("导入"),actionName:c()("点击导入按钮")},100010:{moduleName:c()("桌面右侧"),submoduleName:c()("快速访问"),actionName:c()("点击")},100011:{moduleName:c()("我的桌面"),submoduleName:c()("文件菜单"),actionName:c()("点击")},100012:{moduleName:c()("模板"),submoduleName:c()("文档"),actionName:""},100013:{moduleName:c()("模板"),submoduleName:c()("表格"),actionName:""},100014:{moduleName:c()("模板"),submoduleName:c()("幻灯片"),actionName:""},100015:{moduleName:c()("桌面右侧"),submoduleName:c()("新建"),actionName:c()("点击从模板新建按钮")},100016:{moduleName:c()("模板"),submoduleName:"",actionName:c()("关闭模板弹层")},100017:{moduleName:c()("模板"),submoduleName:c()("自定义模板"),actionName:""},100018:{moduleName:c()("自定义模板"),submoduleName:c()("重命名模板"),actionName:""},100019:{moduleName:c()("自定义模板"),submoduleName:c()("删除模板"),actionName:""},100023:{moduleName:c()("我的桌面"),submoduleName:c()("协作面板"),actionName:c()("添加协作者")},100024:{moduleName:c()("我的桌面"),submoduleName:c()("协作面板"),actionName:c()("添加")},100025:{moduleName:c()("我的桌面"),submoduleName:c()("协作面板"),actionName:c()("添加微信好友")},100026:{moduleName:c()("工作台"),submoduleName:c()("卡片"),actionName:c()("收藏")},100027:{moduleName:c()("工作台"),submoduleName:c()("卡片"),actionName:c()("取消收藏")},100032:{moduleName:c()("工作台"),submoduleName:"",actionName:c()("加载失败")},100037:{moduleName:c()("我的桌面"),submoduleName:c()("文件列表"),actionName:c()("打开文件")},100076:{moduleName:"",submoduleName:"",actionName:c()("加载时间")},100077:{moduleName:c()("顶栏"),submoduleName:c()("搜索框"),actionName:c()("搜索")},100078:{moduleName:c()("顶栏"),submoduleName:c()("搜索结果"),actionName:c()("点击结果")},100079:{moduleName:c()("顶栏"),submoduleName:c()("搜索结果"),actionName:c()("无结果")},100080:{moduleName:c()("顶栏"),submoduleName:c()("搜索结果"),actionName:c()("出错")},100081:{moduleName:c()("顶栏"),submoduleName:c()("搜索结果"),actionName:c()("未点击")},100082:{moduleName:c()("顶栏"),submoduleName:c()("搜索框"),actionName:c()("输入")},100083:{moduleName:c()("我的桌面"),submoduleName:c()("我的桌面平铺"),actionName:c()("拖拽排序")},100084:{moduleName:c()("我的桌面"),submoduleName:c()("我的桌面平铺"),actionName:c()("拖拽移动")},100085:{moduleName:c()("我的桌面"),submoduleName:c()("快速访问列表"),actionName:c()("拖拽添加快速访问")},100086:{moduleName:c()("桌面右侧"),submoduleName:c()("快速访问列表"),actionName:c()("拖拽删除快速访问")},100087:{moduleName:c()("桌面右侧"),submoduleName:c()("快速访问列表"),actionName:c()("拖拽快速访问排序")},100088:{moduleName:c()("我的桌面"),submoduleName:c()("桌面列表"),actionName:c()("拖拽文件")},100089:{moduleName:"",submoduleName:"",actionName:c()("拖拽失败")},100090:{moduleName:c()("我的桌面"),submoduleName:c()("我的桌面列表"),actionName:c()("拖拽移动")},100091:{moduleName:c()("裂变入口"),submoduleName:c()("我的桌面"),actionName:c()("点击邀请")},110001:{actionName:c()("页面访问"),moduleName:"",actionParam:""},110002:{actionName:c()("点击「返回石墨文档」"),moduleName:c()("左侧目录树"),actionParam:""},110003:{actionName:c()("点击文件夹/子文件夹"),moduleName:c()("左侧目录树"),actionParam:""},110004:{actionName:c()("点击「回收站」"),moduleName:c()("左侧目录树"),actionParam:""},110005:{actionName:c()("点击上传按钮"),moduleName:c()("中部导航"),actionParam:""},110006:{actionName:c()("点击子菜单选项"),moduleName:c()("中部导航"),actionParam:""},110007:{actionName:c()("点击面包屑"),moduleName:c()("中部导航"),actionParam:""},110008:{actionName:c()("点击设置按钮"),moduleName:c()("中部导航"),actionParam:""},110009:{actionName:c()("点击切换排序"),moduleName:c()("中部导航"),actionParam:""},110010:{actionName:c()("点击切换列表/宫格"),moduleName:c()("中部导航"),actionParam:""},110011:{actionName:c()("（多选后）点击预览"),moduleName:c()("中部导航"),actionParam:""},110012:{actionName:c()("（多选后）点击删除"),moduleName:c()("中部导航"),actionParam:""},110013:{actionName:c()("（多选后）点击移动"),moduleName:c()("中部导航"),actionParam:""},110014:{actionName:c()("（多选后）点击更多"),moduleName:c()("中部导航"),actionParam:""},110015:{actionName:c()("（多选后）点击更多 dropdown 中的选项"),moduleName:c()("中部导航"),actionParam:""},110016:{actionName:c()("点击打开文件/文件夹"),moduleName:c()("中部文件区域"),actionParam:""},110017:{actionName:c()("多选文件/文件夹"),moduleName:c()("中部文件区域"),actionParam:""},110018:{actionName:c()("点击文件/文件夹设置按钮"),moduleName:c()("中部文件区域"),actionParam:""},110019:{actionName:c()("无数据时，点击上传按钮"),moduleName:c()("中部文件区域"),actionParam:""},110020:{actionName:c()("右键单击"),moduleName:c()("右键"),actionParam:""},110021:{actionName:c()("点击 dropdown 选项"),moduleName:c()("右键"),actionParam:""},110022:{actionName:c()("上传次数"),moduleName:c()("上传控件"),actionParam:""},110023:{actionName:c()("上传文件数量"),moduleName:c()("上传控件"),actionParam:""},110024:{actionName:c()("上传成功数量"),moduleName:c()("上传控件"),actionParam:""},110025:{actionName:c()("上传取消数量"),moduleName:c()("上传控件"),actionParam:""},110026:{actionName:c()("点击添加更多文件按钮"),moduleName:c()("上传控件"),actionParam:""},110027:{actionName:c()("点击取消全部上传按钮"),moduleName:c()("上传控件"),actionParam:""},110028:{actionName:c()("点击调整控件大小"),moduleName:c()("上传控件"),actionParam:""},110029:{actionName:c()("点击状态按钮"),moduleName:c()("上传控件"),actionParam:""},110030:{actionName:c()("点击开关"),moduleName:c()("分享modal"),actionParam:""},110031:{actionName:c()("点击复制链接"),moduleName:c()("分享modal"),actionParam:""},110032:{actionName:c()("点击「需要密码访问」radio"),moduleName:c()("分享modal"),actionParam:""},110033:{actionName:c()("点击「仅限企业成员访问」radio"),moduleName:c()("分享modal"),actionParam:""},110034:{actionName:c()("点击更换密码"),moduleName:c()("分享modal"),actionParam:""},110035:{actionName:c()("点击左下角添加协作者"),moduleName:c()("查看协作者modal"),actionParam:""},110036:{actionName:c()("点击搜索 input"),moduleName:c()("查看协作者modal"),actionParam:""},110037:{actionName:c()("点击修改身份"),moduleName:c()("查看协作者modal"),actionParam:""},110038:{actionName:c()("点击 dropdown 选项"),moduleName:c()("查看协作者modal"),actionParam:""},110039:{actionName:c()("点击左上角返回"),moduleName:c()("添加协作者modal"),actionParam:""},110040:{actionName:c()("点击添加所有企业成员"),moduleName:c()("添加协作者modal"),actionParam:""},110041:{actionName:c()("点击搜索 input"),moduleName:c()("添加协作者modal"),actionParam:""},110042:{actionName:c()("点击右下角确定"),moduleName:c()("添加协作者modal"),actionParam:""},110043:{actionName:c()("点击修改身份"),moduleName:c()("添加协作者modal"),actionParam:""},110044:{actionName:c()("点击 dropdown 选项"),moduleName:c()("添加协作者modal"),actionParam:""},110045:{actionName:c()("点击左上角返回"),moduleName:c()("预览modal"),actionParam:""},110046:{actionName:c()("点击空白处关闭"),moduleName:c()("预览modal"),actionParam:""},110047:{actionName:c()("点击翻页"),moduleName:c()("预览modal"),actionParam:""},110048:{actionName:c()("点击底栏"),moduleName:c()("预览modal"),actionParam:""},110049:{actionName:c()("点击切换帐号"),moduleName:c()("无权限页面"),actionParam:""},110050:{actionName:c()("点击确定"),moduleName:c()("输入密码"),actionParam:""},110051:{actionName:c()("点击登录按钮"),moduleName:c()("未登录页"),actionParam:""},110052:{actionName:c()("访问「思维导图」页面"),moduleName:c()("思维导图"),actionParam:""},110053:{actionName:c()("访问"),moduleName:c()("企业版 Modal"),actionParam:""},110054:{actionName:c()("开始免费试用"),moduleName:c()("企业版 Modal"),actionParam:""},110055:{actionName:c()("访问"),moduleName:c()("邀请成员 Modal"),actionParam:""},110056:{actionName:c()("跳过"),moduleName:c()("邀请成员 Modal"),actionParam:""},110057:{actionName:c()("复制链接"),moduleName:c()("邀请成员 Modal"),actionParam:""},110058:{actionName:c()("成功邀请成员数量"),moduleName:c()("邀请成员 Modal"),actionParam:""},110059:{actionName:c()("点击帮助中心"),moduleName:c()("表格"),actionParam:""}};function d(e){0<e.userId&&(i.a.setProfile(e),i.a.login(e.userId)),i.a.quick("autoTrack")}function f(e){var t=u[e]||{},n=t.moduleName,r=t.submoduleName,i=t.actionName;return{moduleName:void 0===n?"":n,submoduleName:void 0===r?"":r,actionName:void 0===i?"":i,clickedItem:"",sortMethod:"",sortOrder:"",folderLevel:"",displayMode:"",fileType:"",error:""}}function l(e,t){__RUNTIME_ENV__.PRIVATE_DEPLOY||i.a.track(e,t)}function _(e,t){l("lizardActions","string"==typeof e?o()(f(e),t):o()(f(""),e))}n.d(t,"b",function(){return d}),n.d(t,"c",function(){return l}),n.d(t,"a",function(){return _})},,,,,,,,,,function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){"string"==typeof e&&function(e){return/^-?\d+$/.test(e)}(e)&&(e=Number(e));for(var t=0;t<c.length;t++){var n=c[t];if(n.id===e||n.name===e)return n;if(n.alias&&n.alias===e)return n}return null}var o=n(5),a=o.__importDefault(n(1)),s={id:2,name:"unknown",type:"unknown",display:a.default("未知类型"),url:"files",is:function(e){return f(s,e)}},c=[{id:11,name:"wps",type:"wps",display:a.default("WPS 文件"),subtypes:["wps"],url:"files"},{id:10,name:"mp4",type:"mp4",display:a.default("视频"),subtypes:["mp4","avi","mkv","swf","wmv","m2p","m4v","h264","h265","flv"],url:"files"},{id:9,name:"zip",type:"zip",display:a.default("压缩文件"),subtypes:["zip","rar","pkg","7z","tar","gz"],url:"files"},{id:8,name:"mp3",type:"mp3",display:a.default("音频"),subtypes:["aac","mp3","flac","rec","m4a","wav","aac","ogg","mogg","wma","ape","alac","wv"],url:"files"},{id:7,name:"ppt",type:"ppt",display:a.default("演示文稿"),subtypes:["keynote","ppt","pptx","pot","potm","potx","pptm","pps","ppsm","ppsx","rtf"],url:"files"},{id:6,name:"docx",type:"docx",display:a.default("文档"),subtypes:["pages","doc","docx","dotx","dotm","txt","md","xml","xps"],url:"files",transformAs:"newdoc"},{id:5,name:"xls",type:"xls",display:a.default("表格"),subtypes:["numbers","xlsx","xlsm","xlsb","xltx","xltm","xls","xlt","xlam","xla","xlw","xlr","csv"],url:"files",transformAs:"mosheet"},{id:4,name:"pdf",type:"pdf",display:"PDF",subtypes:["pdf"],url:"files"},{id:3,name:"img",type:"img",display:a.default("图片"),url:"files",subtypes:["jpg","jpeg","png","svg","raw","gif","bmp","webp","sketch","psd","ai","ico"],maxSize:20971520},o.__assign({},s),{id:1,name:"folder",type:"folder",display:a.default("文件夹"),url:"folder"},{id:0,name:"document",alias:"doc",type:"doc",display:a.default("文档"),url:"doc",defaultContent:'{"text":"\\n","attribs":"|1+1"}'},{id:-1,name:"spreadsheet",type:"sheet",display:a.default("表格"),url:"spreadsheet",defaultContent:'[[30,[0,[[10,200]],[[10,18]]],"name:\\"%E5%B7%A5%E4%BD%9C%E8%A1%A81\\"|order:0"]]'},{id:-2,name:"newdoc",type:"doc",display:a.default("文档"),url:"docs",defaultContent:'[[10, "\\n", "line:\\"init\\""]]'},{id:-3,name:"sheet",type:"sheet",display:a.default("表格"),url:"sheet",defaultContent:'[[30,[0,[[10,200]],[[10,18]]],"id:\\"RIDOC\\"|name:\\"%E5%B7%A5%E4%BD%9C%E8%A1%A81\\"|order:0"]]'},{id:-4,name:"mosheet",type:"sheet",display:a.default("表格"),url:"sheets",defaultContent:a.default('q:p!g@T7$5:4!5k#4:3!i# 0 1 2["B:工作表1","C*0","G:MODOC"]')},{id:-5,name:"slide",type:"slide",display:a.default("幻灯片"),url:"slides",defaultContent:a.default('6bz:6bw!6br@Pk7$hi:hg!h0@SPgVtk4wt8f#1e:1c!7@D4:3!1# 0 1 10 11 12 13 14 15 2 3 4 5 6 7 8 9["$eautoResizeText1","0:#41464b","$8fontSize:45px","$afontWeight*700","4*220","$8layoutId:dflt0000","N*80","$alineHeight*1.4","C*0","$bplaceholder:","$fplaceholderType:text","$4role:title","$9textAlign:center","O*80","$dverticalAlign:bottom","3*800"]PuOxEEOc7y#1b:19!7@D4:3!1# 0 1 10 11 12 13 14 2 3 4 5 6 7 8 9["$eautoResizeText1","0:#676b6f","$afontFamily:sans-serif","$8fontSize:18px","4*100","$8layoutId:dflt0000","N*80","$alineHeight*1.4","C*1","$bplaceholder:","$fplaceholderType:text","$4role:subtitle","$9textAlign:center","O*312","3*800"] 0 1 2 3 4 5["$fbackgroundColor:#ffffff","4*540","$8layoutId:dflt0000","C*0","$7slideId:OG1WxIvx","3*960"]5kv$59v:fy!fm@Sdfltel007q#1b:19!7@D4:3!1# 0 1 10 11 12 13 14 2 3 4 5 6 7 8 9["$eautoResizeText1","0:#41464b","$8fontSize:45px","$afontWeight*700","4*220","N*80","$alineHeight*1.4","C*0","$bplaceholder:","$fplaceholderType:text","$4role:title","$9textAlign:center","O*80","$dverticalAlign:bottom","3*800"]dfltel0179#18:16!7@D4:3!1# 0 1 10 11 12 13 2 3 4 5 6 7 8 9["$eautoResizeText1","0:#676b6f","$afontFamily:sans-serif","$8fontSize:18px","4*100","N*80","$alineHeight*1.4","C*1","$bplaceholder:","$fplaceholderType:text","$4role:subtitle","$9textAlign:center","O*312","3*800"] 0 1 2 3g0!fm@Sdfltel107q#1b:19!7@D4:3!1# 0 1 10 11 12 13 14 2 3 4 5 6 7 8 9["$eautoResizeText1","0:#41464b","$8fontSize:45px","$afontWeight*700","4*220","N*80","$alineHeight*1.4","C*1","$bplaceholder:","$fplaceholderType:text","$4role:title","$9textAlign:center","O*80","$dverticalAlign:bottom","3*800"]dfltel1179#18:16!7@D4:3!1# 0 1 10 11 12 13 2 3 4 5 6 7 8 9["$eautoResizeText1","0:#676b6f","$afontFamily:sans-serif","$8fontSize:18px","4*100","N*80","$alineHeight*1.4","C*2","$bplaceholder:","$fplaceholderType:text","$4role:subtitle","$9textAlign:center","O*312","3*800"] 0 3 4 5 6nv!nj@Sdfltel206y#18:16!7@D4:3!1# 0 1 10 11 12 13 2 3 4 5 6 7 8 9["$eautoResizeText1","0:#41464b","$8fontSize:45px","$afontWeight*700","4*70","N*80","$alineHeight*1.4","C*1","$bplaceholder:","$fplaceholderType:text","$4role:title","$9textAlign:center","O*376","3*800"]dfltel2178#18:16!7@D4:3!1# 0 1 10 11 12 13 2 3 4 5 6 7 8 9["$eautoResizeText1","0:#676b6f","$afontFamily:sans-serif","$8fontSize:18px","4*32","N*80","$alineHeight*1.4","C*1","$bplaceholder:","$fplaceholderType:text","$4role:subtitle","$9textAlign:center","O*459","3*800"]dfltel228f#13:11!8@D5:4!1@I 0 1 10 11 2 3 4 5 6 7 8 9["$8fileSize*524476","4*326","N*0","$4mime:image/png","B:image-title-subtitle.png","C*0","$eoriginalHeight*652","$doriginalWidth*1920","$bplaceholder:https://assets.smcdn.cn/slides/default_theme/image-title-subtitle.png","$fplaceholderType:image","O*0","3*960"] 0 3 7 8go!gb@Sdfltel306x#18:16!7@D4:3!1# 0 1 10 11 12 13 2 3 4 5 6 7 8 9["$eautoResizeText1","0:#41464b","$8fontSize:45px","$afontWeight*700","4*69","N*80","$alineHeight*1.4","C*0","$bplaceholder:","$fplaceholderType:text","$4role:title","$9textAlign:center","O*50","3*800"]dfltel318r#1e:1c!7@D4:3!1# 0 1 10 11 12 13 14 15 2 3 4 5 6 7 8 9["$eautoResizeText1","0:#676b6f","$afontFamily:sans-serif","$8fontSize:18px","4*358","N*80","$alineHeight*1.7","C*1","$f.placeholder.p0*83","$f.placeholder.p1*90","$f.placeholder.p2*63","$fplaceholderType:text","$4role:normal","$9textAlign:left","O*132","3*800"] 0 10 3 9no!na@Sdfltel406x#18:16!7@D4:3!1# 0 1 10 11 12 13 2 3 4 5 6 7 8 9["$eautoResizeText1","0:#41464b","$8fontSize:45px","$afontWeight*700","4*71","N*437","$alineHeight*1.4","C*1","$bplaceholder:","$fplaceholderType:text","$4role:title","$9textAlign:left","O*118","3*443"]dfltel417c#18:16!7@D4:3!1# 0 1 10 11 12 13 2 3 4 5 6 7 8 9["$eautoResizeText1","0:#676b6f","$afontFamily:sans-serif","$8fontSize:18px","4*260","N*437","$alineHeight*1.7","C*1","$f.placeholder.p0*83","$fplaceholderType:text","$4role:normal","$9textAlign:left","O*201","3*443"]dfltel4283#13:11!8@D5:4!1@I 0 1 10 11 2 3 4 5 6 7 8 9["$8fileSize*305718","4*540","N*0","$4mime:image/png","B:image-vertical.png","C*0","$eoriginalHeight*1080","$doriginalWidth*720","$bplaceholder:https://assets.smcdn.cn/slides/default_theme/image-vertical.png","$fplaceholderType:image","O*0","3*357"] 0 11 12 3pq!pc@Sdfltel5084#13:11!8@D5:4!1@I 0 1 10 11 2 3 4 5 6 7 8 9["$8fileSize*444771","4*540","N*0","$4mime:image/png","B:image-puzzle-0.png","C*0","$eoriginalHeight*1080","$doriginalWidth*1104","$bplaceholder:https://assets.smcdn.cn/slides/default_theme/image-puzzle-0.png","$fplaceholderType:image","O*0","3*552"]dfltel5184#13:11!8@D5:4!1@I 0 1 10 11 2 3 4 5 6 7 8 9["$8fileSize*153265","4*262","N*567","$4mime:image/png","B:image-puzzle-1.png","C*1","$eoriginalHeight*526","$doriginalWidth*786","$bplaceholder:https://assets.smcdn.cn/slides/default_theme/image-puzzle-1.png","$fplaceholderType:image","O*0","3*393"]dfltel5286#13:11!8@D5:4!1@I 0 1 10 11 2 3 4 5 6 7 8 9["$8fileSize*193952","4*262","N*567","$4mime:image/png","B:image-puzzle-2.png","C*2","$eoriginalHeight*526","$doriginalWidth*786","$bplaceholder:https://assets.smcdn.cn/slides/default_theme/image-puzzle-2.png","$fplaceholderType:image","O*278","3*393"] 0 13 14 3pp!pb@Sdfltel6083#13:11!8@D5:4!1@I 0 1 10 11 2 3 4 5 6 7 8 9["$8fileSize*288362","4*540","N*0","$4mime:image/png","B:image-screen-0.png","C*0","$eoriginalHeight*1080","$doriginalWidth*620","$bplaceholder:https://assets.smcdn.cn/slides/default_theme/image-screen-0.png","$fplaceholderType:image","O*0","3*310"]dfltel6185#13:11!8@D5:4!1@I 0 1 10 11 2 3 4 5 6 7 8 9["$8fileSize*257756","4*540","N*325","$4mime:image/png","B:image-screen-1.png","C*1","$eoriginalHeight*1080","$doriginalWidth*620","$bplaceholder:https://assets.smcdn.cn/slides/default_theme/image-screen-1.png","$fplaceholderType:image","O*0","3*310"]dfltel6285#13:11!8@D5:4!1@I 0 1 10 11 2 3 4 5 6 7 8 9["$8fileSize*257318","4*540","N*650","$4mime:image/png","B:image-screen-2.png","C*2","$eoriginalHeight*1080","$doriginalWidth*620","$bplaceholder:https://assets.smcdn.cn/slides/default_theme/image-screen-2.png","$fplaceholderType:image","O*0","3*310"] 0 15 16 3e!1@S 0 17 18 3pg!p2@Sdfltel806x#18:16!7@D4:3!1# 0 1 10 11 12 13 2 3 4 5 6 7 8 9["$eautoResizeText1","0:#41464b","$8fontSize:45px","$afontWeight*700","4*69","N*80","$alineHeight*1.4","C*0","$bplaceholder:","$fplaceholderType:text","$4role:title","$9textAlign:center","O*50","3*800"]dfltel818r#1e:1c!7@D4:3!1# 0 1 10 11 12 13 14 15 2 3 4 5 6 7 8 9["$eautoResizeText1","0:#676b6f","$afontFamily:sans-serif","$8fontSize:18px","4*358","N*80","$alineHeight*1.7","C*1","$f.placeholder.p0*20","$f.placeholder.p1*30","$f.placeholder.p2*33","$fplaceholderType:text","$4role:normal","$9textAlign:left","O*132","3*390"]dfltel828g#13:11!8@D5:4!1@I 0 1 10 11 2 3 4 5 6 7 8 9["$8fileSize*233858","4*358","N*490","$4mime:image/png","B:title-content-image.png","C*2","$eoriginalHeight*716","$doriginalWidth*780","$bplaceholder:https://assets.smcdn.cn/slides/default_theme/title-content-image.png","$fplaceholderType:image","O*132","3*389"] 0 19 20 3fy!fk@Sdfltel906x#18:16!7@D4:3!1# 0 1 10 11 12 13 2 3 4 5 6 7 8 9["$eautoResizeText1","0:#41464b","$8fontSize:45px","$afontWeight*700","4*70","N*80","$alineHeight*1.4","C*0","$bplaceholder:","$fplaceholderType:text","$4role:title","$9textAlign:center","O*50","3*800"]dfltel9180#13:11!8@D5:4!1@I 0 1 10 11 2 3 4 5 6 7 8 9["$8fileSize*424442","4*322","N*80","$4mime:image/png","B:title-image.png","C*1","$eoriginalHeight*644","$doriginalWidth*1600","$bplaceholder:https://assets.smcdn.cn/slides/default_theme/title-image.png","$fplaceholderType:image","O*168","3*800"] 0 21 22 3["4*540","$8layoutId:dflt0000","C*0","3*960","$fbackgroundImage:url(https://assets.smcdn.cn/slides/default_theme/title-subtitle-image.png)","$8layoutId:dflt0001","C*1","$8layoutId:dflt0002","C*2","$8layoutId:dflt0003","C*3","$8layoutId:dflt0004","C*4","$8layoutId:dflt0005","C*5","$8layoutId:dflt0006","C*6","$8layoutId:dflt0007","C*7","$8layoutId:dflt0008","C*8","$8layoutId:dflt0009","C*9"]6e$55:53!4v@S30WxsQCz4j#t:s!7@D4:3!1# 0 1 2 3 4 5 6 7 8["$4role:normal","$6isNote1","$eautoResizeText0","3:auto","4:100%","$8minWidth*20","$8fontSize:14px","0:#676B6F","$9textAlign:left"] 0 1["$6noteId:dLEShGsy","$7slideId:OG1WxIvx"]')},{id:-6,name:"modoc",type:"doc",display:a.default("文档"),url:"docx",defaultContent:'33:1d!n@D6:5!1# 0["$7paraEnd1"] 0 1 10 2 3 4 5 6 7 8 96!1# 116!1# 126!1# 136!1# 14o!1# 15 16 17 18 19 20 216!1# 22["$d.docGrid.type*1","$i.docGrid.linePitch*312","$6sectPr1","$4type:DocumentContent","$g.pageSize.orient*0","$b.pageSize.w*11906","$b.pageSize.h*16838","$e.pageMargins.l*1797","$e.pageMargins.r*1797","$e.pageMargins.t*1440","$e.pageMargins.b*1440","$4type:AbstructNumbering","$4type:Numbering","$4type:HdrFtr","$4type:FootNote","$4type:Styles","$i.textPr.fontFamily:SimSun","$g.textPr.fontSize*10.5","$h.textPr.fontAscii:SimSun","$k.textPr.fontEastAsia:SimSun","$h.textPr.fontHAnsi:SimSun","$e.textPr.fontCS:SimSun","$4type:Settings"]'},{id:-7,name:"mindmap",type:"mindmap",display:a.default("思维导图"),url:"mindmaps",defaultContent:a.default('1b:19!11@Z00000001q#h:g!b@D8:7!4!中心主题 0["C*0"] 0 1["$aautoLayout1","$crootTopicIds:00000001"]')},{id:-8,name:"form",type:"form",display:a.default("表单"),url:"forms",defaultContent:'f:e!5@F0$0$ 0 1 2["$5title:","$4desc:","$9descAlign:center"]'},{id:-9,name:"board",type:"board",display:a.default("白板"),url:"boards",defaultContent:'12:10!v@D8:7!1# 0 1["G:P0000001","C*0"] 0["G:B0000001"]'}],u={},d=u.find=function(e,t){return r(e)||t&&r(t)||null},f=u.equal=function(e,t){if(e===t)return!0;var n="object"===i(e)?e:d(e),r="object"===i(t)?t:d(t);return Boolean(n&&r&&n.id===r.id)};c.forEach(function(t){t.is=function(e){return f(t,e)}}),c.forEach(function(e){u[e.id]=e;var t=(u[e.name]=e).name.toUpperCase();u[t]=e.name,u[t+"_ID"]=e.id,u[t+"_NAME"]=e.name,u[t+"_URL"]=e.url,u[t+"_DISPLAY"]=e.display}),u.findBySubtype=function(t){var n,e;try{for(var r=o.__values(c),i=r.next();!i.done;i=r.next()){var a=i.value;if(a.subtypes&&a.subtypes.length&&a.subtypes.some(function(e){return e===t}))return a}}catch(e){n={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(n)throw n.error}}return s},e.exports=u},function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i}),n.d(t,"c",function(){return a});var r="collabSpace-modal-show",i="collabSpace-modal-hide",a="collabSpace-modal-switch"},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONSTANTS={OUTSIDER_CANNOT_ADD_USER:"OUTSIDER_CANNOT_ADD_USER",DISABLED_CANNOT_ADD_USER:"DISABLED_CANNOT_ADD_USER",EXPIRED_CANNOT_ADD_USER:"EXPIRED_CANNOT_ADD_USER",NOT_ON_SEAT_CANNOT_ADD_USER:"NOT_ON_SEAT_CANNOT_ADD_USER",NO_ACCESS_ADD_OUTSIDER:"NO_ACCESS_ADD_OUTSIDER",NO_ACCESS_ADD_USER:"NO_ACCESS_ADD_USER",PERSONAL_VERSION_CANNOT_ADD_USER:"PERSONAL_VERSION_CANNOT_ADD_USER",ONLY_ONE_COLLABORATOR_CANNOT_TRANSFER:"ONLY_ONE_COLLABORATOR_CANNOT_TRANSFER",NO_ACCESS_TRANSFER:"NO_ACCESS_TRANSFER",NO_ACCESS_EDIT:"NO_ACCESS_EDIT",NO_ACCESS_MODIFY:"NO_ACCESS_MODIFY",OUTSIDER_CANNOT_MODIFY_ROLE:"OUTSIDER_CANNOT_MODIFY_ROLE",TOO_MANY_COLLABORATORS:"TOO_MANY_COLLABORATORS",EXPIRED_CANNOT_MODIFY_ROLE:"EXPIRED_CANNOT_MODIFY_ROLE",ADDED_DEPT_CANNOT_MODIFY_ROLE_IN_ADDING_MODE:"ADDED_DEPT_CANNOT_MODIFY_ROLE_IN_ADDING_MODE",FILE_CANNOT_MODIFI_SPACE_COLLAB_ROLE:"FILE_CANNOT_MODIFI_SPACE_COLLAB_ROLE",FAILURE_PERSONAL_FREE:"FAILURE_PERSONAL_FREE",FAILURE_READ_ONLY:"FAILURE_READ_ONLY",FAILURE_TRIAL_EXPIRED:"FAILURE_TRIAL_EXPIRED",FAILURE_NOT_ON_SEAT:"FAILURE_NOT_ON_SEAT",FAILURE_ENTERPRISE_EXPIRED_CREATOR_OR_ADMIN:"FAILURE_ENTERPRISE_EXPIRED_CREATOR_OR_ADMIN",FAILURE_ENTERPRISE_EXPIRED_MEMBER:"FAILURE_ENTERPRISE_EXPIRED_MEMBER",NO_ACCESS_DELETE:"NO_ACCESS_DELETE",DELETE_FILE_OR_EXIT_SHARE:"DELETE_FILE_OR_EXIT_SHARE",ONLY_DELETE_FILE:"ONLY_DELETE_FILE",ONLY_EXIT_SHARE:"ONLY_EXIT_SHARE",NO_ACCESS_MOVE_FOLDER:"NO_ACCESS_MOVE_FOLDER",NO_ACCESS_MOVE_FILE:"NO_ACCESS_MOVE_FILE",NO_ACCESS_CREATE_OR_UPLOAD_FILE:"NO_ACCESS_CREATE_OR_UPLOAD_FILE",FAILURE_ENTERPRISE_DINGTALK:"FAILURE_ENTERPRISE_DINGTALK"},t.default=t.CONSTANTS},,,function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/doc_240_flat@2x.22951bd0.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/sheet_240_flat@2x.473ebf86.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/slide_240_flat@2x.8bf2283c.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/form_160_flat@2x.f0a0c3a7.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/board_160_flat@2x.1b221a97.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/doc_160_flat@2x.098efd4b.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/sheet_160_flat@2x.95882c05.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/slide_160_flat@2x.56fa46f1.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/cloud_image_160.5388c329.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/cloud_pdf_160.fe306eb5.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/cloud_music_160.1a3952a3.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/cloud_zip_160.605a01f6.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/cloud_video_160.0d5e9705.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/cloud_wps_160.f7a579a9.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/cloud_default_160.46b26831.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/doc_60@2x.8f925cc7.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/sheet_60@2x.3e519e58.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/slide_60@2x.e14e81e4.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/doc_52@2x.f1eb140e.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/sheet_52@2x.438136f3.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/slide_52@2x.6977f839.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/cloud_image_52.11a08418.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/cloud_pdf_52.82dacda1.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/cloud_music_52.719c23e6.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/cloud_zip_52.976c40ac.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/cloud_video_52.089311f8.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/cloud_wps_52.82d9c2e8.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/cloud_default_52.f24270f6.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/doc_40_plain@2x.3d9ca89e.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/sheet_40_plain@2x.90842475.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/slide_40_plain@2x.3b6bb212.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/doc_40@2x.efa97b5f.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/sheet_40@2x.fd89dc15.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/slide_40@2x.445e311c.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/doc_30@2x.2b0b9e1f.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/sheet_30@2x.cb0289b2.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/slide_30@2x.3b0499d0.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/doc_160_gray@2x.0381954c.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/sheet_160_gray@2x.1dae7441.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/slide_160_gray@2x.e6235fe7.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/doc_52_gray@2x.3af9808b.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/sheet_52_gray@2x.76355608.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/slide_52_gray@2x.9f32a1b7.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/doc_52_shortcut@2x.2230a81c.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/sheet_52_shortcut@2x.94544e64.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/slide_52_shortcut@2x.bf160859.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/doc_160_shortcut@2x.e02a0045.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/sheet_160_shortcut@2x.4afbd82c.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/slide_160_shortcut@2x.d8e396ce.png"},,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t),n.d(t,"createWindowOpener",function(){return a}),n.d(t,"linkTo",function(){return o}),n.d(t,"getCompleteUrl",function(){return s});var r=n(29),i=n(53);function a(){if(Object(r.a)())return function(e){return location.href=e};var t=window.open("","_blank");return function(e){t?t.location.href=e:location.href=e}}function o(e){window.location.href=e}function s(e){return-1<e.indexOf("://")?e:("/"!==e[0]&&(e="/"+e),Object(i.getHost)()+e)}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(334);t.isValidLocaleResource=function(n){return!!n&&(!Array.isArray(n)&&("object"==typeof n&&Object.keys(n).every(function(e){var t=n[e];return null==t||"string"==typeof t||"object"==typeof t})))},t.sourceTextToKey=function(n){switch(n.type){case"string":var e=n.id,t=n.text;return e?t+"#"+e:t;case"interpolated":var r=n.textParts.length;return 1===r?n.textParts[0]:2===r?n.textParts[0]+"%s"+n.textParts[1]:n.textParts.map(function(e,t){return t===n.textParts.length-1?e:e+"%"+(t+1)}).join("");default:return i.assertNever(n)}}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(23),i=r.combineReducers},,,,,,,,function(e,t,n){"use strict";function s(e,t){return e?e+t:""}function c(e,t){switch(t){case"upper":return e&&e.toUpperCase();case"lower":return e&&e.toLowerCase();default:return e}}t.initActionTypes=function e(t,n,r,i,a){for(var o in void 0===r&&(r="/"),void 0===i&&(i="initial"),void 0===a&&(a=""),t)t.hasOwnProperty(o)&&("string"==typeof t[o]?t[o]?t[o]=c(s(n,r)+t[o],i):t[o]=c(s(n,r)+s(a,r)+o,i):e(t[o],n,r,i,s(a,r)+o));return t}},,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return a});var s={HTMLEvents:/^(?:load|unload|abort|error|select|change|submit|reset|focus|blur|resize|scroll)$/,MouseEvents:/^(?:click|dblclick|mouse(?:down|up|over|move|out))$/},c={pointerX:0,pointerY:0,button:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,bubbles:!0,cancelable:!0},u=function(e,t){for(var n in t)e[n]=t[n];return e};function r(e,t){var n,r=u(c,arguments[2]||{}),i=null;for(var a in s)if(s[a].test(t)){i=a;break}if(!i)throw new SyntaxError("Only HTMLEvents and MouseEvents interfaces are supported");if(document.createEvent)n=document.createEvent(i),"HTMLEvents"===i?n.initEvent(t,r.bubbles,r.cancelable):n.initMouseEvent(t,r.bubbles,r.cancelable,document.defaultView,r.button,r.pointerX,r.pointerY,r.pointerX,r.pointerY,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.button,e),e.dispatchEvent(n);else{r.clientX=r.pointerX,r.clientY=r.pointerY;var o=document.createEventObject();n=u(o,r),e.fireEvent("on".concat(t),n)}return e}var i;function a(){if(void 0!==i)return i;var e=navigator.userAgent,t=e.indexOf("MSIE ");if(0<t)return i=parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(0<e.indexOf("Trident/")){var n=e.indexOf("rv:");return i=parseInt(e.substring(n+3,e.indexOf(".",n)),10)}var r=e.indexOf("Edge/");return 0<r&&(i=parseInt(e.substring(r+5,e.indexOf(".",r)),10))}},,function(e,t,n){"use strict";var r=n(9),a=n.n(r),o=n(2);t.a=function(i){return function(e){var n=e.dispatch,r=e.getState;return function(e){return function(t){if(!function(e){return"args"in e&&("function"==typeof e.payload&&e.args)}(t))return e(t);return t.payload(a()({dispatch:n,getState:r,next:function(e){n({payload:e,type:t.type})},emitter:o.f},i))}}}}},function(e,t,n){"use strict";var i=n(5),a=n(36),r=n(11),o=n.n(r),s=n(20),c=n.n(s),u=n(143),d=n(163),f=n(23),l=n(191),_=n(178),p=n(459),E=n(180),m=n(90),O=n.n(m),b=n(67),T=p.a.getApi,g=p.a.getClientId,h=p.a.getClientSecret,S="object"==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):f.compose;var I,v,A=n(52),R=Object(A.css)(I=I||Object(i.__makeTemplateObject)(["/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */ html{line-height:1.15;-webkit-text-size-adjust:100%;}body{margin:0;}main{display:block;}h1{font-size:2em;margin:0.67em 0;}hr{box-sizing:content-box;height:0;overflow:visible;}pre{font-family:monospace,monospace;font-size:1em;}a{background-color:transparent;}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted;}b,strong{font-weight:bolder;}code,kbd,samp{font-family:monospace,monospace;font-size:1em;}small{font-size:80%;}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline;}sub{bottom:-0.25em;}sup{top:-0.5em;}img{border-style:none;}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0;}button,input{overflow:visible;}button,select{text-transform:none;}button,[type='button'],[type='reset'],[type='submit']{-webkit-appearance:button;}button::-moz-focus-inner,[type='button']::-moz-focus-inner,[type='reset']::-moz-focus-inner,[type='submit']::-moz-focus-inner{border-style:none;padding:0;}button:-moz-focusring,[type='button']:-moz-focusring,[type='reset']:-moz-focusring,[type='submit']:-moz-focusring{outline:1px dotted ButtonText;}fieldset{padding:0.35em 0.75em 0.625em;}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal;}progress{vertical-align:baseline;}textarea{overflow:auto;}[type='checkbox'],[type='radio']{box-sizing:border-box;padding:0;}[type='number']::-webkit-inner-spin-button,[type='number']::-webkit-outer-spin-button{height:auto;}[type='search']{-webkit-appearance:textfield;outline-offset:-2px;}[type='search']::-webkit-search-decoration{-webkit-appearance:none;}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit;}details{display:block;}summary{display:list-item;}template{display:none;}[hidden]{display:none;}"],[""]));var y=n(1),N=n.n(y),C=n(51),L=n.n(C),j=n(55),D=n(457),P=n(0),x=n(2),M=Object(x.c)(P.a.PRELOAD,function(t){return function(e){(0,e.next)(t)}}),U=n(458),F=n(42),w=n(43),B=n(190),G=n(27),H=n(25),z=n(14),Y=n.n(z);function k(r){return Object(i.__awaiter)(this,void 0,void 0,function(){var t,n;return Object(i.__generator)(this,function(e){switch(e.label){case 0:return(t=o()(window,"shimo.store"))?[2,t]:(n=function(e){var t=new b.TinyEmitter,n=Object(f.createStore)(Object(f.combineReducers)(e),S(Object(f.applyMiddleware)(Object(E.a)({api:{prefix:T()+"/",id:g(),secret:h(),fetchConfig:{credentials:"include"},isIE:!!Object(_.a)(),emitter:t},emitter:t}))));return O()(window,"shimo.store",n),O()(window,"shimo.emitter",t),n}(r),Object(A.injectGlobal)(v=v||Object(i.__makeTemplateObject)(["",' body{font-family:-apple-system,BlinkMacSystemFont,"PingFang SC",Helvetica,Tahoma,Arial,"Microsoft YaHei",微软雅黑,黑体,Heiti,sans-serif,SimSun,宋体,serif;background-color:#F7F7F7;}*{margin:0;padding:0;outline:none;}button,input,optgroup,select,textarea{font-family:inherit;}.hide{display:none;}@media screen and (-webkit-min-device-pixel-ratio:2),screen and (min-resolution:2dppx){body{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;}}a *{border-color:inherit;outline-color:inherit;}'],["",""]),R),c.a.Component.prototype.componentDidCatch=c.a.Component.prototype.componentDidCatch||function(e){},c.a.PureComponent.prototype.componentDidCatch=c.a.PureComponent.prototype.componentDidCatch||function(e){},function(){var e=o()(window,"shimo.emitter");e&&e.on("request.error",function(e){var t=e.url,n=e.method,r=e.error;Object(j.a)({moduleName:N()("异常报告"),submoduleName:N()("网络异常"),actionName:"["+n+"]"+t,error:r.stack||r.message}),L.a.captureException(r)})}(),[4,function(r){return Object(i.__awaiter)(this,void 0,void 0,function(){var t,n;return Object(i.__generator)(this,function(e){switch(e.label){case 0:t=("object"==typeof window.__INITIAL_STATE__?window.__INITIAL_STATE__:{user:null}).user,e.label=1;case 1:return e.trys.push([1,5,,8]),null===t||0<t.id?[4,r.dispatch(Object(D.c)())]:[3,3];case 2:return e.sent(),[3,4];case 3:r.dispatch(M({me:{id:t.id}})),e.label=4;case 4:return[3,8];case 5:return e.sent(),n=Number(l.a.get("anonymousUser")||-new Date),[4,r.dispatch(Object(D.f)(n))];case 6:return e.sent(),[4,r.dispatch(Object(U.d)())];case 7:return e.sent(),[3,8];case 8:return[2]}})})}(n)]);case 1:return e.sent(),function(e){var t=e.getState();if("disabled"===Object(F.a)(t).teamRole&&"/forbidden"!==location.pathname)throw location.href="/forbidden",new Error("prevent promise")}(n),function(e){var t=Object(F.a)(e.getState()),n=o()(window,"shimo.emitter");n&&t&&0<t.id&&n.on("auth.failure",function(){location.href="/"})}(n),function(e){window.addEventListener("online",function(){e.dispatch(Object(w.d)(!0))}),window.addEventListener("offline",function(){e.dispatch(Object(w.d)(!1))})}(n),Object(G.getBoolean)("DEBUG_SA"),function(e){var t=e.getState(),n=Object(F.a)(t),r=Object(B.b)(t),i=n.get("id");if(0<i){var a=n.get("team")||0,o={userId:i,accountType:Object(H.a)(n,r),signUpDate:Y()(n.get("createdAt")).format("YYYY-MM-DD HH:mm:ss"),accountRole:Object(H.b)(n),companyName:r?r.get("name"):"",enterpriseId:a,anonymous:!1,expiredTime:"",registerTime:""};n.getIn(["membership","accountTypeExpiredAt"])&&(o.expiredTime=Y()(n.getIn(["membership","accountTypeExpiredAt"])).format("YYYY-MM-DD HH:mm:ss")),r&&r.get("createdAt")&&(o.registerTime=Y()(r.get("createdAt")).format("YYYY-MM-DD HH:mm:ss")),Object(j.b)(o)}else Object(j.b)({userId:i,anonymous:!0})}(n),[2,n]}})})}function $(t,n){return r=c.a.PureComponent,Object(i.__extends)(e,r),e.prototype.componentDidMount=function(){return Object(i.__awaiter)(this,void 0,void 0,function(){var t;return Object(i.__generator)(this,function(e){switch(e.label){case 0:return(t=o()(window,"shimo.store"))?(n&&t.replaceReducer(Object(f.combineReducers)(Object(i.__assign)(Object(i.__assign)({},a.a),n))),[3,3]):[3,1];case 1:return[4,k(Object(i.__assign)(Object(i.__assign)({},a.a),n))];case 2:t=e.sent(),e.label=3;case 3:return this.setState({store:t}),[2]}})})},e.prototype.render=function(){var e=this.state.store;return e?c.a.createElement(u.Provider,{store:e},c.a.createElement(t,null)):null},e;function e(){var e=null!==r&&r.apply(this,arguments)||this;return e.state={store:void 0},e}var r}function V(e,t){return $(Object(d.withRouter)(e),t)}n.d(t,"a",function(){return V})},,,function(e){e.exports=JSON.parse('{"a":"1.18.2"}')},,,function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"a",function(){return o}),n.d(t,"d",function(){return s}),n.d(t,"f",function(){return m}),n.d(t,"e",function(){return O}),n.d(t,"b",function(){return b});var r=n(1),c=n.n(r),i=n(0),u=n(12),d=n(7),f=n(8),l=n(298),_=n(2),p=n(6),E=n(10),a=Object(_.c)(i.a.GET_COLLABORATORS,function(c){if(!c)throw new Error('"fileId" is required');return function(e){var t=e.dispatch,n=e.next,r=(0,e.getState)(),i=r.collaborators,a=r.files;c=f.a.mirrorId(a,c);var o=l.a.get(i,c),s="-"===c[0]?Promise.reject(new Error("Skip fetching collaborators of an unsynced file")):t(Object(p.get)("files/"+c+"/collaborators",{schema:[{user:d.c}],transformResponseBody:function(e){return e.map(function(e){return{user:e,role:e.role,sharedBy:e.sharedBy,permission:e.permission,owner:e.owner}})}})).then(function(e){n({fileId:c,collaborators:e})});return Object(_.l)({local:o&&t(Object(E.d)(o.toJS(),[{user:d.c}])),remote:s})}}),o=Object(_.c)(i.a.ADD_COLLABORATOR,function(i,a){return function(e){var t=e.dispatch,n=e.getState,r=e.next;return"-"===(i=f.a.mirrorId(n().files,i))[0]?Promise.reject(new Error(c()("文件还未同步，请等待文件同步后重试"))):t(Object(p.post)("files/"+i+"/collaborators",{body:a,schema:d.c})).then(function(e){return r({fileId:i,data:{user:e,role:a.role,fromParent:!1,permission:"editable",owner:!1}})})}}),s=Object(_.c)(i.a.REMOVE_COLLABORATOR,function(i,a){return function(e){var t=e.dispatch,n=e.next,r=e.getState;return"-"===(i=f.a.mirrorId(r().files,i))[0]?Promise.reject(new Error(c()("文件还未同步，请等待文件同步后重试"))):t(Object(p.destroy)("files/"+i+"/collaborators/"+a)).then(function(){n({fileId:i,userId:a})})}}),m=Object(_.c)(i.a.UPDATE_COLLABORATOR_ROLE,function(i,a,o){return function(e){var t=e.dispatch,n=e.next,r=e.getState;return"-"===(i=f.a.mirrorId(r().files,i))[0]?Promise.reject(new Error(c()("文件还未同步，请等待文件同步后重试"))):t(Object(p.patch)("files/"+i+"/collaborators/"+a,{body:{role:o}})).then(function(){n({fileId:i,userId:a,role:o})})}}),O=Object(_.c)(i.a.TRANSFER_OWNER_ROLE,function(a,o,s){return void 0===s&&(s=!1),function(e){var t=e.dispatch,n=e.next,r=e.getState;if("-"===(a=f.a.mirrorId(r().files,a))[0])return Promise.reject(new Error(c()("文件还未同步，请等待文件同步后重试")));var i=s?"spaces/"+a+"/owner":"files/"+a;return t(Object(p.patch)(i,{body:{userId:o}})).then(function(e){n({fileId:a,userId:o,file:e})})}}),b=Object(_.c)(i.a.ADD_COLLABORATORS,function(c,r,i){return void 0===i&&(i="web"),function(e){var o=e.dispatch,s=e.next,t="files/"+c+"/collaborators/batch",n={collaborators:r};"wework"===i&&(t="files/"+c+"/collaborators/batch_wework",n={departments:r.departments,users:r.users});return o(Object(p.post)(t,{body:n})).then(function(e){var n=[],t=e.reduce(function(e,t){return"object"==typeof t?e.concat({user:t,role:t.role,sharedBy:t.sharedBy,permission:t.permission,owner:t.owner}):(n.push(t),e)},[]),r=Object(u.wormalize)(t,[{user:d.c}]),i=r.result,a=r.entities;return o(Object(E.d)(i,[{user:d.c}],a)).then(function(){o(Object(E.b)(a))}),s({fileId:c,data:i}),{successCount:i?i.length:0,errors:n}})}});Object(_.c)(i.a.GET_SPACE_COLLABORATORS,function(c){if(!c)throw new Error('"fileId" is required');return function(e){var t=e.dispatch,n=e.next,r=(0,e.getState)(),i=r.collaborators,a=r.files;c=f.a.mirrorId(a,c);var o=l.a.get(i,c),s="-"===c[0]?Promise.reject(new Error("Skip fetching collaborators of an unsynced file")):t(Object(p.get)("space_files/"+c+"/collaborators",{schema:[{user:d.c}],transformResponseBody:function(e){return e.map(function(e){return{user:e,role:e.role,sharedBy:e.sharedBy,permission:e.permission,owner:e.owner}})},isIE:!1})).then(function(e){n({spaceId:c,collaborators:e})});return Object(_.l)({local:o&&t(Object(E.d)(o.toJS(),[{user:d.c}])),remote:s})}}),Object(_.c)(i.a.GET_EXTRA_CHILDREN_COLLABORATORS,function(t){return function(e){return(0,e.dispatch)(Object(p.get)("files/"+t+"/children/collaborators")).then(function(e){return e})}}),Object(_.c)(i.a.ADD_SPACE_COLLABORATORS,function(c,t){return function(e){var o=e.dispatch,s=e.next;return o(Object(p.post)("space_files/"+c+"/collaborators",t)).then(function(e){var n=[],t=e.reduce(function(e,t){return"object"==typeof t?e.concat({user:t,role:t.role,sharedBy:t.sharedBy,permission:t.permission,owner:t.owner}):(n.push(t),e)},[]),r=Object(u.wormalize)(t,[{user:d.c}]),i=r.result,a=r.entities;return o(Object(E.d)(i,[{user:d.c}],a)).then(function(){o(Object(E.b)(a))}),s({fileId:c,data:i}),{successCount:i?i.length:0,errors:n}})}}),Object(_.c)(i.a.REMOVE_SPACE_COLLABORATOR,function(i,a){return function(e){var t=e.dispatch,n=e.next,r=e.getState;return i=f.a.mirrorId(r().files,i),t(Object(p.destroy)("space_files/"+i+"/collaborators/"+a)).then(function(){n({spaceId:i,userId:a})})}})},,,function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"b",function(){return o}),n.d(t,"d",function(){return s}),n.d(t,"e",function(){return c}),n.d(t,"a",function(){return u});var r=n(3),i=n(42);function a(e){return e.status.get("online")}function o(e){var t=e.me.id;return!t||t<0?Object(r.Map)({}):e.teams.getIn(["data",Object(i.a)(e).team])}function s(e){return u(e,e.recentContacts||Object(r.List)())}function c(e){return u(e,e.teamMembers||Object(r.List)())}function u(e,t,n){var r=e.users.get("data"),i=!1,a=t.filter(function(e){var t=r.has(n?n(e):e);return t||(i=!0),t});return i?a:t}},,function(t,e,n){"use strict";(function(e){function n(e){var t,n,r,i,a,o,s,c,u,d,f,l,_,p,E,m=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},O=[],b=0,T=void 0,g=void 0;if(isNaN(e))throw new TypeError("Invalid number");return n=!0===m.bits,f=!0===m.unix,t=m.base||2,d=void 0!==m.round?m.round:f?1:2,o=void 0!==m.locale?m.locale:"",s=m.localeOptions||{},l=void 0!==m.separator?m.separator:"",_=void 0!==m.spacer?m.spacer:f?"":" ",E=m.symbols||{},p=2===t&&m.standard||"jedec",u=m.output||"string",i=!0===m.fullform,a=m.fullforms instanceof Array?m.fullforms:[],T=void 0!==m.exponent?m.exponent:-1,r=2<t?1e3:1024,(c=(g=Number(e))<0)&&(g=-g),(-1===T||isNaN(T))&&(T=Math.floor(Math.log(g)/Math.log(r)))<0&&(T=0),8<T&&(T=8),"exponent"===u?T:(0===g?(O[0]=0,O[1]=f?"":S[p][n?"bits":"bytes"][T]):(b=g/(2===t?Math.pow(2,10*T):Math.pow(1e3,T)),n&&r<=(b*=8)&&T<8&&(b/=r,T++),O[0]=Number(b.toFixed(0<T?d:0)),O[0]===r&&T<8&&void 0===m.exponent&&(O[0]=1,T++),O[1]=10===t&&1===T?n?"kb":"kB":S[p][n?"bits":"bytes"][T],f&&(O[1]="jedec"===p?O[1].charAt(0):0<T?O[1].replace(/B$/,""):O[1],h.test(O[1])&&(O[0]=Math.floor(O[0]),O[1]=""))),c&&(O[0]=-O[0]),O[1]=E[O[1]]||O[1],!0===o?O[0]=O[0].toLocaleString():0<o.length?O[0]=O[0].toLocaleString(o,s):0<l.length&&(O[0]=O[0].toString().replace(".",l)),"array"===u?O:(i&&(O[1]=a[T]?a[T]:I[p][T]+(n?"bit":"byte")+(1===O[0]?"":"s")),"object"===u?{value:O[0],symbol:O[1]}:O.join(_)))}var h,S,I;h=/^(b|B)$/,S={iec:{bits:["b","Kib","Mib","Gib","Tib","Pib","Eib","Zib","Yib"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["b","Kb","Mb","Gb","Tb","Pb","Eb","Zb","Yb"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},I={iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]},n.partial=function(t){return function(e){return n(e,t)}},t.exports=n}).call(this,n(35))},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/space_private.d162e7d1.svg"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/space_public.e7b7a593.svg"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/space_private_gray.1aa6457d.svg"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/space_public_gray.383e2187.svg"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/folder_240_flat@2x.9fb3ae2c.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/docx_240_flat@2x.bdec1035.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/mindmap_240_flat@2x.f3f3d16d.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/cloud_image_240.8892171c.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/cloud_pdf_240.771b8329.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/cloud_music_240.27eda41e.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/cloud_zip_240.f51c667f.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/cloud_video_240.72dc3321.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/cloud_wps_240.95c880b9.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/cloud_default_240.d419f4f0.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/folder_160_flat@2x.7bb63cba.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/docx_160_flat@2x.90894c67.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/mindmap_160_flat@2x.feb13db0.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/folder_60@2x.745b208e.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/docx_60@2x.61b48672.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/mindmap_60@2x.c1f08824.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/form_60@2x.3e55d464.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/board_60@2x.5b02a4ef.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/cloud_image_60.ea6c7bcd.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/cloud_pdf_60.a91ac29e.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/cloud_music_60.a2197b99.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/cloud_zip_60.da982bfe.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/cloud_video_60.8b4bbcce.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/cloud_wps_60.ea12e520.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/cloud_default_60.a2b4895f.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/folder_52@2x.74d8eb0b.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/docx_52@2x.049db12f.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/mindmap_52@2x.bf7a823a.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/form_52@2x.7cdf2506.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/board_52@2x.71d6e87e.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/folder_40_plain@2x.7217ed08.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/docx_40_plain@2x.68027af0.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/mindmap_40_plain@2x.4a3cac24.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/form_40_plain@2x.4faf35cb.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/board_40_plain@2x.3e9de644.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/cloud_image_40_plain@2x.644c6bae.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/cloud_pdf_40_plain@2x.c71533f7.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/cloud_music_40_plain@2x.8fb7f1a2.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/cloud_zip_40_plain@2x.9d68b6bd.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/cloud_video_40_plain@2x.0d002ba3.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/cloud_wps_40_plain@2x.c8d96fa5.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/cloud_default_40_plain@2x.116ba17d.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/folder_40@2x.b2b9a5cd.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/docx_40@2x.68027af0.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/mindmap_40@2x.1c02e65d.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/form_40@2x.5469d2b7.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/board_40@2x.fab05042.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/cloud_image_40@2x.d85a9e99.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/cloud_pdf_40@2x.e2aa36ad.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/cloud_music_40@2x.06199758.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/cloud_zip_40@2x.ca5cc119.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/cloud_video_40@2x.6a186dfb.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/cloud_wps_40@2x.cb931bc4.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/cloud_default_40@2x.9f908b1c.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/folder_30@2x.d64c86d8.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/docx_30@2x.d88ed484.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/mindmap_30@2x.426b6f50.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/form_30@2x.de2b355c.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/board_30@2x.67e4cead.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/cloud_image_30@2x.39a40b6d.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/cloud_pdf_30@2x.cca50cc8.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/cloud_music_30@2x.fa2ca3b6.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/cloud_zip_30@2x.9ad5551d.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/cloud_video_30@2x.85eff587.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/cloud_wps_30@2x.e58b47cc.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/cloud_default_30@2x.1d21f7f4.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/folder_160_gray@2x.6b1388af.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/docx_160_gray@2x.73fc3d6f.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/mindmap_160_gray@2x.879cf380.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/form_160_gray@2x.520ab979.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/board_160_gray@2x.8969f298.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/cloud_image_gray_160.e54a49f0.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/cloud_pdf_gray_160.43d691d3.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/cloud_music_gray_160.db49c3d6.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/cloud_zip_gray_160.f643d4b7.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/cloud_video_gray_160.daaeab12.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/cloud_wps_gray_160.caf185e4.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/cloud_default_gray_160.55d041c5.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/folder_52_gray@2x.07d61356.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/docx_52_gray@2x.984914b2.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/mindmap_52_gray@2x.16959e71.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/form_52_gray@2x.255912e3.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/board_52_gray@2x.35000856.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/cloud_image_gray_52.5f71c1bb.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/cloud_pdf_gray_52.d8e6e998.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/cloud_music_gray_52.24b5335a.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/cloud_zip_gray_52.b0e195d8.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/cloud_video_gray_52.c92e583c.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/cloud_wps_gray_52.8b45dcb1.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/cloud_default_gray_52.b79dc0fc.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/folder_52_shortcut@2x.5fe08730.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/docx_52_shortcut@2x.50b7ff3a.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/mindmap_52_shortcut@2x.0cea7e67.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/form_52_shortcut@2x.b85116ee.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/board_52_shortcut@2x.a659cb21.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/folder_160_shortcut@2x.f658f59c.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/docx_160_shortcut@2x.92f94912.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/mindmap_160_shortcut@2x.7c04fcd0.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/form_160_shortcut@2x.3679355c.png"},function(e,t,n){e.exports=n.p+"static/lizard-service-sheet/assets/board_160_shortcut@2x.a5a441a8.png"},function(e,t,n){"use strict";function r(e,t){switch(void 0===e&&(e={visible:!1,isPopconfirmVisible:!1,file:null,mode:"normal"}),t.type){case o.a.collabModal.visible:return Object(a.__assign)(Object(a.__assign)({},e),{visible:!0,file:t.file,mode:t.mode});case o.a.collabModal.hidden:return Object(a.__assign)(Object(a.__assign)({},e),{visible:!1});case o.a.popconfirm.visible:return Object(a.__assign)(Object(a.__assign)({},e),{isPopconfirmVisible:!0});case o.a.popconfirm.hidden:return Object(a.__assign)(Object(a.__assign)({},e),{isPopconfirmVisible:!1});default:return e}}var i=n(158),a=n(5),o=n(32),s=n(66),c={visible:!1,modalType:"create",guid:"",data:null},u=Object(i.a)({collabModal:r,importStatus:function(e,t){switch(void 0===e&&(e={isImportFinished:!0}),t.type){case o.a.importStatus.isImportFinished:return Object(a.__assign)(Object(a.__assign)({},e),{isImportFinished:t.isImportFinished});default:return e}},collabSpaceModal:function(e,t){switch(void 0===e&&(e=c),t.type){case s.b:return Object(a.__assign)(Object(a.__assign)(Object(a.__assign)({},e),{visible:!0}),t.payload);case s.a:return Object(a.__assign)(Object(a.__assign)({},e),{visible:!1,guid:"",data:null});case s.c:return Object(a.__assign)(Object(a.__assign)(Object(a.__assign)({},e),{visible:!0}),t.payload);default:return e}}});t.a=u},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n(3),a={initialStructure:Object(i.Map)({mirror:Object(i.Map)(),data:Object(i.Map)()}),createMirror:function(e,t,n){return e.update("data",function(e){return e.has(t)?e.set(n,e.get(t)).delete(t):e}).setIn(["mirror",t],n)},mirrorId:function(e,t){if("-"!==t[0])return t;var n=e.get("mirror");return n.has(t)?n.get(t):t},get:function(e,t,n){return e.getIn(["data",a.mirrorId(e,t)],n)},set:function(e,t,n){return a._set(e,t,Object(i.fromJS)(n))},push:function(e,t,n){var r=a.get(e,t,Object(i.List)());return a.set(e,t,r.push(Object(i.fromJS)(n)))},remove:function(e,t){return e.removeIn(["data",a.mirrorId(e,t)])},_set:function(e,t,n){return e.setIn(["data",a.mirrorId(e,t)],n)}}},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=Object.freeze({FILE_TYPE_FOLDER:1,FILE_TYPE_DOC:0,FILE_TYPE_EXCEL:-1,FILE_TYPE_GUIDANCE_WEB:-2,FILE_TYPE_GUIDANCE_PHONE:-3,GUIDE_TYPE_WEB_DESKTOP_OPEN_DOC:0,GUIDE_TYPE_WEB_DESKTOP_SHARE_DOC:1,GUIDE_TYPE_WEB_DOC_SHOW_MORE:2,GUIDE_TYPE_WEB_DOC_OPEN_SHARE:3,GUIDE_TYPE_WEB_DOC_SHARE_USERS:4,GUIDE_TYPE_WEB_DOC_CHANGE_PERMISSION:5,GUIDE_TYPE_WEB_SPREAD_SHEET_SPLASH:6,GUIDE_TYPE_WEB_CREATE_TEAM:7,GUIDE_TYPE_WEB_FIRST_TIME_ENTER_TEAM:8,GUIDE_TYPE_WEB_UPGRADE_PRO:9,GUIDE_TYPE_WEB_FIRST_TIME_IMPORT_FILE:10,GUIDE_TYPE_DINGTALK_FIRST_SHOW_DESKTOP:11,GUIDE_TYPE_DINGTALK_FIRST_OPEN_FILE:12,GUIDE_TYPE_WEB_TEAM_FIRST_INVITATION:13,GUIDE_TYPE_WEB_FIRST_TIME_TEAM_SPLASH:14,GUIDE_TYPE_WEB_DINGDING_HEADER_ADS:15,GUIDE_TYPE_WEB_FEATURE_TIP_LIST_MODE:16,GUIDE_TYPE_WEB_TECENT_APPSTORE_HEADER_ADS:17,GUIDE_TYPE_WEB_DOUBLE_12_ACTIVITY:18,GUIDE_TYPE_WEB_YEAR_STORY_CLOSED:19,GUIDE_TYPE_WEB_NEW_SHEET_GUIDE:20,GUIDE_TYPE_WEB_NEW_SHEET_BORDER:21,GUIDE_TYPE_WEB_NEW_SHEET_RULE:22,GUIDE_TYPE_WEB_NEW_SHEET_LINK:23,GUIDE_TYPE_WEB_ENTERPRISE_PRICE_OFF_ACTIVITY:23,GUIDE_TYPE_WEB_ACCOUNT_CLASSIFICATION_NOTICE:24,GUIDE_TYPE_WEB_SHIMO_ANNIVERSARY:25,GUIDE_TYPE_WEB_TOUSE_IN_PC:26,GUIDE_TYPE_WEB_INVITE_BAR:27,GUIDE_TYPE_WEB_NEW_DOC_SHOW:28,GUIDE_TYPE_WEB_IPAD_BAR:29,GUIDE_TYPE_WEB_NEW_DASHBOARD:30,GUIDE_TYPE_WEB_WECHAT_ENTERPRISE_INTRO_VIEW:31,GUIDE_TYPE_WEB_WECHAT_ENTERPRISE_INTRO_COMPLETE:32,GUIDE_TYPE_WEB_NEW_SHEET_VALIDATOR:33,GUIDE_TYPE_WEB_WECHAT_ENTERPRISE_CREATOR_TRIAL:34,GUIDE_TYPE_WEB_WECHAT_ENTERPRISE_TRIAL_WILL_EXPIRE:35,GUIDE_TYPE_WEB_WECHAT_ENTERPRISE_STANDARD_WILL_EXPIRE:36,GUIDE_TYPE_WEB_WECHAT_ENTERPRISE_TRIAL_EXPIRED:37,GUIDE_TYPE_WEB_WECHAT_ENTERPRISE_STANDARD_EXPIRED:38,GUIDE_DOC_FEATURE_ID:44,GUIDE_TYPE_WEB_SHEET_FORM:42,GUIDE_TYPE_WEB_SHEET_CHART:43,GUIDE_TYPE_WEB_DESKTOP_CREATE_FILE_BY_TEMPLATE:45,GUIDE_TYPE_WEB_DESKTOP_CUSTOM_TEMPLATE:46,GUIDE_TYPE_WEB_FIRST_VISIT_LIZARD:47,GUIDE_TYPE_WEB_DOC_SAVE_TEMPLATE:50,GUIDE_TYPE_WEB_SHEET_SAVE_TEMPLATE:51,GUIDE_TYPE_WEB_WELCOME_DOC:53,GUIDE_TYPE_WEB_FIRST_OPEN_COLLABORATOR_DIALOG:54,GUIDE_TYPE_WEB_FIRST_OPEN_SHARED_DIALOG:55,GUIDE_TYPE_WEB_DESKTOP_FIRST_CREATE_SLIDE:56,GUIDE_TYPE_WEB_DESKTOP_FIRST_CLICK_CREATE_SLIDE:57,GUIDE_TYPE_WEB_DOC_TRANSLATION:58,GUIDE_TYPE_WEB_SHEET_ADVANCED_SORT:59,GUIDE_TYPE_WEB_SHEET_ADVANCED_SORT_OPEN:60,GUIDE_TYPE_WEB_DOC_INSERT_MEDIA_AND_LOCATION:61,GUIDE_TYPE_WEB_DOC_PLAY_AUDIO_ATTACHMENT:62,GUIDE_TYPE_WEB_SHEET_QUESTIONNAIRE:63,GUIDE_TYPE_WEB_SHEET_NEW_TEMPLATE:64,GUIDE_TYPE_WEB_DOC_INSERT_DATE_MENTION:65,GUIDE_TYPE_WEB_DOC__DATE_MENTION_HELP:66,GUIDE_TYPE_WEB_SHEET_OPTIONAL_PASTE:67,GUIDE_TYPE_WEB_SHEET_CUSTOM_FORMAT_TOOLBAR:68,GUIDE_TYPE_WEB_SHEET_CUSTOM_FORMAT_DROPDOWNMENU:69,GUIDE_TYPE_WEB_SHEET_CUSTOM_FORMAT_CONTEXTMENU:70,GUIDE_TYPE_WEB_FIRST_VISIT_V2UI:71,GUIDE_TYPE_WEB_FIRST_VISIT_V2SPACE:72,GUIDE_TYPE_WEB_FIRST_VISIT_MINDMAP:73,GUIDE_TYPE_WEB_SHEET_SWITCH_TOOLBAR:74,GUIDE_TYPE_WEB_SHEET_FORMULA_VALIDATION:75,GUIDE_TYPE_WEB_FIRST_VISIT_FORM:76,GUIDE_TYPE_WEB_FIRST_VISIT_FILE_PREVIEW:77,GUIDE_TYPE_WEB_FIRST_VISIT_PREVIEW:78,LINK_CATEGORY_INVITE:0,LINK_CATEGORY_REGISTER:1,LINK_CATEGORY_FINDPASSWORD:2,LINK_CATEGORY_VERIFYEMAIL:3,LINK_CATEGORY_INVITE_LINK:4,LINK_CATEGORY_TEAM_INVITE:5,COMMENT_TARGET_TYPE_FILE:1,USER_STATUS_INVITED:-1,USER_STATUS_REGISTERED:0,USER_STATUS_VERIFIED:1,USER_ACTIVITY_LOGIN_SUCCESS:1,USER_ACTIVITY_LOGIN_FAIL:2,USER_ACTIVITY_USER_NOT_FOUND:3,USER_ACTIVITY_REGISTER_SUCCESS:4,USER_ACTIVITY_REGISTER_FAIL:5,USER_ACTIVITY_LOGOUT:6,USER_ACTIVITY_EMAIL_VERIFY:7,USER_ACTIVITY_REQUEST_VERIFICATION_CODE:8,USER_ACTIVITY_VERIFY_VERIFICATION_CODE:9,USER_ACTIVITY_VERIFY_PASSWORD:10,USER_ACTIVITY_IAP:11,USER_ACTIVITY_IAP_WRONG1:21003,USER_ACTIVITY_IAP_WRONG2:21010,NOTIFICATION_TARGET_TYPE_FILE:1,NOTIFICATION_TARGET_TYPE_COMMENT:2,NOTIFICATION_TARGET_TYPE_EXTERNALLINK:3,NOTIFICATION_TARGET_TYPE_TEAM:4,NOTIFICATION_TYPE_COMMENT:0,NOTIFICATION_TYPE_MENTION:1,NOTIFICATION_TYPE_INVITATION:2,NOTIFICATION_TYPE_TEAM:3,NOTIFICATION_TYPE_TEAM_INVITATION:4,NOTIFICATION_TYPE_TEAM_NEW_MEMBER:5,NOTIFICATION_TYPE_SHARE_DESTROYED:6,NOTIFICATION_TYPE_TODO:7,NOTIFICATION_TYPE_LIKE:8,NOTIFICATION_TYPE_TODO_MODIFY:9,NOTIFICATION_TYPE_SYSTEM_DEFAULT:20,MAIL_STATUS_NONEED:-1,MAIL_STATUS_PENDING:0,MAIL_STATUS_FINISH:1,MAIL_STATUS_ERROR:2,MAIL_EDM_USER_1:0,MAIL_EDM_USER_2:1,MAIL_EDM_USER_3:2,MAIL_EDM_USER_4:3,HISTORY_TYPE_ACTION:1,HISTORY_TYPE_CHANGESET:2,HISTORY_TYPE_COMMENT:3,HISTORY_TYPE_LINE:4,BUG_STATUS_NORMAL:0,BUG_STATUS_CONFIRMED:1,BUG_STATUS_FIXED:2,MEMBERSHIP_TARGET_TYPE_USER:1,MEMBERSHIP_TARGET_TYPE_TEAM:2,MEMBERSHIP_CATEGORY_USER_PREMIUM:1,MEMBERSHIP_CATEGORY_TEAM_STANDARD:2,MEMBERSHIP_CATEGORY_TEAM_PREMIUM:4,TEAM_TRIAL_DURATION:14,TYPE_WECHAT_INVITE_REWARD:1,TYPE_CASH_BACK_REWARD:2,TYPE_U_CAN_U_BIBI:3,TYPE_WECHAT_BIND_REWARD:4,oldGuideTypes:{}});Object.keys(r).forEach(function(e){0===e.indexOf("GUIDE_TYPE_")&&(r.oldGuideTypes[e.replace("GUIDE_","")]=r[e])}),e.exports=r},,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=n(5);n.p=__SM_CDN_HOST__+"/";var r=n(1);r.injectLizard=function(e){r.configure({fetchLocaleSync:function(){var t,e;if("undefined"==typeof lizardLocaleMessages||!Array.isArray(lizardLocaleMessages)||0===lizardLocaleMessages.length)return{};var n={};try{for(var r=c.__values(lizardLocaleMessages),i=r.next();!i.done;i=r.next()){var a=i.value;for(var o in a)if(a.hasOwnProperty(o))for(var s in a[o])a[o].hasOwnProperty(s)&&(n[s]=a[o][s]||n[s])}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n}}),r.setLocaleSync(e)},r.injectLizard(document.documentElement.lang)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertNever=function(e){throw new Error("unexpected type: "+JSON.stringify(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=n(157);t.interweave=function(n,r){return n.map(function(e,t){return t===n.length-1?e:""+e+r[t]}).join("")},t.getTextResult=function(e,t){return t&&t[e]};var u=/%(s|\d)/g;t.getInterpolateResult=function(e,t,n){try{if(!n)return;var r=c.sourceTextToKey({type:"interpolated",textParts:e}),i=n[r];if(!i)return;var a={},o=0;r.replace(u,function(e){return a[e]=t[o],o+=1,e});return"string"==typeof i?(s=a,i.replace(u,function(e){return null!==s[e]?String(s[e]):e})):void 0}catch(e){return}var s}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(427);t.getBoolean=function(e){var t=r.runtimeENV(e);return!(!t||"0"===t)},t.getString=function(e){if("UPLOADER_TYPE"===e)return"aws"===r.runtimeENV(e)?"aws":"qiniu";var t=r.runtimeENV(e);return"string"==typeof t?t:null},t.hasKey=function(e){return void 0!==r.runtimeENV(e)}},function(e,t,n){"use strict";(function(r){Object.defineProperty(t,"__esModule",{value:!0}),t.runtimeENV=function(e){var t="undefined"==typeof window?void 0===r?{}:r:window,n=t&&t.__RUNTIME_ENV__||{};return void 0===n[e]?n[function(e){return e.replace("SELF_HOSTED","PRIVATE_DEPLOY")}(e)]:n[e]}}).call(this,n(35))},,,,,,function(e,t,n){"use strict";e.exports=function(e,t){var n={};if(null==e||null!=t&&"function"!=typeof t)return n;for(var r in null==t&&(t=!0),e)!0!==t&&!t(e[r],r)||(n[r]=e[r]);return n}},,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(49);t.helper=r;var i=n(91);t.CONSTANTS=i.CONSTANTS},,,function(e,c,t){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var u=t(49),d=t(91),f=t(11);c.handleCreatePermission=function(e){var t=e.me,n=e.team,r=e.folder;if(r=r||{},!u.default.isLimitedUser(t,n))return!u.default.isSpace(r)&&r&&r.permissions&&!r.permissions.childFileCreatable?{disabled:!0,reason:d.default.FAILURE_READ_ONLY}:{disabled:!1};if(u.default.isPersonalFree(t))return!r.guid||"0"===r.guid||r.collaboratorCount<=15?{disabled:!1}:{disabled:!0,reason:d.default.FAILURE_PERSONAL_FREE};if(u.default.isEnterprise(t)){if(u.default.isExpired(t))return u.default.isTrial(t)?{disabled:!0,reason:d.default.FAILURE_TRIAL_EXPIRED}:u.default.isCreator(t)||u.default.isAdmin(t)?{disabled:!0,reason:d.default.FAILURE_ENTERPRISE_EXPIRED_CREATOR_OR_ADMIN}:{disabled:!0,reason:d.default.FAILURE_ENTERPRISE_EXPIRED_MEMBER};if(u.default.isNotOnSeat(t,n))return{disabled:!0,reason:d.default.FAILURE_NOT_ON_SEAT}}},c.checkBeforeDeleteFile=function(e){return e.file.permissions.manageable?{disabled:!1,reason:d.default.ONLY_DELETE_FILE}:{disabled:!1,reason:d.default.ONLY_EXIT_SHARE}},c.checkBeforeCopyFile=function(e){var t=e.me,n=e.team,r=e.folder;return c.handleCreatePermission({me:t,team:n,folder:r})},c.checkAfterMoveFile=function(e){var t=e.me,n=e.team,r=e.file,i=e.toDir;return i&&!(i.user===t.id||i.permissions&&i.permissions.childFileCreatable||i.user!==t.id&&r.teamId===t.team&&("creator"===t.teamRole||"admin"===t.teamRole))?"folder"===r.type?{disabled:!0,reason:d.default.NO_ACCESS_MOVE_FOLDER}:{disabled:!0,reason:d.default.NO_ACCESS_MOVE_FILE}:c.handleCreatePermission({me:t,team:n,toDir:i})},c.checkBeforeMoveFileByDragging=function(e){var t=e.me,n=e.team,r=e.file,i=e.toDir;return i&&!(i.user===t.id||i.permissions&&i.permissions.childFileCreatable||i.user!==t.id&&r.teamId===t.team&&("creator"===t.teamRole||"admin"===t.teamRole))?{disabled:!0,reason:d.default.NO_ACCESS_DELETE}:c.handleCreatePermission({me:t,team:n,toDir:i})},c.checkBeforeCreateFile=function(e){var t=e.me,n=e.team,r=e.folder;return c.handleCreatePermission({me:t,team:n,folder:r})},c.checkBeforeUploadFile=function(e){var t=e.me,n=e.team,r=e.folder;return c.handleCreatePermission({me:t,team:n,folder:r})},c.checkCreateOrUploadFileButton=function(e){var t=e.me,n=e.team,r=e.folder,i=e.folderGuid;r=(r&&r.toJS?r.toJS():r)||{};var a=c.handleCreatePermission({me:t,team:n,folder:r});if(!a.disabled){if(r.guid){var o=!u.default.isSpace(r)&&!f(r,"permissions.editable",!1),s=u.default.isSpace(r)&&!f(r,"privilege.permission.canEdit",!1);(o||s)&&(a={disabled:!0,reason:d.default.NO_ACCESS_CREATE_OR_UPLOAD_FILE})}r.guid||"0"===i||(a={disabled:!0,reason:d.default.NO_ACCESS_CREATE_OR_UPLOAD_FILE})}return a},c.checkFileCanMove=function(e,t){if(u.isSpaceOrSpaceFile(e))return f(e,"permissions.removable",!1);var n=t&&1<f(t,"collaboratorCount",0),r=f(e,"permissions.manageable",!1);return!(n&&!r)},c.checkFileCanRename=function(e){return f(e,"permissions.editable",!1)},c.checkFileCanShare=function(e){return f(e,"permissions.shareModeManageable",!1)},c.checkFileCanDelete=function(e){return u.isSpaceOrSpaceFile(e)?f(e,"permissions.removable",!1):f(e,"permissions.manageable",!1)},c.checkFileCanAddCollab=function(e,t,n){var r=u.default.isPersonalFree(t),i=u.default.isExpired(t),a=u.default.isEnterpriseStandard(t),o=u.default.isNotOnSeat(t,n)&&a,s=15<=f(e,"collaboratorCount",0),c=f(e,"permissions.collaboratorManageable",!0);return!(o&&s||r&&s||i&&s)&&c},c.checkFileCanExport=function(e,t,n){return f(e,"permissions.exportable",!1)}},function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=t(49),c=t(91),i=t(11);a.checkWechatAddButton=function(e){var t=e.me,n=e.file,r=e.team;return s.default.isOnlyReaderOrCommenter(t,n)?{disabled:!0,reason:c.default.NO_ACCESS_EDIT}:s.default.isOutsiderCollaborator(t,n)?{disabled:!0,reason:c.default.OUTSIDER_CANNOT_ADD_USER}:s.default.isEnterpriseFile(n)&&s.default.isEnterprise(t)&&!s.default.isAllowAddOutsider(t,r,n)?{disabled:!0,reason:c.default.NO_ACCESS_ADD_OUTSIDER}:15<=n.collaboratorCount?s.default.isPersonalFree(t)?{disabled:!0,reason:c.default.NO_ACCESS_ADD_USER}:s.default.isEnterprise(t)&&s.default.isExpired(t)?{disabled:!0,reason:c.default.EXPIRED_CANNOT_ADD_USER}:s.default.isEnterprise(t)&&s.default.isNotOnSeat(t,r)?{disabled:!0,reason:c.default.NOT_ON_SEAT_CANNOT_ADD_USER}:{disabled:!1}:{disabled:!i(n,"permissions.collaboratorManageable",!0)}},a.checkFooterAddButton=function(e){var t=e.me,n=e.team,r=e.file;return s.default.isOnlyReaderOrCommenter(t,r)?{disabled:!0,reason:c.default.NO_ACCESS_EDIT}:s.default.isOutsiderCollaborator(t,r)?{disabled:!0,reason:c.default.OUTSIDER_CANNOT_ADD_USER}:r&&15<=r.collaboratorCount?s.default.isEnterpriseDingding(t)?{disabled:!1}:s.default.isPersonalFree(t)?{disabled:!0,reason:c.default.NO_ACCESS_ADD_USER}:s.default.isEnterprise(t)&&s.default.isExpired(t)?{disabled:!0,reason:c.default.EXPIRED_CANNOT_ADD_USER}:s.default.isEnterprise(t)&&s.default.isNotOnSeat(t,n)?{disabled:!0,reason:c.default.NOT_ON_SEAT_CANNOT_ADD_USER}:{disabled:!1}:{disabled:!i(r,"permissions.collaboratorManageable",!0)}},a.checkAddButton=function(e){var t=e.me,n=e.file,r=e.team,i=e.user;return a.checkBatchAddButton({me:t,file:n,team:r,user:i,addedCollaboratorCount:0})},a.checkBatchAddButton=function(e){var t=e.me,n=e.file,r=e.team,i=e.user,a=e.addedCollaboratorCount,o=void 0===a?0:a;return s.default.isEnterpriseFile(n)&&s.default.isOutsiderCollaborator(t,n)?{disabled:!0,reason:c.default.OUTSIDER_CANNOT_ADD_USER}:s.default.isOnlyReaderOrCommenter(t,n)?{disabled:!0,reason:c.default.NO_ACCESS_EDIT}:s.default.isAllowAddOutsider(t,r,n)||i.isDepartment||!s.default.isOutsider(t,i,n)?0<=n.collaboratorCount&&15<=n.collaboratorCount+o&&o<20?s.default.isPersonalFree(t)?{disabled:!0,reason:c.default.NO_ACCESS_ADD_USER}:s.default.isEnterprise(t)&&s.default.isExpired(t)?{disabled:!0,reason:c.default.EXPIRED_CANNOT_ADD_USER}:s.default.isEnterprise(t)&&s.default.isNotOnSeat(t,r)?{disabled:!0,reason:c.default.NOT_ON_SEAT_CANNOT_ADD_USER}:{disabled:!1}:20<=o?{disabled:!0,reason:c.default.TOO_MANY_COLLABORATORS}:{disabled:!1}:{disabled:!0,reason:c.default.NO_ACCESS_ADD_OUTSIDER}},a.checkEditButton=function(e){var t=e.me,n=e.file,r=(e.team,e.userId),i=e._user;return s.default.isOnlyReaderOrCommenter(t,n)?t.id===r&&(s.default.isBelongToTheSameEnterprise(t,n)&&(s.default.isCreator(t)||s.default.isAdmin(t))||!s.default.isEnterpriseFile(n)&&t.owner)?{disabled:!1}:{disabled:!0,reason:c.default.NO_ACCESS_MODIFY}:s.default.isOutsiderCollaborator(t,n)?{disabled:!0,reason:c.default.OUTSIDER_CANNOT_MODIFY_ROLE}:i&&2===i.type&&i.disabled?{disabled:!0,reason:c.default.ADDED_DEPT_CANNOT_MODIFY_ROLE_IN_ADDING_MODE}:i&&2===i.type&&!n.isSpace?{disabled:!0,reason:c.default.FILE_CANNOT_MODIFI_SPACE_COLLAB_ROLE}:{disabled:!1}},a.checkCommentableButtonAndReadableButton=function(e){var t=e.me,n=e.file;return s.default.isEnterprise(t)&&s.default.isExpired(t)?{disabled:!0,reason:c.default.EXPIRED_CANNOT_MODIFY_ROLE}:s.default.isPersonal(t)?{disabled:!0,reason:c.default.PERSONAL_VERSION_CANNOT_ADD_USER}:s.default.isOutsiderCollaborator(t,n)?{disabled:!0,reason:c.default.OUTSIDER_CANNOT_MODIFY_ROLE}:s.default.isOnlyReaderOrCommenter(t,n)?s.default.isBelongToTheSameEnterprise(t,n)&&(s.default.isCreator(t)||s.default.isAdmin(t))?{disabled:!1}:{disabled:!0,reason:c.default.NO_ACCESS_MODIFY}:{disabled:!1}},a.checkTransferButton=function(e){var t=e.me,n=e.file;e.team;return 0<=n.collaboratorCount&&n.collaboratorCount<=1?{disabled:!0,reason:c.default.ONLY_ONE_COLLABORATOR_CANNOT_TRANSFER}:"owner"===t.role||s.default.isBelongToTheSameEnterprise(t,n)&&(s.default.isCreator(t)||s.default.isAdmin(t))?{disabled:!1}:{disabled:!0,reason:c.default.NO_ACCESS_TRANSFER}},a.checkRemoveFileAdmin=function(e){var t=e.me,n=e.file;return t.owner||s.default.isBelongToTheSameEnterprise(t,n)&&(s.default.isCreator(t)||s.default.isAdmin(t))?{disabled:!1}:s.default.isFileAdmin(t,n)?{disabled:!1}:{disabled:!0,reason:c.default.NO_ACCESS_DELETE}},a.checkTeamMemberListVisible=function(e){var t=e.me;return s.default.isPersonal(t)?{disabled:!0,reason:c.default.PERSONAL_VERSION_CANNOT_ADD_USER}:{disabled:!1}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(49);t.checkInviteMemberDisabled=function(e){var t=e.me,n=e.team;return r.default.isAllowInviteTeamMember(t,n)?{disabled:!1}:{disabled:!0}},t.checkEnterpriseManagementDisabled=function(e){var t=e.me;e.team;return r.default.isEnterprise(t)&&(r.default.isCreator(t)||r.default.isAdmin(t))?{disabled:!1}:{disabled:!0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(49);t.checkSpaceCanEdit=function(e){var t=e.getIn(["privilege","permission"]).toJS(),n=t.canEdit,r=t.canAdmin;return n||r},t.checkSpaceCanDelete=function(e,t){return!!e.getIn(["privilege","permission"]).toJS().canRemove},t.checkSpaceCanExit=function(e){return!!e.getIn(["privilege","permission"]).toJS().canExit},t.checkSpaceCanModifyOwner=function(e){return!!e.getIn(["privilege","permission"]).toJS().canModifyOwner},t.checkSpaceCanModifyCollaborators=function(e){return!!e.getIn(["privilege","permission"]).toJS().canModifyCollaborators},t.checkSpaceCanTransfer=function(e,t){return r.default.isSpaceCreator(e,t)},t.checkTeamMemberExitPublicSpace=function(e,t){return e.isSpace&&"private"!==e.shareMode&&r.default.isBelongToTheSameEnterprise(t,e)}},function(e,t,n){"use strict";n.d(t,"b",function(){return u}),n.d(t,"a",function(){return d});var r=n(3),i=(n(11),n(13)),a=n.n(i),o=(n(177),n(186),n(19)),s=(n(34),n(8));function c(e){return e.files}function u(e){return e.unreadShared||Object(r.List)()}function d(e,t,n){return f(c(e),t,n)}function f(e,t,n){if(!t)return null;var r=s.a.get(e,t);if(!r&&n){var i=t.toLowerCase();(t=e.get("data").findKey(function(e,t){return t.toLowerCase()===i&&!!e}))&&(r=s.a.get(e,t))}return r}Object(o.createSelector)(c,function(e){return e.recent||Object(r.List)()},function(t,e){return e.map(function(e){return e?s.a.get(t,e):null}).filter(a.a)}),Object(o.createSelector)(c,function(e){return e.used&&e.used.get("list")||Object(r.List)()},function(t,e){return e.map(function(e){return e?s.a.get(t,e):null}).filter(a.a)}),Object(o.createSelector)(c,function(e){return e.deleted||Object(r.List)()},function(t,e){return e.map(function(e){return e?s.a.get(t,e):null}).filter(a.a)}),Object(o.createSelector)(c,function(e){return e.starred||Object(r.List)()},function(t,e){return e.map(function(e){return e?s.a.get(t,e):null}).filter(a.a)})},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(2),i=Object(r.e)(["id","token","stale"])},,,,,,function(e,t,n){"use strict";n.d(t,"e",function(){return R}),n.d(t,"d",function(){return y}),n.d(t,"b",function(){return N}),n.d(t,"c",function(){return C}),n.d(t,"g",function(){return j}),n.d(t,"f",function(){return D}),n.d(t,"p",function(){return P}),n.d(t,"a",function(){return x}),n.d(t,"i",function(){return M}),n.d(t,"h",function(){return U}),n.d(t,"l",function(){return F}),n.d(t,"m",function(){return w}),n.d(t,"n",function(){return B}),n.d(t,"k",function(){return G}),n.d(t,"j",function(){return H}),n.d(t,"o",function(){return z}),n.d(t,"q",function(){return Y});function o(e){var t=e.state,n=e.type,r=e.pollNewest,i=e.dispatch,a=e.next,o=!r&&t&&t.get("nextURL")||{lastTimestamp:Date.now()};return Object(T.l)({local:t&&i(Object(S.d)(t.toJS(),{list:[p.a]})),remote:i(Object(h.get)("files?type="+n+"&collaboratorCount=true&collaboratorCount"+("created"===n?"&excerpt=true":"")+"&limit="+v.pageSize()+"&"+c.a.stringify(o),{schema:{list:[p.a]}})).then(function(e){a({data:e,pollNewest:r})})})}var s=n(5),r=n(1),m=n.n(r),i=n(185),O=n.n(i),a=n(69),c=n.n(a),_=n(12),p=n(7),l=n(449),E=n(8),b=n(34),T=n(2),u=n(16),g=n(187),h=n(6),S=n(10),d=n(0),f=n(9),I=n.n(f),v=Object(T.d)(),A=Object(T.d)(),R=(Object(T.c)(d.a.STAR_FILE,function(e){return{guid:e}}),Object(T.c)(d.a.UNSTAR_FILE,function(e){return{guid:e}}),Object(T.c)(d.a.MUTE_FILE,function(r){return function(e){var t=e.dispatch,n=e.next;return t(Object(h.put)("files/"+r+"/mute")).then(function(){n({guid:r})})}}),Object(T.c)(d.a.UNMUTE_FILE,function(r){return function(e){var t=e.dispatch,n=e.next;return t(Object(h.destroy)("files/"+r+"/mute")).then(function(){n({guid:r})})}}),Object(T.c)(d.a.UPDATE_FILE_NAME,function(e,t){return{guid:e,name:t}}),Object(T.c)(d.a.UPDATE_FILE_SHARE_MODE,function(a,o,s){return void 0===s&&(s=!1),function(e){var t=e.getState,n=e.dispatch,r=e.next,i=t().files;return"-"===(a=E.a.mirrorId(i,a))[0]?Promise.reject(new Error(m()("请等待同步后再修改共享状态"))):n(Object(h.patch)("files/"+E.a.mirrorId(i,a),{body:{shareMode:o,passwordProtected:s?1:0}})).then(function(){r({guid:a,shareMode:o,passwordProtected:s})})}}),Object(T.c)(d.a.SET_FILE_PASSWORD_PROTECTED,function(a){return function(e){var t=e.getState,n=e.dispatch,r=e.next,i=t().files;return"-"===(a=E.a.mirrorId(i,a))[0]?Promise.reject(new Error(m()("请等待同步后再修改共享状态"))):n(Object(h.patch)("files/"+a,{body:{passwordProtected:1}})).then(function(e){var t=e.password;r({guid:a,password:t})})}}),Object(T.c)(d.a.SET_FILE_PASSWORD_UNPROTECTED,function(a){return function(e){var t=e.getState,n=e.dispatch,r=e.next,i=t().files;return"-"===(a=E.a.mirrorId(i,a))[0]?Promise.reject(new Error(m()("请等待同步后再修改共享状态"))):n(Object(h.patch)("files/"+a,{body:{passwordProtected:0}})).then(function(){r({guid:a})})}}),Object(T.c)(d.a.UPDATE_FILE_SHARE_PASSWORD,function(a){return function(e){var t=e.getState,n=e.dispatch,r=e.next,i=t().files;return"-"===(a=E.a.mirrorId(i,a))[0]?Promise.reject(new Error(m()("请等待同步后再修改共享状态"))):n(Object(h.patch)("files/"+a,{body:{resetPassword:1}})).then(function(e){var t=e.password;r({guid:a,password:t})})}}),Object(T.c)(d.a.GET_STARRED_FILES,function(){return Object(u.a)(function(e){var t=e.getState,n=e.dispatch,r=e.next,i=t().starred;return Object(T.l)({local:i&&n(Object(S.d)(i.toJS(),[p.a])),remote:n(Object(h.get)("files/starred",{schema:[p.a]})).then(r)})},"getStarredFiles")}),Object(T.c)(d.a.GET_DELETED_FILES,function(){return Object(u.a)(function(e){var t=e.getState,n=e.dispatch,r=e.next,i=t().deleted;return Object(T.l)({local:i&&n(Object(S.d)(i.toJS(),[p.a])),remote:n(Object(h.get)("trashes",{schema:[p.a]})).then(r)})},"getDeletedFiles")}),Object(T.c)(d.a.GET_RECENT_FILES,function(){return Object(u.a)(function(e){var t=e.getState,n=e.dispatch,r=e.next,i=t().recent;return Object(T.l)({local:i&&n(Object(S.d)(i.toJS(),[p.a])),remote:n(Object(h.get)("files/recent",{schema:[p.a]})).then(r)})},"getRecentFiles")}),Object(T.c)(d.a.GET_USED_FILES,function(a){return Object(u.a)(function(e){var t=e.getState,n=e.dispatch,r=e.next,i=t().used;return o({state:i,type:"used",pollNewest:a,dispatch:n,next:r})},"getUsedFiles")}),Object(T.c)(d.a.GET_UPDATED_FILES,function(a){return Object(u.a)(function(e){var t=e.getState,n=e.dispatch,r=e.next,i=t().updated;return o({state:i,type:"updated",pollNewest:a,dispatch:n,next:r})},"getUpdatedFiles")}),Object(T.c)(d.a.GET_CREATED_FILES,function(a){return Object(u.a)(function(e){var t=e.getState,n=e.dispatch,r=e.next,i=t().created;return o({state:i,type:"created",pollNewest:a,dispatch:n,next:r})},"getCreatedFiles")}),Object(T.c)(d.a.GET_SHARED_FILES,function(a){return Object(u.a)(function(e){var t=e.getState,n=e.dispatch,r=e.next,i=t().shared;return o({state:i,type:"shared",pollNewest:a,dispatch:n,next:r})},"getSharedFiles")}),Object(T.c)(d.a.GET_UNREAD_SHARED_FILES,function(){return Object(u.a)(function(e){var t=e.dispatch,n=e.next;return t(Object(h.get)("files?type=shared&excerpt=true&collaboratorCount=true&page=1&marked=true&pageSize="+A.pageSize(),{schema:[p.a]})).then(n)},"getSharedFiles")}),Object(T.c)(d.a.GET_FILE_CHILDREN,function(f,l){return void 0===f&&(f="0"),void 0===l&&(l=!1),Object(u.a)(function(e){var t=e.dispatch,n=e.getState,r=e.next,i=n(),a=i.tree,o=i.files;f=E.a.mirrorId(o,f);var s,c=b.b.getChildren(a,f),u=c&&t(Object(S.d)(c.toJS(),[p.a]));if("-"===f[0])s=Promise.reject(new Error("Skip fetching children of an unsynced file "+f));else{var d=void 0;d=l?"files?collaboratorCount=true"+("0"===f?"":"&folder="+f):"files?excerpt=true&collaboratorCount=true"+("0"===f?"":"&folder="+f),s=t(Object(h.get)(d,{schema:[p.a]})).then(function(e){return r({parent:f,children:e})})}return Object(T.l)({local:u,remote:s})},"getFileChildren_"+f)})),y=Object(T.c)(d.a.GET_FILE,function(a,o){return void 0===o&&(o={}),Object(u.a)(function(e){var t=e.dispatch,n=e.getState;a=E.a.mirrorId(n().files,a);var r=t(Object(S.d)(a,p.a)).then(function(){if(!E.a.get(n().files,a))return Promise.reject(new Error("File "+a+" doesn't exist locally"))});o.collaboratorCount=!0,o._=Date.now();var i="-"===a[0]?Promise.reject(new Error("File "+a+" has not synced")):t(Object(h.get)("files/"+a+"?"+c.a.stringify(o),{schema:p.a}));return Object(T.l)({local:r,remote:i})},"getFile_"+a+"?"+c.a.stringify(o))}),N=(Object(T.c)(d.a.GET_FILES_GUIDE,function(){return function(e){return(0,e.dispatch)(Object(h.get)("files/guide"))}}),Object(T.c)(d.a.CREATE_FILE,function(e){var i=e.type,t=e.name,a=void 0===t?m()("无标题"):t,n=e.parent,o=void 0===n?"0":n,s=e.pool,r=e.mute,c=void 0!==r&&r,u=e.role,d=void 0===u?"owner":u,f=e.guid,l=void 0===f?"-"+O()("abcdefghijklmnopqrstuvwxyz0123456789",16).join(""):f,_=e.createdAt,p=void 0===_?(new Date).toString():_,E=e.isFromSVC;return function(e){var t=e.getState,n=e.next,r=t().me.id;return n({parent:o,data:{type:i,name:a,guid:l,user:r,mute:c,pool:s,role:d,updatedUser:r,lastUsedAt:p,lastAction:"edit",createdAt:p,updatedAt:p,isFromSVC:E}}),l}}),Object(T.c)(d.a.CREATE_FILE_SYNCHRONOUSLY,function(i,a,o,s,c){return void 0===a&&(a=m()("无标题")),void 0===o&&(o="0"),void 0===s&&(s=void 0),void 0===c&&(c={}),function(e){var t=e.dispatch,n=e.next,r=c.after;return t(Object(h.post)("files",{body:{type:i,name:a,folder:o,content:s,after:r},schema:p.a})).then(function(e){return n({guid:e,parent:o,options:c}),e})}})),C=(Object(T.c)(d.a.DUPLICATE_FILE,function(s,c){return function(e){var t=e.getState,n=e.next,r=e.dispatch,i=t(),a=i.files,o=i.me;return"-"===(s=E.a.mirrorId(a,s))[0]?Promise.reject(new Error(m()("文件还未同步，请等待文件同步后重试"))):r(Object(h.post)("files/"+s+"/action/duplicate",{schema:p.a})).then(function(e){return n({guid:e,sourceId:s,targetParentId:c,me:o}),E.a.get(t().files,e)})}}),Object(T.c)(d.a.DUPLICATE_FILES,function(s,c){return function(e){var n=e.getState,r=e.next,t=e.dispatch,i=n(),a=i.files,o=i.me;return s=s.map(function(e){return E.a.mirrorId(a,e)}),t(Object(h.post)("files/action/duplicate",{body:{fileGuids:s,folder:"0"===c?"Desktop":c},schema:[p.a]})).then(function(e){var t=e;return r({guids:t,sourceIds:s,targetParentId:c,me:o}),t.reduce(function(e,t){return E.a.get(n().files,t)},{})})}}),Object(T.c)(d.a.REMOVE_FILE,function(a,o){return function(e){var t=e.getState,n=e.dispatch,r=e.next,i=t().files;return"-"===(a=E.a.mirrorId(i,a))[0]?(r({guid:a}),Promise.resolve()):n(Object(h.destroy)((o?"spaces":"files")+"/"+a)).then(function(){return r({guid:a})})}}),Object(T.c)(d.a.REMOVE_FILE_SHORTCUT,function(a,o){return function(e){var t=e.getState,n=e.dispatch,r=e.next,i=t().files;return a=a.map(function(e){return E.a.mirrorId(i,e)}),n(Object(h.post)("shortcuts/action/destroy",{body:{from:o,fileGuids:a}})).then(function(){return r({guids:a})})}}),Object(T.c)(d.a.REMOVE_FILES,function(a,o){return function(e){var t=e.getState,n=e.dispatch,r=e.next,i=t().files;return a=a.map(function(e){return E.a.mirrorId(i,e)}),n(Object(h.post)("files/action/destroy",{body:{folder:o,fileGuids:a},background:!0})).then(function(){return r({guids:a})})}}),Object(T.c)(d.a.DELETE_TRASH,function(a,o){return void 0===o&&(o=a),function(e){var t=e.getState,n=e.dispatch,r=e.next,i=t().files;return"-"===(a=E.a.mirrorId(i,a))[0]?(r({guid:a}),Promise.resolve()):n(Object(h.destroy)("trashes/"+o)).then(function(){return r({guid:a})})}}),Object(T.c)(d.a.CANCEL_DELETE,function(a,o){return void 0===o&&(o=a),function(e){var t=e.getState,n=e.dispatch,r=e.next,i=t().files;return"-"===(a=E.a.mirrorId(i,a))[0]?(r({guid:a}),Promise.resolve()):n(Object(h.patch)("trashes/"+o,{body:{isTrashed:!1}})).then(function(){return r({guid:a})})}}),Object(T.c)(d.a.MARK_FILE,function(r){return function(e){var t=e.dispatch,n=e.next;return t(Object(h.destroy)("files/"+r+"/mark")).then(function(){return n({guid:r})})}}),Object(T.c)(d.a.MARK_ALL_SHARED_FILES,function(){return function(e){var t=e.dispatch,n=e.next;return t(Object(h.destroy)("files/marks/batch",{body:{type:"share"}})).then(n)}}),Object(T.c)(d.a.EXIT_FILE,function(s){return function(e){var t=e.getState,n=e.dispatch,r=e.next,i=t(),a=i.files,o=i.me;return"-"===(s=E.a.mirrorId(a,s))[0]?Promise.reject(new Error(m()("文件还未同步，请等待文件同步后重试"))):n(Object(h.destroy)("files/"+s+"/collaborators/"+o.id)).then(function(){return r({guid:s})})}})),L=(Object(T.c)(d.a.MOVE_FILES,function(e){var c=e.guids,u=e.target,d=e.from,f=e.after;return function(e){var t=e.getState,n=e.next,r=e.dispatch,i=t().files;if("-"===(u=E.a.mirrorId(i,u))[0])return Promise.reject(new Error(m()("不能移动到未同步的文件夹")));c.forEach(function(e){"-"===E.a.mirrorId(i,e)&&Promise.reject(new Error(m()("不能移动未同步的文件")))});var a=""+d,o=""+u,s={fileGuids:c,to:o="0"===o?"Desktop":u,from:a="0"===a?"Desktop":d};return f&&(s.after=f),r(Object(h.post)("files/action/move",{body:s})).then(function(){n({guids:c,target:u,from:d,after:f})})}}),Object(T.c)(d.a.MOVE_FILE,function(e){var o=e.guid,s=e.target,c=e.before,u=e.after,t=e.force,d=void 0===t||t;return function(e){var t=e.getState,n=e.next,r=e.dispatch,i=t().files;if("-"===(s=E.a.mirrorId(i,s))[0])return Promise.reject(new Error(m()("不能移动到未同步的文件夹")));if("-"===(o=E.a.mirrorId(i,o))[0])return d?n({guid:o,target:s,before:c,after:u}):Promise.reject(new Error(m()("不能移动未同步的文件")));var a={};return"0"!==s&&(a.to=s),c&&!u&&(a.before=c),u&&(a.after=u),r(Object(h.post)("files/"+o+"/action/move",{body:a})).then(function(){n({guid:o,target:s,before:c,after:u})})}})),j=(Object(T.c)(d.a.SORT_FILE,function(s,c,u){return function(e){var t=e.getState,n=e.next,r=e.dispatch,i=t(),a=i.files,o=i.status.online;return"-"===(s=E.a.mirrorId(a,s))[0]?Promise.reject(new Error(m()("不能移动未同步的文件"))):(c=c?E.a.mirrorId(a,c):null)&&"-"===c[0]?Promise.reject(new Error(m()("不能移动到未同步的文件之前"))):(o&&n({guid:s,before:c,parent:u}),r(Object(h.post)("files/"+s+"/action/sort",{body:{before:c,parent:u}})))}}),Object(T.c)(d.a.SEARCH_FILE,function(r,i,a){return void 0===i&&(i=0),void 0===a&&(a=6),function(e){var t=e.dispatch,n={keyword:r,page:i,pageSize:a};return t(Object(h.post)("search/files",{body:n,transformResponseBody:function(e){return e.results.forEach(function(e){e.type=Object(T.b)(e.type)}),e}}))}}),Object(T.c)(d.a.SEARCH_FILE,function(r,i,a,o){return void 0===a&&(a=12),void 0===o&&(o={}),function(e){var t=e.dispatch,n=I()({keyword:r,size:a,params:i},o);return t(Object(h.post)("search_v2/files",{body:n,transformResponseBody:function(e){return e.results.forEach(function(e){e.type=Object(T.b)(e.type)}),e}}))}}),Object(T.c)(d.a.SAVE_TEMPLATE,function(r,i,a){return function(e){var t=e.dispatch,n={name:r,originGuid:i,type:a};return t(Object(h.post)("templates",{body:n}))}}),Object(T.c)(d.a.GET_FILE_ANCESTORS,function(d,f){return void 0===f&&(f=!1),function(e){var t=e.dispatch,i=e.getState,a=e.next,r=i(),o=[d=E.a.mirrorId(r.files,d)];if(!function e(t){var n=b.b.getParent(r.tree,t);if(n){if(-1<o.indexOf(n))return;o.push(n),"0"!==n&&e(n)}}(d),"0"===o[o.length-1]||"1"===o[o.length-1])return t(Object(S.d)(o.slice(1,-1),[p.a])).then(function(){var e=o.slice(1),t=f?e:[e[0]];return u(i(),t)});var s={isSpace:!1},c=!1;return t(Object(h.get)("files/"+d+"/ancestors",{schema:[p.a],transformResponseBody:function(e){var t=e.ancestors?e.ancestors:e;return c=e.hasUnprivilegedParent||!1,s=t[0]||s,t}})).then(function(e){var t=s.isSpace||c;a({guid:d,ancestors:e,inSpace:t,hasUnprivilegedParent:c});var n=e.reverse().concat(t?"1":"0"),r=f?n:[n[0]];return u(i(),r)});function u(t,e){return e.map(function(e){return"0"===e||"1"===e?e:Object(l.a)(t,e)})}}}),Object(T.c)(d.a.GET_WECHAT_SHARE_LINK,function(r){return function(e){var t=e.dispatch,n=e.getState;return"-"===(r=E.a.mirrorId(n().files,r))[0]?Promise.reject(new Error(m()("文件还未同步，请等待文件同步后重试"))):t(Object(h.post)("files/"+r+"/invite_links")).then(function(e){if(e&&e.wechatInviteLink)return e.wechatInviteLink;throw new Error(m()("创建邀请链接失败（没有 wechatInviteLink 属性）"))})}}),Object(T.c)(d.a.GET_WECHAT_SHARE_QR_LINK,function(r){return function(e){var t=e.dispatch,n=e.getState;return"-"===(r=E.a.mirrorId(n().files,r))[0]?Promise.reject(new Error(m()("文件还未同步，请等待文件同步后重试"))):t(Object(h.post)("files/"+r+"/invite_links")).then(function(e){if(e&&e.wechatQRLink)return e.wechatQRLink;throw new Error(m()("创建邀请链接失败（没有 wechatQRLink 属性）"))})}})),D=Object(T.c)(d.a.GET_SHORTCUTS,function(){return function(e){var t=e.dispatch,n=e.getState,r=e.next,i=n().shortcuts,a=i?t(Object(S.a)(i)):null,o=t(Object(h.get)("desktop_shortcuts?pageSize=-1",{schema:[p.a],transformResponseBody:function(e){return e.map(function(e){return Object(s.__assign)({},e.file)})}})).then(r);return Object(T.l)({local:a,remote:o})}}),P=(Object(T.c)(d.a.CREATE_SHORTCUT,function(r,i){return function(e){var t=e.dispatch,n=e.next;return t(Object(h.post)("files/"+r+"/desktop_shortcuts",{body:{before:i||void 0}})).then(function(){n({guid:r,before:i})})}}),Object(T.c)(d.a.UPDATE_SHORTCUT,function(r,i){return function(e){var t=e.dispatch,n=e.next;return t(Object(h.patch)("files/"+r+"/desktop_shortcuts/verbose",{body:{before:i||void 0}})).then(function(){n({guid:r,before:i})})}}),Object(T.c)(d.a.REMOVE_SHORTCUT,function(r){return function(e){var t=e.dispatch,n=e.next;return t(Object(h.destroy)("files/"+r+"/desktop_shortcuts/verbose")).then(function(){n({guid:r})})}}),Object(T.c)(d.a.UPDATE_CURRENT_FOLDER,function(i,a){return function(e){var t=e.dispatch,n=(0,e.getState)().tree,r=b.b.getParent(n,i);return r!==a?t(R(r)):Promise.resolve()}})),x=Object(T.c)(d.a.BG_SYNC_FILE,function(u,d){return function(e){var n=e.dispatch,t=e.getState,r=e.next;function i(){return E.a.get(t().files,u)}var a=i();if(!a)return Promise.reject(new Error("File not found "+u));if(d.has("isNew")){var o=b.b.getParent(t().tree,u),s={folder:o,name:a.name,type:a.type};return n(Object(h.post)("files",{body:s,background:!0,timeout:1e4})).then(function(e){if(i()){var t=e.guid;return n(Object(S.d)({file:e.guid},{file:p.a})).then(function(){r({guid:u,mirrorTo:t,resolved:d.subtract(["starred"]).toJS()})})}}).catch(function(e){if(e.offline)throw e;if("0"===o)throw e;return n(L({guid:a.guid,target:"0",force:!0}))})}if(d.has("starred")){var c=a.starred?h.put:h.destroy;return n(c("files/"+u+"/star",{background:!0,timeout:1e4})).then(function(){var e=i();e&&e.starred===a.starred&&r({guid:u,resolved:["starred"]})}).catch(function(e){if(e.offline)throw e;r({guid:u,resolved:["starred"]})})}return d.has("name")?n(Object(h.patch)("files/"+u,{body:{name:a.name},background:!0,timeout:1e4})).then(function(){var e=i();e&&e.name===a.name&&r({guid:u,resolved:["name"]})}).catch(function(e){if(e.offline)throw e;r({guid:u,resolved:["name"]})}):d.has("duplicateAction")?Promise.resolve(r({guid:u,resolved:["duplicateAction","user","updatedUser"]})):Promise.reject(new Error("Unhandled property(ies) in "+d.toJS()+", ask @lvquan for further information!"))}}),M=Object(T.c)(d.a.PUSH_DESTROY_FILE,function(e){return{guid:e}}),U=Object(T.c)(d.a.PUSH_CREATE_FILE,function(e,t,n,r){return{guid:e,parent:t,role:n,byAddCollaborator:r}}),F=(Object(T.c)(d.a.PUSH_CHECK_FILE_MOVED,function(e,t){return{guid:e,parent:t}}),Object(T.c)(d.a.PUSH_SORT_FILE,function(e,t){return{guid:e,before:t}})),w=Object(T.c)(d.a.PUSH_STAR_FILE,function(e){return{guid:e}}),B=Object(T.c)(d.a.PUSH_UNSTAR_FILE,function(e){return{guid:e}}),G=Object(T.c)(d.a.PUSH_MARK_FILE,function(e){return{guid:e}}),H=Object(T.c)(d.a.PUSH_MARK_ALL_FILES_WITH_IDS,function(e){return{ids:e}}),z=Object(T.c)(d.a.PUSH_UPDATE_COLLABORATOR_COUNT,function(e){var u=e.type,d=e.fileGuid,f=e.collaboratorCount,l=e.collaborators;return function(e){var t=e.dispatch,n=e.next,r=e.getState;if(l&&!(l.length<=0)&&r().me.id!==l[0].id){var i=Object(_.wormalize)(l[0],p.c),a=i.result,o=i.entities,s=a,c=function(){t(Object(S.d)(s,p.c,o)).then(function(){return t(Object(S.b)(o))}).then(function(){n({type:u,guid:d,collaboratorCount:f,userId:s,owner:!1,permission:"editable",role:l[0].role||"editor"})})};r().collaborators.getIn(["data",d])?c():t(Object(g.c)(d)).then(function(){c()})}}}),Y=Object(T.c)(d.a.VERIF_PASSWORD,function(r,i){return Object(u.a)(function(e){var t=e.dispatch,n=e.next;return t(Object(h.get)("files/"+r+"/action/verify_password?password="+i)).then(function(e){return n({guid:r,result:e}),e})},"sos:verifyPassword")});Object(T.c)(d.a.VALIDATE_PASSWORD,function(t){return function(e){return(0,e.dispatch)(Object(h.get)("files/"+t+"/needPassword"))}}),Object(T.c)(d.a.IS_INCLUDE_LINK_FILE,function(t){return function(e){return(0,e.dispatch)(Object(h.get)("files/"+t+"/shortcuts")).then(function(e){return!!e.length})}}),Object(T.c)(d.a.DO_EXPORT_FILE,function(a,o,s,e,c){return void 0===e&&(e=!1),function(e){var t=e.dispatch,n=1,r=encodeURIComponent(s.replace("#","_")),i="xlsx"===a;return t(Object(h.get)("files/"+o+"/export?type="+a+"&file="+o+"&returnJson="+n+"&name="+r+(i?"&isAsync=1":""),{timeout:12e4,allocateResponse:c}))}}),Object(T.c)(d.a.LOCK_FILE,function(r){return function(e){var t=e.dispatch,n=e.next;return t(Object(h.put)("files/"+r+"/lock")).then(function(){n({guid:r})})}}),Object(T.c)(d.a.UNLOCK_FILE,function(r){return function(e){var t=e.dispatch,n=e.next;return t(Object(h.destroy)("files/"+r+"/lock")).then(function(){n({guid:r})})}}),Object(T.c)(d.a.GET_WATERMARK,function(r){return function(e){var t=e.dispatch,n=e.next;return t(Object(h.get)("files/"+r+"/watermark")).then(function(e){var t=e.status;n({guid:r,status:t})})}}),Object(T.c)(d.a.GET_FILE_CREATOR,function(r){return function(e){var t=e.dispatch,n=e.next;return t(Object(h.get)("files/"+r+"/creator")).then(function(e){return n({creator:e,guid:r})})}})},function(e,t,n){"use strict";n.d(t,"c",function(){return I}),n.d(t,"b",function(){return v}),n.d(t,"d",function(){return A}),n.d(t,"e",function(){return R}),n.d(t,"a",function(){return y}),n.d(t,"f",function(){return N});var i,f=n(5),r=n(1),c=n.n(r),a=n(9),u=n.n(a),o=n(11),d=n.n(o),s=n(189),l=n.n(s),_=n(68),p=n.n(_),O=n(7),E=n(190),m=n(2),b=n(16),T=n(6),g=n(10),h=n(0),S=Object(m.c)(h.a.LOGOUT,function(){return function(e){var t=e.getState,n=e.storage,r=e.next;return i||(t().me.token?(r(void 0),b.a.clear(),i=n.getAllKeys().then(function(e){return n.mremove(e.filter(function(e){return l()(e,"sos:")}))}).then(function(){i=null}).catch(function(){i=null})):Promise.resolve())}}),I=(Object(m.c)(h.a.REMOVE_CURRENT_USER),Object(m.c)(h.a.REGISTER,function(e,n){var r=e.email,i=e.password,a=e.name,o=e.mobile,s=e.mobileVerifyCode,c=e.withTeam,u=e.teamName,d=e.teamType,f=e.teamScale,l=e.province,_=e.city,p=e.avatar,E=e.referer,m=e.inviter;return function(e){var t=e.dispatch;return c?t(S()).then(function(){return t(Object(T.post)("users",{body:{email:r,password:i,name:a,mobile:o,mobileVerifyCode:s,withTeam:!0,teamName:u,teamType:d,teamScale:f,province:l,city:_,inviter:m,avatar:p,referer:E},schema:O.c,geetestHeaders:n}))}):t(S()).then(function(){return t(Object(T.post)("users",{body:{email:r,password:i,name:a,mobile:o,mobileVerifyCode:s,avatar:p,referer:E,inviter:m},schema:O.c,geetestHeaders:n}))})}}),Object(m.c)(h.a.GENERIC_LOGIN,function(a,o,s){return function(e){var n=e.dispatch,r=e.next,t=e.api,i=u()({scope:"write",client_id:t.id,client_secret:t.secret,grant_type:a},o);return n(S()).then(function(){return n(Object(T.post)("oauth/token",{body:i,geetestHeaders:s}))}).then(function(e){var t=e.access_token;return n(Object(T.get)("users/me",{token:t,schema:O.c})).then(function(e){r({token:t,id:e})})})}}),Object(m.c)(h.a.LOGIN_WITH_CORS_SESSION,function(){return function(e){var t=e.dispatch,n=e.next;return t(S()).then(function(){return t(Object(T.get)("users/me",{schema:O.c}))}).then(function(e){return n({id:e})})}})),v=(Object(m.c)(h.a.SET_CURRENT_USER),Object(m.c)(h.a.GET_USER,function(n){return function(e){var t=e.dispatch;return Object(m.l)({local:t(Object(g.d)(n,O.c)),remote:t(Object(T.get)("users/"+n,{schema:O.c}))})}}),Object(m.c)(h.a.GET_USER_BY_EMAIL,function(r){return function(e){var t=e.dispatch,n=e.next;return t(Object(T.get)("users/email?email="+encodeURIComponent(r),{schema:O.c})).then(function(e){return n(e),e})}}),Object(m.c)(h.a.GET_USER_BY_MOBILE,function(r){return function(e){var t=e.dispatch,n=e.next;return t(Object(T.get)("users/mobile?mobile="+encodeURIComponent(r),{schema:O.c})).then(function(e){return n(e),e})}}),Object(m.c)(h.a.GET_WECHAT_BINDING_STATUS,function(){return function(e){var t=e.dispatch,n=e.next,r=(0,e.getState)().me.id;return t(Object(T.get)("users/me/wechat")).then(function(e){var t=e.bound;n({id:r,bound:t})})}}),Object(m.c)(h.a.BIND_WECHAT,function(a){return function(e){var t=e.dispatch,n=e.getState,r=e.next,i=n().me.id;return t(Object(T.post)("wechat/action/bind",{body:{code:a,type:"app"}})).then(function(e){var t=e.success,n=e.msg;if(!t)return Promise.reject(new Error(n));r({id:i})})}}),Object(m.c)(h.a.UNBIND_WECHAT,function(){return function(e){var t=e.dispatch,n=e.getState,r=e.next,i=n().me.id;return t(Object(T.post)("wechat/action/unbind")).then(function(){return r({id:i})})}}),Object(m.c)(h.a.UPDATE_EMAIL,function(a,e){var o=e.currentPassword,s=e.password,c=e.premium;return function(e){var t=e.dispatch,n=e.getState,r=e.next,i=n().me.id;return t(Object(T.patch)("users/me",{body:{email:a,currentPassword:o,password:s,premium:c}})).then(function(e){var t=e.email;return r({id:i,email:t,premium:c})})}}),Object(m.c)(h.a.BIND_ACCOUNT_EMAIL,function(e){var a=e.email,o=e.code,s=e.premium;return function(e){var t=e.dispatch,n=e.getState,r=e.next,i=n().me.id;return t(Object(T.post)("users/"+i+"/action/bind_email",{body:{email:a,code:o,premium:s}})).then(function(){return r({id:i,email:a,premium:s})})}}),Object(m.c)(h.a.CHECK_REGISTRATION_BY_EMAIL,function(t){return function(e){return(0,e.dispatch)(Object(T.get)("users/email?email="+encodeURIComponent(t))).then(function(){return!0}).catch(function(e){if(404===e.status)return!1;throw e})}}),Object(m.c)(h.a.CHECK_REGISTRATION_BY_MOBILE,function(t){return function(e){return(0,e.dispatch)(Object(T.get)("users/mobile?mobile="+encodeURIComponent(t))).then(function(){return!0}).catch(function(e){if(404===e.status)return!1;throw e})}}),Object(m.c)(h.a.UPDATE_USERNAME,function(i){return function(e){var t=e.dispatch,n=e.next,r=(0,e.getState)().me.id;return t(Object(T.patch)("users/me",{body:{name:i}})).then(function(){n({id:r,name:i})})}}),Object(m.c)(h.a.GET_RECENT_CONTACTS,function(){return function(e){var t=e.dispatch,n=e.next,r=e.getState,i=r().recentContacts,a=Object(E.b)(r())&&Object(E.b)(r()).id,o=i?t(Object(g.d)(i.toJS(),[O.c])):Promise.reject(new Error(c()("尚未同步过最近联系人"))),s=t(Object(T.post)("search?type=recent_contact&pageSize=-1"+(a?"&teamId="+a:""),{body:{keyword:"*"},schema:[O.c],transformResponseBody:function(e){return d()(e,"recent_contact.results",[]).map(function(e){return u()({isVerified:0<e.status},e)})}})).then(function(e){return n(e)});return Object(m.l)({local:o,remote:s})}})),A=Object(m.c)(h.a.DELETE_RECENT_CONTACT,function(r){return function(e){var t=e.dispatch,n=e.next;return t(Object(T.destroy)("users/me/recent_contacts/"+r)).then(function(){return n({userId:r})})}}),R=(Object(m.c)(h.a.GET_ADD_USER_INVITATION_LINK,function(){return function(e){return(0,e.dispatch)(Object(T.get)("teams/mine/invite_state")).then(function(e){return e.inviteGuid})}}),Object(m.c)(h.a.CLOSE_INVITATION_LINK,function(){return function(e){return(0,e.dispatch)(Object(T.destroy)("teams/mine/invite_state"))}}),Object(m.c)(h.a.OPEN_INVITATION_LINK,function(){return function(e){return(0,e.dispatch)(Object(T.post)("teams/mine/invite_state",{}))}}),Object(m.c)(h.a.GET_TEAM_FROM_INVITATION_LINK,function(e){var t=e.inviteGuid;return function(e){return(0,e.dispatch)(Object(T.get)("teams/invite?inviteGuid="+t)).then(function(e){return e})}}),Object(m.c)(h.a.INVITE_TEAM_MEMBERS,function(t){return function(e){return(0,e.dispatch)(Object(T.post)("departments/action/add_users_to_department_by_account",{body:{accounts:t,departmentID:1}}))}}),Object(m.c)(h.a.RESET_PASSWORD,function(e){var t=e.email;return function(e){return(0,e.dispatch)(Object(T.post)("users/action/reset_password",{body:{email:t}}))}}),Object(m.c)(h.a.RESET_PASSWORD_BY_CODE,function(e){var t=e.mobile,n=e.email,r=e.verifyCode,i=e.password;return function(e){return(0,e.dispatch)(Object(T.post)("users/action/reset_password_by_code",{body:{mobile:t,email:n,verifyCode:r,password:i}}))}}),Object(m.c)(h.a.UPDATE_PASSWORD,function(a,o){return function(e){var t=e.dispatch,n=e.getState,r=e.next,i=n().me.id;return t(Object(T.patch)("users/me",{body:{currentPassword:a,password:o}})).then(r({id:i}))}}),Object(m.c)(h.a.UPDATE_AVATAR,function(o,s){return function(e){var t,r=e.dispatch,i=e.getState,a=e.next;if("function"==typeof File&&o instanceof File)t=o.type.split("/").pop()||"jpg";else{if("string"!=typeof o)throw new Error("avatarURI is not valid");if(t=(o.split(".").pop(),"jpg").toLowerCase(),!s)switch(t){case"gif":s="image/gif";break;case"jpg":case"jpeg":s="image/jpeg";break;case"png":s="image/png";break;default:s=void 0}}return r(Object(T.post)("action/create_upload_forms?type=avatar",{body:[t]})).then(function(e){var t=Object(f.__read)(e,1)[0],n=new FormData;return"function"==typeof File&&o instanceof File?n.append("file",o):n.append("file",{uri:o,type:s}),Object.keys(t).forEach(function(e){n.append(e,t[e])}),fetch("https://up.qbox.me",{body:n,method:"POST"}).then(function(e){return e.json()}).then(function(e){var t=e.data.images,n=i().me.id;return r(Object(T.patch)("users/me",{body:{avatar:t}})).then(function(){a({id:n,avatar:t})})})})}}),Object(m.c)(h.a.SEARCH_RECENT_CONTACTS_AND_TEAM_MEMBERS,function(s,t,c,n,r){return function(e){return(0,e.dispatch)(Object(T.post)("search?type=recent_contact,team_member,department&page=0&pageSize=100",{body:{keyword:t,teamId:c,guid:n,fileId:r}})).then(function(e){var t=e.recent_contact.results,n=e.team_member.results,r=e.department.results.map(function(e){e.type=2;var t=e.permission;return t&&(e.role=t.role,e.permission=t.permission),e}),i=n.map(function(e){e.team=c;var t=e.permission;return t&&(e.permission=t.permission),e}),a=t.map(function(e){var t=e.permission;return t&&(e.permission=t.permission),e}),o=r.concat(p()(a,i,"id"));return{id:s,data:o}})}})),y=(Object(m.c)(h.a.SEND_MOBILE_CAPTCHA,function(e,i,a,o){var s=e.mobile,c=e.type,t=e.countryCode,u=void 0===t?"+86":t;return function(e){var t=e.dispatch,n="voice"===c?{mobile:u+s,type:c}:{mobile:u+s},r="action/send_verification_code";return o&&(r+="_"+o),t(Object(T.post)(r,{body:Object(f.__assign)(Object(f.__assign)({},n),{scenes:a}),geetestHeaders:i}))}}),Object(m.c)(h.a.SEND_MOBILE_CAPTCHA,function(e,i){var a=e.mobile,o=e.type,t=e.countryCode,s=void 0===t?"+86":t;return function(e){var t=e.dispatch,n="voice"===o?{mobile:s+a,type:o}:{mobile:s+a},r=Object(T.encodeFormData)(Object(f.__assign)(Object(f.__assign)({},n),i));return t(Object(T.post)("auth/code/send_verification_code",{body:r}))}}),Object(m.c)(h.a.SEND_EMAIL_CAPTCHA,function(e,t){var n=e.email,r=e.scenes;return function(e){return(0,e.dispatch)(Object(T.post)("action/send_email_code",{body:{email:n,scenes:r},geetestHeaders:t}))}}),Object(m.c)(h.a.GET_GEETEST_CAPTCHA,function(t){return void 0===t&&(t="web"),function(e){return(0,e.dispatch)(Object(T.post)("captchas",{body:{type:t}}))}})),N=(Object(m.c)(h.a.GET_GEETEST_CAPTCHA,function(t){return void 0===t&&(t="web_login"),function(e){return(0,e.dispatch)(Object(T.get)("auth/geetest/captcha?scene="+t))}}),Object(m.c)(h.a.VERIFY_CAPTCHA,function(e){var t=e.mobile,n=e.email,r=e.code,i=e.scenes;return function(e){return(0,e.dispatch)(Object(T.post)("action/verify_verification_code",{body:{mobile:t,email:n,code:r,scenes:i}}))}}),Object(m.c)(h.a.VERIFY_ACCOUNT_PASSWORD,function(e){var r=e.password;return function(e){var t=e.dispatch,n=(0,e.getState)().me.id;return t(Object(T.post)("users/"+n+"/action/verify_password",{body:{password:r}}))}}),Object(m.c)(h.a.BIND_MOBILE_NUMBER,function(e){var a=e.mobile,o=e.captcha,t=e.countryCode,s=void 0===t?"+86":t;return function(e){var t=e.dispatch,n=e.next,r=(0,e.getState)().me.id,i={mobile:s+a,mobileVerifyCode:o};return t(Object(T.patch)("users/me",{body:Object(f.__assign)({},i)})).then(n({id:r,mobile:a}))}}),Object(m.c)(h.a.BIND_MOBILE_ACCOUNT,function(e){var a=e.mobile,o=e.captcha,t=e.countryCode,s=void 0===t?"+86":t,n=e.filing,c=void 0!==n&&n,u=e.password,d=e.premium;return function(e){var t=e.dispatch,n=e.next,r=(0,e.getState)().me.id,i={mobile:s+a,mobileVerifyCode:o,filing:c,password:u,premium:d};return t(Object(T.post)("users/"+r+"/action/bind_mobile",{body:Object(f.__assign)({},i)})).then(function(e){var t=e.isMobileAccount;return n({id:r,mobile:a,countryCode:s,isMobileAccount:t,premium:d})})}}),Object(m.c)(h.a.UPDATE_MOBILE,function(e){var i=e.mobile,a=e.password,o=e.lastCode,s=e.code,c=e.authToken,t=e.countryCode,u=void 0===t?"+86":t;return function(e){var t=e.dispatch,n=e.next,r=(0,e.getState)().me.id;return t(Object(T.post)("users/"+r+"/action/change_mobile",{body:{mobile:u+i,password:a,lastCode:o,authToken:c,code:s}})).then(function(){return n({id:r,mobile:i,countryCode:u})})}}),Object(m.c)(h.a.SET_MERGE_VIEWED,function(){return function(e){return(0,e.dispatch)(Object(T.patch)("users/me",{body:{viewedMergePrompt:!0}}))}}),Object(m.c)(h.a.MERGE_ACCOUNT,function(e){var t=e.email,n=e.password;return function(e){return(0,e.dispatch)(Object(T.post)("users/me/action/merge_account",{body:{email:t,password:n}}))}}),Object(m.c)(h.a.GET_BINDING_INFO_BY_CODE,function(t){return function(e){return(0,e.dispatch)(Object(T.get)("wechat/action/binding_info?code="+t))}}),Object(m.c)(h.a.GET_BINDING_INFO_BY_EMAIL,function(t){return function(e){return(0,e.dispatch)(Object(T.get)("wechat/action/binding_info?email="+t))}}),Object(m.c)(h.a.GET_BINDING_INFO_BY_MOBILE,function(t){return function(e){return(0,e.dispatch)(Object(T.get)("wechat/action/binding_info?mobile="+encodeURIComponent(t)))}}),Object(m.c)(h.a.SET_ANONYMOUS_USER,function(t){return function(e){(0,e.next)({id:t})}}));Object(m.c)(h.a.GET_ACTIVITIES_LIST,function(){return function(e){var t=e.dispatch,n=e.next,r=(0,e.getState)().me.id;return t(Object(T.get)("activities")).then(function(e){if(Array.isArray(e)){var t=e.map(function(e){return e.actTypes});n({id:r,activitiesList:t})}})}})},function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"a",function(){return c}),n.d(t,"b",function(){return f}),n.d(t,"d",function(){return l});var _=n(5),r=n(0),a=n(3),i=n(9),p=n.n(i),E=n(12),m=n(7),s=n(42),u=n(2),O=n(6),b=n(10),d=Object(u.d)(),o=(Object(u.c)(r.a.ACCEPT_TEAM_INVITATION,function(i){return function(e){var t=e.dispatch,n=e.next,r=(0,e.getState)().me;return t(Object(O.post)("users/me/action/join_team_by_invitation",{body:{teamId:i}})).then(function(){n({userId:r.id,teamId:i})})}}),Object(u.c)(r.a.JOIN_TEAM_BY_INVITE_GUID,function(e){var i=e.inviteGuid;return function(e){var t=e.dispatch,n=e.next,r=(0,e.getState)().me;return t(Object(O.post)("users/me/action/join_team_by_invite_guid",{body:{inviteGuid:i}})).then(function(e){return n({teamId:e.id,id:r.id})})}}),Object(u.c)(r.a.GET_TEAM_MEMBERS,function(s,c){return void 0===s&&(s={}),function(e){var t=e.dispatch,n=e.next,r=(0,e.getState)().teamMembers,i=r?t(Object(b.d)(r.toJS(),[m.c])):Promise.reject(new Error("Members has not been synced"));d.resetPage();var a=Object(_.__assign)({pagination:!0,perPage:d.pageSize()},s),o=Object.keys(a).map(function(e){var t=a[e];return null==t&&(t=""),"&"+encodeURIComponent(e)+"="+encodeURIComponent(t)}).join("").slice(1);return Object(u.l)({local:i,remote:t(Object(O.get)("teams/mine/members?"+o,{schema:[m.c]})).then(n).catch(function(e){c&&c(e),n(null)})})}})),c=Object(u.c)(r.a.ADD_TEAM_MEMBERS,function(){return function(e){var t=e.dispatch,n=e.next;return t(Object(O.get)("teams/mine/members?pagination=true&page="+d.page()+"&perPage="+d.pageSize(),{schema:[m.c]})).then(function(e){return 0===e.length||e.length<d.pageSize()?(n(e),!1):(d.addPage(),n(e),!0)})}}),f=(Object(u.c)(r.a.SEARCH_TEAM_MEMBERS,function(t,n){return function(e){return(0,e.dispatch)(Object(O.post)("search/team_members?page=0&pageSize=100",{body:{keyword:n}})).then(function(e){return Object(_.__assign)(Object(_.__assign)({},e),{id:t})})}}),Object(u.c)(r.a.GET_MY_TEAM,function(){return function(e){var t,d=e.dispatch,n=e.next,f=e.getState,r=f().teams,l=Object(s.a)(f());r&&l&&l.team&&r.filter(function(e){return!!(e&&e.size&&e.first())&&(a.Set.isSet(e)?e.first():e.first().get("id"))===l.team}).size&&(t=d(Object(b.d)(r,m.b)));var i=Promise.all([d(Object(O.get)("teams/mine/permissions")),d(Object(O.get)("teams/mine"))]).then(function(e){var t=Object(_.__read)(e,2),n=t[0],r=t[1],i=l&&l.team,a=f().teams,o=a&&a.getIn(["data",i,"settings"])&&a.getIn(["data",i,"settings"]).toJS()||{},s=Object(E.wormalize)(p()({},{settings:Object(_.__assign)(Object(_.__assign)({},o),n)},r),m.b),c=s.result,u=s.entities;return d(Object(b.d)(c,m.b,u)).then(function(){return d(Object(b.b)(u)),c})}).then(n).catch(function(){n(null)});return Object(u.l)({local:t,remote:i})}})),l=(Object(u.c)(r.a.GET_MY_TEAM_ORDERS,function(){return function(e){return(0,e.dispatch)(Object(O.get)("charges?type=team"))}}),Object(u.c)(r.a.SET_ANONYMOUS_TEAM,function(){return function(e){(0,e.next)(void 0)}}));Object(u.c)(r.a.GET_TEAM_SETTINGS_BY_URL,function(o){return function(e){var t=e.getState,n=e.dispatch,r=e.next,i=Object(s.a)(t()),a=i&&i.team;return n(Object(O.get)("team_settings/"+o)).then(function(e){return r({teamId:a,url:o,setting:e.status})})}}),Object(u.c)(r.a.UPDATE_TEAM_INFO,function(o){return function(e){var t=e.getState,n=e.dispatch,r=e.next,i=Object(s.a)(t()),a=i&&i.team;return n(Object(O.patch)("teams/mine",{body:o})).then(function(){r(Object(_.__assign)(Object(_.__assign)({},o),{teamId:a}))})}}),Object(u.c)(r.a.CREATE_TEAM,function(t){return function(e){return(0,e.dispatch)(Object(O.post)("v2/teams",{body:t}))}})},function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"ShareMode",function(){return a}),n.d(r,"get120SizeIcon",function(){return Ji}),n.d(r,"get80SizeIcon",function(){return qi}),n.d(r,"get30SizeIcon",function(){return Zi}),n.d(r,"get26SizeIcon",function(){return Qi}),n.d(r,"get20SizeIcon",function(){return ea}),n.d(r,"getCreateIcon",function(){return ta}),n.d(r,"get15SizeIcon",function(){return na}),n.d(r,"get80SizeGrayIcon",function(){return ra}),n.d(r,"get26SizeGrayIcon",function(){return ia}),n.d(r,"get26ShortcutIcon",function(){return aa}),n.d(r,"get80ShortcutIcon",function(){return oa}),n.d(r,"getFavicon",function(){return sa}),n.d(r,"getSubIconPosition",function(){return fa});var i={};n.r(i),n.d(i,"apiLog",function(){return ma}),n.d(i,"Timer",function(){return Oa}),n.d(i,"default",function(){return ba});var a,o,s=n(38),c=n(4),u=n(206),d=n.n(u),f=n(108),l=n.n(f),_=n(221),p=n.n(_),E=n(121),m=n.n(E),O=n(238),b=n.n(O),T=n(250),g=n.n(T),h=n(262),S=n.n(h),I=n(274),v=n.n(I),A=n(286),R=n.n(A),y=n(94),N=n.n(y),C=n(99),L=n.n(C),j=n(109),D=n.n(j),P=n(112),x=n.n(P),M=n(122),U=n.n(M),F=n(125),w=n.n(F),B=n(128),G=n.n(B),H=n(131),z=n.n(H),Y=n(134),k=n.n(Y),$=n(137),V=n.n($),W=n(140),K=n.n(W),X=n(95),J=n.n(X),q=n(100),Z=n.n(q),Q=n(110),ee=n.n(Q),te=n(113),ne=n.n(te),re=n(123),ie=n.n(re),ae=n(126),oe=n.n(ae),se=n(129),ce=n.n(se),ue=n(132),de=n.n(ue),fe=n(135),le=n.n(fe),_e=n(138),pe=n.n(_e),Ee=n(141),me=n.n(Ee),Oe=n(96),be=n.n(Oe),Te=n(101),ge=n.n(Te),he=n(111),Se=n.n(he),Ie=n(114),ve=n.n(Ie),Ae=n(124),Re=n.n(Ae),ye=n(127),Ne=n.n(ye),Ce=n(130),Le=n.n(Ce),je=n(133),De=n.n(je),Pe=n(136),xe=n.n(Pe),Me=n(139),Ue=n.n(Me),Fe=n(142),we=n.n(Fe),Be=n(199),Ge=n.n(Be),He=n(209),ze=n.n(He),Ye=n(212),ke=n.n(Ye),$e=n(224),Ve=n.n($e),We=n(229),Ke=n.n(We),Xe=n(241),Je=n.n(Xe),qe=n(253),Ze=n.n(qe),Qe=n(265),et=n.n(Qe),tt=n(277),nt=n.n(tt),rt=n(289),it=n.n(rt),at=n(294),ot=n.n(at),st=n(198),ct=n.n(st),ut=n(208),dt=n.n(ut),ft=n(211),lt=n.n(ft),_t=n(223),pt=n.n(_t),Et=n(228),mt=n.n(Et),Ot=n(240),bt=n.n(Ot),Tt=n(252),gt=n.n(Tt),ht=n(264),St=n.n(ht),It=n(276),vt=n.n(It),At=n(288),Rt=n.n(At),yt=n(293),Nt=n.n(yt),Ct=n(197),Lt=n.n(Ct),jt=n(207),Dt=n.n(jt),Pt=n(210),xt=n.n(Pt),Mt=n(222),Ut=n.n(Mt),Ft=n(227),wt=n.n(Ft),Bt=n(239),Gt=n.n(Bt),Ht=n(251),zt=n.n(Ht),Yt=n(263),kt=n.n(Yt),$t=n(275),Vt=n.n($t),Wt=n(287),Kt=n.n(Wt),Xt=n(292),Jt=n.n(Xt),qt=n(97),Zt=n.n(qt),Qt=n(213),en=n.n(Qt),tn=n(225),nn=n.n(tn),rn=n(230),an=n.n(rn),on=n(242),sn=n.n(on),cn=n(254),un=n.n(cn),dn=n(266),fn=n.n(dn),ln=n(278),_n=n.n(ln),pn=n(290),En=n.n(pn),mn=n(295),On=n.n(mn),bn=n(98),Tn=n.n(bn),gn=n(214),hn=n.n(gn),Sn=n(226),In=n.n(Sn),vn=n(231),An=n.n(vn),Rn=n(243),yn=n.n(Rn),Nn=n(255),Cn=n.n(Nn),Ln=n(267),jn=n.n(Ln),Dn=n(279),Pn=n.n(Dn),xn=n(291),Mn=n.n(xn),Un=n(296),Fn=n.n(Un),wn=n(200),Bn=n.n(wn),Gn=n(102),Hn=n.n(Gn),zn=n(215),Yn=n.n(zn),kn=n(115),$n=n.n(kn),Vn=n(232),Wn=n.n(Vn),Kn=n(244),Xn=n.n(Kn),Jn=n(256),qn=n.n(Jn),Zn=n(268),Qn=n.n(Zn),er=n(280),tr=n.n(er),nr=n(202),rr=n.n(nr),ir=n(104),ar=n.n(ir),or=n(217),sr=n.n(or),cr=n(117),ur=n.n(cr),dr=n(234),fr=n.n(dr),lr=n(246),_r=n.n(lr),pr=n(258),Er=n.n(pr),mr=n(270),Or=n.n(mr),br=n(282),Tr=n.n(br),gr=n(201),hr=n.n(gr),Sr=n(103),Ir=n.n(Sr),vr=n(216),Ar=n.n(vr),Rr=n(116),yr=n.n(Rr),Nr=n(233),Cr=n.n(Nr),Lr=n(245),jr=n.n(Lr),Dr=n(257),Pr=n.n(Dr),xr=n(269),Mr=n.n(xr),Ur=n(281),Fr=n.n(Ur),wr=n(204),Br=n.n(wr),Gr=n(106),Hr=n.n(Gr),zr=n(219),Yr=n.n(zr),kr=n(119),$r=n.n(kr),Vr=n(236),Wr=n.n(Vr),Kr=n(248),Xr=n.n(Kr),Jr=n(260),qr=n.n(Jr),Zr=n(272),Qr=n.n(Zr),ei=n(284),ti=n.n(ei),ni=n(203),ri=n.n(ni),ii=n(105),ai=n.n(ii),oi=n(218),si=n.n(oi),ci=n(118),ui=n.n(ci),di=n(235),fi=n.n(di),li=n(247),_i=n.n(li),pi=n(259),Ei=n.n(pi),mi=n(271),Oi=n.n(mi),bi=n(283),Ti=n.n(bi),gi=n(205),hi=n.n(gi),Si=n(107),Ii=n.n(Si),vi=n(220),Ai=n.n(vi),Ri=n(120),yi=n.n(Ri),Ni=n(237),Ci=n.n(Ni),Li=n(249),ji=n.n(Li),Di=n(261),Pi=n.n(Di),xi=n(273),Mi=n.n(xi),Ui=n(285),Fi=n.n(Ui),wi=n(194),Bi=n.n(wi),Gi=n(196),Hi=n.n(Gi),zi=n(193),Yi=n.n(zi),ki=n(195),$i=n.n(ki),Vi=n(18);function Wi(e){return e.shareMode&&e.shareMode!==a.PRIVATE?Bi.a:Yi.a}function Ki(e){return e.shareMode&&e.shareMode!==a.PRIVATE?Hi.a:$i.a}function Xi(e){return"modoc"===e?"modoc":Object(s.toFileTypeStr)(e)}function Ji(e){var t;return Vi.helper.isSpace(e)?Wi(e):((t={})[c.fileTypes.folder.type]=Lt.a,t[c.fileTypes.newdoc.type]=N.a,t[c.fileTypes.modoc.name]=ct.a,t[c.fileTypes.sheet.type]=J.a,t[c.fileTypes.slide.type]=be.a,t[c.fileTypes.mindmap.type]=Ge.a,t[c.fileTypes.form.type]=Zt.a,t[c.fileTypes.board.type]=Tn.a,t[c.fileTypes.IMG]=Bn.a,t[c.fileTypes.PDF]=hr.a,t[c.fileTypes.XLS]=J.a,t[c.fileTypes.DOCX]=N.a,t[c.fileTypes.PPT]=be.a,t[c.fileTypes.MP3]=rr.a,t[c.fileTypes.ZIP]=ri.a,t[c.fileTypes.MP4]=Br.a,t[c.fileTypes.WPS]=hi.a,t)[Xi(e.type)]||d.a}function qi(e){var t;return Vi.helper.isSpace(e)?Wi(e):((t={})[c.fileTypes.folder.type]=Dt.a,t[c.fileTypes.newdoc.type]=L.a,t[c.fileTypes.modoc.name]=dt.a,t[c.fileTypes.sheet.type]=Z.a,t[c.fileTypes.slide.type]=ge.a,t[c.fileTypes.mindmap.type]=ze.a,t[c.fileTypes.form.type]=Zt.a,t[c.fileTypes.board.type]=Tn.a,t[c.fileTypes.IMG]=Hn.a,t[c.fileTypes.PDF]=Ir.a,t[c.fileTypes.XLS]=Z.a,t[c.fileTypes.DOCX]=L.a,t[c.fileTypes.PPT]=ge.a,t[c.fileTypes.MP3]=ar.a,t[c.fileTypes.ZIP]=ai.a,t[c.fileTypes.MP4]=Hr.a,t[c.fileTypes.WPS]=Ii.a,t)[Xi(e.type)]||l.a}function Zi(e){var t;return Vi.helper.isSpace(e)?Wi(e):((t={})[c.fileTypes.folder.type]=xt.a,t[c.fileTypes.newdoc.type]=D.a,t[c.fileTypes.modoc.name]=lt.a,t[c.fileTypes.sheet.type]=ee.a,t[c.fileTypes.slide.type]=Se.a,t[c.fileTypes.mindmap.type]=ke.a,t[c.fileTypes.form.type]=en.a,t[c.fileTypes.board.type]=hn.a,t[c.fileTypes.IMG]=Yn.a,t[c.fileTypes.PDF]=Ar.a,t[c.fileTypes.XLS]=ee.a,t[c.fileTypes.DOCX]=D.a,t[c.fileTypes.PPT]=Se.a,t[c.fileTypes.MP3]=sr.a,t[c.fileTypes.ZIP]=si.a,t[c.fileTypes.MP4]=Yr.a,t[c.fileTypes.WPS]=Ai.a,t)[Xi(e.type)]||p.a}function Qi(e){var t;return Vi.helper.isSpace(e)?Wi(e):((t={})[c.fileTypes.folder.type]=Ut.a,t[c.fileTypes.newdoc.type]=x.a,t[c.fileTypes.modoc.name]=pt.a,t[c.fileTypes.sheet.type]=ne.a,t[c.fileTypes.slide.type]=ve.a,t[c.fileTypes.mindmap.type]=Ve.a,t[c.fileTypes.form.type]=nn.a,t[c.fileTypes.board.type]=In.a,t[c.fileTypes.IMG]=$n.a,t[c.fileTypes.PDF]=yr.a,t[c.fileTypes.XLS]=ne.a,t[c.fileTypes.DOCX]=x.a,t[c.fileTypes.PPT]=ve.a,t[c.fileTypes.MP3]=ur.a,t[c.fileTypes.ZIP]=ui.a,t[c.fileTypes.MP4]=$r.a,t[c.fileTypes.WPS]=yi.a,t)[Xi(e.type)]||m.a}function ea(e){var t;return Vi.helper.isSpace(e)?Wi(e):((t={})[c.fileTypes.folder.type]=wt.a,t[c.fileTypes.newdoc.type]=U.a,t[c.fileTypes.modoc.name]=mt.a,t[c.fileTypes.sheet.type]=ie.a,t[c.fileTypes.slide.type]=Re.a,t[c.fileTypes.mindmap.type]=Ke.a,t[c.fileTypes.form.type]=an.a,t[c.fileTypes.board.type]=An.a,t[c.fileTypes.IMG]=Wn.a,t[c.fileTypes.PDF]=Cr.a,t[c.fileTypes.XLS]=ie.a,t[c.fileTypes.DOCX]=U.a,t[c.fileTypes.PPT]=Re.a,t[c.fileTypes.MP3]=fr.a,t[c.fileTypes.ZIP]=fi.a,t[c.fileTypes.MP4]=Wr.a,t[c.fileTypes.WPS]=Ci.a,t)[Xi(e.type)]||b.a}function ta(e){var t;return((t={})[c.fileTypes.folder.type]=Gt.a,t[c.fileTypes.newdoc.type]=w.a,t[c.fileTypes.modoc.name]=bt.a,t[c.fileTypes.sheet.type]=oe.a,t[c.fileTypes.slide.type]=Ne.a,t[c.fileTypes.mindmap.type]=Je.a,t[c.fileTypes.form.type]=sn.a,t[c.fileTypes.board.type]=yn.a,t[c.fileTypes.IMG]=Xn.a,t[c.fileTypes.PDF]=jr.a,t[c.fileTypes.XLS]=oe.a,t[c.fileTypes.DOCX]=w.a,t[c.fileTypes.PPT]=Ne.a,t[c.fileTypes.MP3]=_r.a,t[c.fileTypes.ZIP]=_i.a,t[c.fileTypes.MP4]=Xr.a,t[c.fileTypes.WPS]=ji.a,t)[Xi(e)]||g.a}function na(e){var t;return Vi.helper.isSpace(e)?Wi(e):((t={})[c.fileTypes.folder.type]=zt.a,t[c.fileTypes.newdoc.type]=G.a,t[c.fileTypes.modoc.name]=gt.a,t[c.fileTypes.sheet.type]=ce.a,t[c.fileTypes.slide.type]=Le.a,t[c.fileTypes.mindmap.type]=Ze.a,t[c.fileTypes.form.type]=un.a,t[c.fileTypes.board.type]=Cn.a,t[c.fileTypes.IMG]=qn.a,t[c.fileTypes.PDF]=Pr.a,t[c.fileTypes.XLS]=ce.a,t[c.fileTypes.DOCX]=G.a,t[c.fileTypes.PPT]=Le.a,t[c.fileTypes.MP3]=Er.a,t[c.fileTypes.ZIP]=Ei.a,t[c.fileTypes.MP4]=qr.a,t[c.fileTypes.WPS]=Pi.a,t)[Xi(e.type)]||S.a}function ra(e){var t;return Vi.helper.isSpace(e)?Ki(e):((t={})[c.fileTypes.folder.type]=kt.a,t[c.fileTypes.newdoc.type]=z.a,t[c.fileTypes.modoc.name]=St.a,t[c.fileTypes.sheet.type]=de.a,t[c.fileTypes.slide.type]=De.a,t[c.fileTypes.mindmap.type]=et.a,t[c.fileTypes.form.type]=fn.a,t[c.fileTypes.board.type]=jn.a,t[c.fileTypes.IMG]=Qn.a,t[c.fileTypes.PDF]=Mr.a,t[c.fileTypes.XLS]=de.a,t[c.fileTypes.DOCX]=z.a,t[c.fileTypes.PPT]=De.a,t[c.fileTypes.MP3]=Or.a,t[c.fileTypes.ZIP]=Oi.a,t[c.fileTypes.MP4]=Qr.a,t[c.fileTypes.WPS]=Mi.a,t)[Xi(e.type)]||v.a}function ia(e){var t;return Vi.helper.isSpace(e)?Ki(e):((t={})[c.fileTypes.folder.type]=Vt.a,t[c.fileTypes.newdoc.type]=k.a,t[c.fileTypes.modoc.name]=vt.a,t[c.fileTypes.sheet.type]=le.a,t[c.fileTypes.slide.type]=xe.a,t[c.fileTypes.mindmap.type]=nt.a,t[c.fileTypes.form.type]=_n.a,t[c.fileTypes.board.type]=Pn.a,t[c.fileTypes.IMG]=tr.a,t[c.fileTypes.PDF]=Fr.a,t[c.fileTypes.XLS]=le.a,t[c.fileTypes.DOCX]=k.a,t[c.fileTypes.PPT]=xe.a,t[c.fileTypes.MP3]=Tr.a,t[c.fileTypes.ZIP]=Ti.a,t[c.fileTypes.MP4]=ti.a,t[c.fileTypes.WPS]=Fi.a,t)[Xi(e.type)]||R.a}function aa(e){var t;return Vi.helper.isSpace(e)?Wi(e):((t={})[c.fileTypes.folder.type]=Kt.a,t[c.fileTypes.newdoc.type]=V.a,t[c.fileTypes.modoc.name]=Rt.a,t[c.fileTypes.sheet.type]=pe.a,t[c.fileTypes.slide.type]=Ue.a,t[c.fileTypes.mindmap.type]=it.a,t[c.fileTypes.form.type]=En.a,t[c.fileTypes.board.type]=Mn.a,t[c.fileTypes.IMG]=$n.a,t[c.fileTypes.PDF]=yr.a,t[c.fileTypes.XLS]=pe.a,t[c.fileTypes.DOCX]=V.a,t[c.fileTypes.PPT]=Ue.a,t[c.fileTypes.MP3]=ur.a,t[c.fileTypes.ZIP]=ui.a,t[c.fileTypes.MP4]=$r.a,t[c.fileTypes.WPS]=yi.a,t)[Xi(e.type)]||m.a}function oa(e){var t;return Vi.helper.isSpace(e)?Wi(e):((t={})[c.fileTypes.folder.type]=Jt.a,t[c.fileTypes.newdoc.type]=K.a,t[c.fileTypes.modoc.name]=Nt.a,t[c.fileTypes.sheet.type]=me.a,t[c.fileTypes.slide.type]=we.a,t[c.fileTypes.mindmap.type]=ot.a,t[c.fileTypes.form.type]=On.a,t[c.fileTypes.board.type]=Fn.a,t[c.fileTypes.IMG]=Hn.a,t[c.fileTypes.PDF]=Ir.a,t[c.fileTypes.XLS]=me.a,t[c.fileTypes.DOCX]=K.a,t[c.fileTypes.PPT]=we.a,t[c.fileTypes.MP3]=ar.a,t[c.fileTypes.ZIP]=ai.a,t[c.fileTypes.MP4]=Hr.a,t[c.fileTypes.WPS]=Ii.a,t)[Xi(e.type)]||l.a}function sa(e){var t,n=__RUNTIME_ENV__.PRIVATE_DEPLOY_FAVICON||"https://assets.smcdn.cn/from_qbox/favicon.ico";if(!e)return n;var r="modoc"===e?"modoc":Object(s.toFileTypeStr)(e);return((t={})[c.fileTypes.folder.type]="https://assets.smcdn.cn/from_qbox/folder_favicon.ico",t[c.fileTypes.newdoc.type]="https://assets.smcdn.cn/from_qbox/doc_favicon.ico",t[c.fileTypes.modoc.name]="https://assets.smcdn.cn/from_qbox/docx_favicon.ico",t[c.fileTypes.sheet.type]="https://assets.smcdn.cn/from_qbox/sheet_favicon.ico",t[c.fileTypes.slide.type]="https://assets.smcdn.cn/from_qbox/slide_favicon.ico",t[c.fileTypes.mindmap.type]="https://assets.smcdn.cn/from_qbox/mindmap_favicon.ico",t[c.fileTypes.form.type]="https://assets.smcdn.cn/from_qbox/form_favicon.ico",t[c.fileTypes.board.type]="https://assets.smcdn.cn/from_qbox/board_favicon.ico",t)[r]||n}(o=a=a||{}).UNKNOWN_SHARE_MODE="unknown_share_mode",o.PRIVATE="private",o.READONLY="readonly",o.EDITABLE="editable",o.ENTERPRISE_READONLY="enterprise_readonly",o.ENTERPRISE_EDITABLE="enterprise_editable",o.ENTERPRISE_COMMENTABLE="enterprise_commentable";var ca={starIcon:{left:26,top:2},collaboratorIcon:{left:30,top:49},collaboratorCountIcon:{left:50,top:48}},ua={starIcon:{left:23,top:20},collaboratorIcon:{left:29,top:49},collaboratorCountIcon:{left:49,top:48}},da={starIcon:{left:23,top:22},collaboratorIcon:{left:33,top:34},collaboratorCountIcon:{left:58,top:30}},fa=function(e){var t,n=ca;return((t={})[c.fileTypes.folder.type]=da,t[c.fileTypes.newdoc.type]=ca,t[c.fileTypes.modoc.name]=ca,t[c.fileTypes.sheet.type]=ua,t[c.fileTypes.slide.type]=ua,t[c.fileTypes.mindmap.type]=ua,t[c.fileTypes.form.type]=ca,t[c.fileTypes.board.type]=ua,t[c.fileTypes.IMG]=ua,t[c.fileTypes.PDF]=ca,t[c.fileTypes.XLS]=ua,t[c.fileTypes.DOCX]=ca,t[c.fileTypes.PPT]=ua,t[c.fileTypes.MP3]=ca,t[c.fileTypes.ZIP]=ca,t[c.fileTypes.MP4]=ca,t[c.fileTypes.WPS]=ca,t)[Object(s.toFileTypeStr)(e.type,!0)]||n},la=n(155),_a=n(5),pa=n(51),Ea=n.n(pa);function ma(n,r){return void 0===r&&(r={}),Object(_a.__awaiter)(this,void 0,void 0,function(){var t;return Object(_a.__generator)(this,function(e){switch(e.label){case 0:r.err&&r.err.stack,t=Object(_a.__assign)(Object(_a.__assign)({},r),{err:r.err?r.err.stack||r.err.message:"",url:location.href,msg:n}),__RUNTIME_ENV__.SENTRY_ENABLE&&(r.err&&r.err instanceof Error?Ea.a.captureException(r.err):Ea.a.captureMessage(n)),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,fetch("/api/log/jserror",{method:"post",headers:{},body:function(r){return Object.keys(r).reduce(function(e,t){var n=t+"="+encodeURIComponent(r[t]||"");return e.concat(0<e.length?"&"+n:n)},[]).join("")}(t)})];case 2:return e.sent(),[3,4];case 3:return e.sent(),[3,4];case 4:return[2]}})})}var Oa=function(){var e=this;this.start=function(){e.timer=new Date},this.stop=function(){if(!e.timer)throw new Error("call Timer.start first");return Date.now()-e.timer.getTime()}},ba=ma,Ta=n(53);n.d(t,"b",function(){return s}),n.d(t,"c",function(){return r}),n.d(t,"d",function(){return i}),n.d(t,"e",function(){return la}),n.d(t,"a",function(){return Ta})}]]);
//# sourceMappingURL=shimo.6dc7686c.js.map